{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@euler-material/ecm-ui/lib/org-tree/index.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./src/views/bpm/execution-enter-adjust/Index.vue?62ad","webpack:///./src/views/bpm/execution-enter-adjust/ExecutionEnterAdjustForm.vue?470d","webpack:///src/views/bpm/execution-enter-adjust/ExecutionEnterAdjustForm.vue","webpack:///./src/views/bpm/execution-enter-adjust/ExecutionEnterAdjustForm.vue?734f","webpack:///./src/views/bpm/execution-enter-adjust/ExecutionEnterAdjustForm.vue","webpack:///./src/views/bpm/execution-enter-adjust/ExecutionEnterAdjustAdd.vue?6794","webpack:///src/views/bpm/execution-enter-adjust/ExecutionEnterAdjustAdd.vue","webpack:///./src/views/bpm/execution-enter-adjust/ExecutionEnterAdjustAdd.vue?4da9","webpack:///./src/views/bpm/execution-enter-adjust/ExecutionEnterAdjustAdd.vue","webpack:///./src/views/bpm/execution-enter-adjust/Detail.vue?979d","webpack:///src/views/bpm/execution-enter-adjust/Detail.vue","webpack:///./src/views/bpm/execution-enter-adjust/Detail.vue?cefc","webpack:///./src/views/bpm/execution-enter-adjust/Detail.vue","webpack:///src/views/bpm/execution-enter-adjust/Index.vue","webpack:///./src/views/bpm/execution-enter-adjust/Index.vue?ea71","webpack:///./src/views/bpm/execution-enter-adjust/Index.vue","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./src/views/bpm/execution-enter-adjust/Index.vue?7fe1","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/objectSpread2.js"],"names":["_nonIterableSpread","TypeError","module","exports","__esModule","e","483","t","a","r","i","s","l","n","c","o","options","render","staticRenderFns","_compiled","functional","_scopeId","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","h","d","beforeCreate","concat","Z","51","H_","Qb","componentPrefix","classPrefix","prototype","657","default","p","_self","_c","staticClass","_t","isSearch","style","padding","searchPadding","staticStyle","width","attrs","value","selectedValue","placeholder","on","search","onSelectSearch","select","onSelectChange","rightClick","oRightClick","_l","selectOption","key","title","span","isShowParent","_v","_s","color","getNameBy","tmpSearchOption","pkey","_e","margin","spinning","fetching","lazy","_b","ref","blockNode","multiple","checkedKeys","treeCheckedKeys","checkable","selectable","expandedKeys","treeExpandedKeys","selectedKeys","treeSelectedKeys","loadedKeys","treeLoadedKeys","treeData","loadData","handleLoadLazyData","onSelectTree","check","onCheckTree","expand","onExpandTree","load","onLazyLoad","scopedSlots","_u","fn","id","treeType","action","$attrs","replaceFields","Array","isArray","length","inheritAttrs","name","components","Select","Row","Col","Divider","Spin","Empty","Tree","props","type","String","Boolean","join","Object","children","activeFirst","beforeSelect","Function","beforeCheck","initLevel","Number","fetchData","required","fetchDataById","fetchDataByName","valueField","params","data","debounce","computed","watch","handler","isRefEqual","handleTreeData","deep","immediate","methods","then","cloneDeep","filter","listFormatTree","map","includes","$emit","onSelectTreeFn","handleTreeByCode","setTimeout","onScrollIntoView","finally","push","code","Promise","all","treeFormatList","flattenDeep","uniqueBy","handleLoadMore","forEach","getExpandedKeys","from","Set","dataRef","test","handlerSearch","catch","indexOf","filterList","handleReturnValue","assign","getNodeBy","event","selected","node","$nextTick","document","querySelector","scrollIntoView","behavior","block","getElementById","getSelectedBy","joinSelectOption","checkOption","y","install","component","632","require","142","defineProperty","enumerable","get","hasOwnProperty","_g","fetchGetTree","fetchGetTreeById","fetchGetTreeByName","onSelectTreeData","$listeners","slot","SelectTree","baseUrl","treeApi","treeApiById","treeApiByName","allowClear","limitLevel","validator","otherParams","Reflect","deleteProperty","$ec","http","send","orgLevelNum","bizCode","rows","orgName","onRefreshTree","$refs","org","_iterableToArray","iter","Symbol","iterator","arrayLikeToArray","_arrayWithoutHoles","arr","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_slicedToArray","_vm","_h","$createElement","$event","table","pageAction","onReset","model","queryItems","callback","$$v","$set","expression","proxy","leafTypeEk","leafTypeCode","leafTypeName","item","onAdd","onDel","onSubmit","handleUnitParse","weightUnit","weightUnitCd","weightUnitName","areaUnit","areaUnitCd","areaUnitName","pagination","tableData","loading","footerMethod","handlePagination","selectAllEvent","selectRowChange","row","submitState","onEdit","onDetail","onQuery","visible","onclose","nowYear","formData","rules","disabled","index","handleChangeOprType","resolveData","planTotalWeight","planInnerWeight","planExportWeight","planPlantArea","saving","trigger","mode","handleCurrentDataChange","onSave","isEditor","orgCode","rowData","isShowSaveAndAdd","ruleForm","leafTypeList","oldObjData","workOptType","oprType","remark","beforeAjustData","message","handleGetBeforeAdjustData","beforeData","_","busiYear","console","handleResolveDataParse","obj","handleDataParse","field","rowObj","show","selectRow","currentAdjustData","signId","sumNum","list","count","handleAfterAdjustData","columns","afterAdjustData","handleBeforeSaveAdjustData","copyOldObjData","copyTableData","valid","saveData","updateAdjustData","handleFormChange","OrgPicker","OrgTree","DivisionPicker","orgCodeList","addAdjustData","handleSaveAfter","oprTypeName","handleGetLeafTypeList","ExecutionEnterAdjustForm","ExecutionEnterAdjustAdd","Detail","auditState","leafTypeCd","oldDataRow","workSubmitState","workAuditState","weightUnitList","isSelected","areaUnitList","pageNumber","pageSize","total","appConfig","created","handleOlDataRow","newTableData","res","orgObj","appCode","yearTypeCode","busiYearObj","pageNo","queryAdjust","leafTypeObj","weightUnitObj","areaUnitObj","selectedRows","leafTypeDataSource","content","onOk","idList","oprRecordIds","handleData","handleLeafTypeName","typeCd","column","checked","JSON","arrayWithoutHoles","iterableToArray","nonIterableSpread","_toConsumableArray","_arrayLikeToArray","len","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","done","f","err","normalCompletion","didErr","step","next","_e2","_unsupportedIterableToArray","minLen","toString","slice","constructor","_defineProperty","configurable","writable","_iterableToArrayLimit","_i","_arr","_n","_d","_arrayWithHoles","_nonIterableRest","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","_asyncToGenerator","self","args","arguments","apply","undefined","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","target","source","getOwnPropertyDescriptors","defineProperties"],"mappings":"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,2DACA,GAIAC,gBA7DA,SA6DAvL,GACA,QAaA,OAZAsL,oCACA7L,qDACA,OACA6L,oCACA7L,qDACA,OACA6L,sCACA7L,sDACA,OACA6L,gCACA7L,iDACA,OACA,GAIAyK,wBA/EA,SA+EArB,EAAA2C,GACA,QACA,kDACA,mCACA,gCACA,QACA,iCACA,wBACAC,uBAEA,yBACAA,wBAEA,mCACA,gCACA,mBAEA,YADAA,qBAGA,uBACAA,oBAGA,iDACA,8BAIAC,KA3GA,SA2GA7C,GAAA,0JACA,aACA,SACA8C,EAAA9C,eACA,2CAEA,0CACA,0CACA,gDACA,0CACA,oCACA,0CACA,iCACA,oBACA,8BAEA,aACA,sBACA,cAEA,YACApB,4BACAqF,mBACAlC,YACAC,eAxBA,+CA4BAiB,OAvIA,SAuIAC,EAAAP,GACA,QACA,wBAsBA,MArBA,QACAO,uBACAX,gCACA,QACA/Q,aACA2R,mBAGAD,uBACAX,gCACA,QACA/Q,aACA,eACA,aACA2R,gBAEAA,mBAKA,cAGAC,sBAlKA,WAkKA,WAGA,2EACA,GACA7N,WACAyN,gBAEAK,uBACAC,gCAEA,wBAIAC,2BAjLA,WAiLA,WACA,6CACA,KACA,wBAiCA,OAhCAC,8BACAA,0CACAA,oCACAA,YACAA,wBACAA,6BAEAC,uBACA,QAEA,sBACAD,gEACAA,gEACAA,kEACAA,2DAGA,uBACAA,8DACAA,8DACAA,gEACAA,yDAGA,qBACAA,gEACAA,gEACAA,kEACAA,8DAGAjB,qDACA,GAIAjB,OAzNA,SAyNArL,GAAA,WACA,6LAEAyN,EAFA,iDAGA,YACAvM,EAAA,WACAoL,0DAEAoB,EAAA,+BACA,2BACAO,cAAAP,GACA9L,MAAA,YACA0K,+BACA,UACA,YACA,2BAGA,uBAEA,YACA,6BAGA/I,OAAA,YACA+I,eACA,eAzBA,mGA+BA4B,gBAzPA,SAyPAlO,GAAA,6JACA,mBACA,YAEAA,iBAJA,wBAKA,eALA,SAMA,8BANA,OAOA,oCAGA8M,EAAA,CACAxN,YACAyN,iBACAlC,kBACAC,kBACAC,mBACAC,iBAEA,oBAEA,0BAGA,YACArC,4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","file":"js/chunk-52bbbd88.5648d599.js","sourcesContent":["function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","(function(){\"use strict\";var e={483:function(e,t,a){function r(e,t,a,r,i,s,l,n){var c,o=\"function\"===typeof e?e.options:e;if(t&&(o.render=t,o.staticRenderFns=a,o._compiled=!0),r&&(o.functional=!0),s&&(o._scopeId=\"data-v-\"+s),l?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||\"undefined\"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},o._ssrRegister=c):i&&(c=n?function(){i.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(o.functional){o._injectStyles=c;var h=o.render;o.render=function(e,t){return c.call(t),h(e,t)}}else{var d=o.beforeCreate;o.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:o}}a.d(t,{Z:function(){return r}})},51:function(e,t,a){a.d(t,{H_:function(){return s},Qb:function(){return l}});const r=\"Ecm\",i=\"$ecm\",s=e=>e?.componentPrefix??r,l=(e,t)=>{const a=e;t&&t.classPrefix&&(a.prototype[i]={...a.prototype[i]??{},classPrefix:t.classPrefix})}},657:function(e,t,a){a.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tree-search\"},[e._t(\"title\"),e.isSearch?t(\"div\",{staticClass:\"tree-search-select\",style:{padding:e.searchPadding}},[t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{\"show-search\":\"\",value:e.selectedValue,placeholder:e.placeholder,\"default-active-first-option\":!1,\"show-arrow\":!1,\"filter-option\":!1,\"not-found-content\":null},on:{search:e.onSelectSearch,select:e.onSelectChange,rightClick:e.oRightClick}},e._l(e.selectOption,(function(a){return t(\"a-select-option\",{key:a.key,attrs:{value:a.key,title:`${a.title}`}},[t(\"a-row\",[t(\"a-col\",{staticClass:\"ellipsis\",attrs:{span:e.isShowParent?18:24,title:a.title}},[e._v(e._s(a.title))]),t(\"a-col\",{staticClass:\"ellipsis\",staticStyle:{color:\"#ccc\",\"font-size\":\"12px\"},attrs:{span:e.isShowParent?6:0,title:e.getNameBy(e.tmpSearchOption,a.pkey)}},[e._v(e._s(e.getNameBy(e.tmpSearchOption,a.pkey)))])],1)],1)})),1)],1):e._e(),e.isSearch?t(\"a-divider\",{staticStyle:{margin:\"8px 0\"}}):e._e(),t(\"div\",{staticClass:\"tree-search-tree\"},[t(\"a-spin\",{staticClass:\"spin\",attrs:{spinning:e.fetching}}),e.lazy?t(\"a-tree\",e._b({ref:\"treeRef\",attrs:{blockNode:!0,multiple:e.multiple,checkedKeys:e.treeCheckedKeys,checkable:e.checkable,selectable:e.selectable,expandedKeys:e.treeExpandedKeys,selectedKeys:e.treeSelectedKeys,loadedKeys:e.treeLoadedKeys,\"tree-data\":e.treeData,loadData:e.handleLoadLazyData},on:{select:e.onSelectTree,check:e.onCheckTree,expand:e.onExpandTree,load:e.onLazyLoad,rightClick:e.oRightClick},scopedSlots:e._u([{key:\"title\",fn:function(a){return[t(\"span\",{attrs:{id:`${e.treeType}_${a.key}`}},[e._v(e._s(a.title))]),e._t(\"action\",null,{action:a})]}}],null,!0)},\"a-tree\",e.$attrs,!1)):t(\"a-tree\",e._b({ref:\"treeRef\",attrs:{blockNode:!0,checkable:e.checkable,selectable:e.selectable,multiple:e.multiple,checkedKeys:e.treeCheckedKeys,expandedKeys:e.treeExpandedKeys,selectedKeys:e.treeSelectedKeys,\"tree-data\":e.treeData,replaceFields:e.replaceFields},on:{select:e.onSelectTree,check:e.onCheckTree,expand:e.onExpandTree},scopedSlots:e._u([{key:\"title\",fn:function(a){return[t(\"span\",{attrs:{id:`${e.treeType}_${a.key}`}},[e._v(e._s(a.title))]),e._t(\"action\",null,{action:a})]}}],null,!0)},\"a-tree\",e.$attrs,!1)),e.fetching||e.treeData&&(!Array.isArray(e.treeData)||0!==e.treeData.length)?e._e():t(\"a-empty\",{staticClass:\"spin\"})],1)],2)},i=[],s=a(632),l=a(142),n={inheritAttrs:!1,name:\"SelectTree\",components:{[l.Select.name]:l.Select,[l.Row.name]:l.Row,[l.Col.name]:l.Col,[l.Divider.name]:l.Divider,[l.Spin.name]:l.Spin,[l.Empty.name]:l.Empty,[l.Tree.name]:l.Tree},props:{treeType:{type:String,default:\"st\"},selectedKeys:{type:Array,default:null},checkedKeys:{type:Array,default:null},expandedKeys:{type:Array,default:null},lazy:{type:Boolean,default:!0},selectable:{type:Boolean,default:!0},checkable:{type:Boolean,default:!1},searchPadding:{type:String,default:\"12px 12px 6px\"},placeholder:{type:String,default:\"请输入关键词筛选\"},multiple:{type:Boolean,default:!1},join:{type:[String,Boolean],default:\",\"},isShowParent:{type:Boolean,default:!1},replaceFields:{type:Object,default:()=>({pkey:\"pkey\",title:\"title\",key:\"key\",children:\"children\"})},search:{type:Boolean,default:!0},activeFirst:{type:Boolean,default:!1},beforeSelect:{type:Function,default:null},beforeCheck:{type:Function,default:null},initLevel:{type:Number,default:2},fetchData:{type:Function,required:!0},fetchDataById:{type:Function},fetchDataByName:{type:Function},valueField:{type:String,default:\"key\"},params:{type:Object,default:()=>({})}},data(){return this.onSelectSearch=(0,s.debounce)(this.onSelectSearch,500),{fetching:!1,selectedValue:void 0,treeCheckedKeys:[],treeSelectedKeys:[],treeExpandedKeys:[],treeLoadedKeys:[],treeData:[],selectOption:[],tmpSearchOption:[]}},computed:{isSearch(){return this.search&&(this.treeData||Array.isArray(this.treeData)&&0!==this.treeData.length)}},watch:{params:{handler(e,t){(0,s.isRefEqual)(e,t)||this.handleTreeData(e)},deep:!0,immediate:!0},checkedKeys:{handler(e){this.treeCheckedKeys=e},deep:!0,immediate:!0},selectedKeys:{handler(e){this.treeSelectedKeys=e},deep:!0,immediate:!0},expandedKeys:{handler(e){this.treeExpandedKeys=e},deep:!0,immediate:!0}},methods:{getNameBy:s.getNameBy,handleTreeData(e){this.fetching=!0,this.treeLoadedKeys=[],this.treeExpandedKeys=[],this.treeData=[];try{this.fetchData(e).then((async e=>{const t=(0,s.cloneDeep)(e).filter((e=>!e.pkey))[0];this.treeData=(0,s.listFormatTree)(e,this.replaceFields);const a=e.map((e=>e.key)).filter((e=>e)),r=(this.selectedKeys||[]).filter((e=>!a.includes(e)));Array.isArray(this.treeData)&&0!==this.treeData.length&&(this.treeExpandedKeys=[t.key],this.$emit(\"expand\",this.treeExpandedKeys),this.activeFirst&&this.onSelectTreeFn(t.key)),0!==r.length&&await this.handleTreeByCode(r),Array.isArray(this.treeSelectedKeys)&&0!==this.treeSelectedKeys.length&&setTimeout((()=>{this.onScrollIntoView(this.treeSelectedKeys[0])}),500)})).finally((()=>{this.fetching=!1}))}catch{this.treeData=[]}},async handleTreeByCode(e){const t=Array.isArray(e)?e:[e];this.fetching=!0;try{if(this.lazy){const e=[];for(const s of t)s&&e.push(this.fetchDataById({...this.params,code:s}));const a=await Promise.all(e),r=(0,s.treeFormatList)(this.treeData,this.replaceFields),i=(0,s.flattenDeep)(a),l=r.map((e=>e.key)).filter((e=>e)),n=i.filter((e=>!l.includes(e.key))),c=n.map((e=>e.pkey)),o=(0,s.uniqueBy)(c);0!==o.length&&await this.handleLoadMore(o)}t.forEach((e=>{const t=(0,s.getExpandedKeys)(this.treeData,e,this.replaceFields);this.treeExpandedKeys=Array.from(new Set([...t,...this.treeExpandedKeys]))}))}catch{}this.fetching=!1},async handleLoadMore(e){this.fetching=!0;const t=[];for(const s of e)s&&t.push(this.fetchData({...this.params,code:s}));const a=await Promise.all(t),r=(0,s.flattenDeep)(a),i=(0,s.treeFormatList)(this.treeData),l=(0,s.uniqueBy)([...i,...r]);this.treeData=(0,s.listFormatTree)(l,this.replaceFields),this.fetching=!1},handleLoadLazyData(e){const t=e;return new Promise((e=>{t.dataRef.children?e():this.fetchData({...this.params,code:t.dataRef.key}).then((a=>{const r=(0,s.uniqueBy)(a,\"key\");t.dataRef.children=[...r],this.treeData=[...this.treeData],e(r)})).finally((()=>{this.fetching=!1}))}))},onSelectSearch(e){/^\\s*$/.test(e)||(this.handlerSearch(e),this.$emit(\"search\",e))},async handlerSearch(e){if(this.lazy){const t=await this.fetchDataByName({...this.params,name:e}).catch((e=>{})),a=(0,s.uniqueBy)(t,\"key\");this.tmpSearchOption=(0,s.cloneDeep)(a)||[],this.selectOption=a.filter((t=>String(t?.title).indexOf(e)>-1))}else this.selectOption=(0,s.filterList)(this.treeData,(t=>String(t?.title).indexOf(e)>-1),this.replaceFields)},handleReturnValue(e){return Array.isArray(e)&&this.multiple?e:Array.isArray(e)&&0!==e.length?e[0]:Array.isArray(e)&&0===e.length?this.multiple?e:null:e},async onSelectChange(e){const t=Array.isArray(e)?e:[e],a=(0,s.cloneDeep)(this.selectOption).filter((e=>t.includes(e.key)));if(this.lazy){const e=(0,s.treeFormatList)(this.treeData,this.replaceFields),t=e.map((e=>e.key)).filter((e=>e)),a=this.tmpSearchOption.filter((e=>!t.includes(e.key))),r=a.map((e=>e.pkey));0!==r.length&&await this.handleLoadMore(r)}const r=(0,s.getExpandedKeys)(this.treeData,Array.isArray(e)&&0!==e.length?e[0]:e,this.replaceFields);this.multiple?!this.treeSelectedKeys.includes(t)&&this.treeSelectedKeys.push(...t):this.treeSelectedKeys=t,Object.assign(this,{selectedValue:t,treeExpandedKeys:r,selectOption:a,fetching:!1}),this.onSelectTreeFn(e)},onExpandTree(e,t){this.treeExpandedKeys=Array.isArray(e)?e:[e],this.$emit(\"expand\",this.treeExpandedKeys,t)},async onSelectTreeFn(e){const t=Array.isArray(e)?e:[e],a=Array.isArray(e)&&0!==e.length?e[0]:e,r=(0,s.treeFormatList)(this.treeData,this.replaceFields),i=r.map((e=>e.key)).filter((e=>e));if(!i.includes(a)){const e=await this.fetchDataById({code:a}),t=await(0,s.uniqueBy)([...r,...e]);this.treeData=await(0,s.listFormatTree)(t)}const l=(0,s.getNodeBy)(this.treeData,a),n=(0,s.getExpandedKeys)(this.treeData,a),c=Array.from(new Set(this.multiple?[...this.treeSelectedKeys,...t]:t));this.expandedKeys=[...this.expandedKeys,...n],this.onSelectTree(c,{event:\"select\",selected:!0,node:{dataRef:l}})},onScrollIntoView(e){this.$nextTick((()=>{const t=document.querySelector(\".select-picker-modal\");t?document.querySelector(`.select-picker-modal #${this.treeType}_${e}`)?.scrollIntoView({behavior:\"smooth\",block:\"center\"}):document.getElementById(`${this.treeType}_${e}`)?.scrollIntoView({behavior:\"smooth\",block:\"center\"})}))},async onSelectTree(e,t){this.beforeSelect&&await this.beforeSelect(e,t);const a=Array.isArray(e)?e:[e],r=t.node.dataRef.key;Object.assign(this,{treeSelectedKeys:a});const i=(0,s.uniqueBy)((0,s.filterList)(this.treeData,(e=>this.treeSelectedKeys.includes(e.key)),this.replaceFields));let l=[];this.join&&(l=i.map((e=>{const t={};for(const a in e)a&&(t[a]=(0,s.getSelectedBy)(this.treeData,r,a,this.replaceFields).join(\"string\"===typeof this.join?this.join:\",\"));return t})));const n=i.map((e=>e[this.valueField])),c=this.handleReturnValue(n),o=this.handleReturnValue(i),h=this.handleReturnValue(l);this.$emit(\"select\",{treeSelectedKeys:c,selectOption:o,joinSelectOption:h,treeData:(0,s.cloneDeep)(this.treeData)},t),Array.isArray(this.selectedValue)&&0!==this.selectedValue.length&&this.selectedValue[0]!==r&&(this.selectedValue=void 0,this.selectOption=[]),this.onScrollIntoView(r)},async onCheckTree(e,t){this.beforeCheck&&await this.beforeCheck(e,t);const a=Array.isArray(e)?e:[e],r=t.node.dataRef.key;Object.assign(this,{treeCheckedKeys:a});const i=(0,s.uniqueBy)((0,s.filterList)(this.treeData,(e=>this.treeCheckedKeys.includes(e.key)),this.replaceFields)),l=i.map((e=>e[this.valueField]));this.$emit(\"check\",{treeCheckedKeys:l,checkOption:i,treeData:(0,s.cloneDeep)(this.treeData)},t),Array.isArray(this.selectedValue)&&0!==this.selectedValue.length&&this.selectedValue[0]!==r&&(this.selectedValue=void 0,this.selectOption=[]),this.onScrollIntoView(r)},oRightClick(e){this.$emit(\"rightClick\",e)},onLazyLoad(e){this.treeLoadedKeys=e}}},c=n,o=a(483),h=(0,o.Z)(c,r,i,!1,null,null,null),d=h.exports,y=a(51);d.install=function(e,t){(0,y.Qb)(e,t);const a=(0,y.H_)(t);e.component(a+d.name,d)};var p=d},632:function(e){e.exports=require(\"@euler-material/ecm-utils\")},142:function(e){e.exports=require(\"ant-design-vue\")}},t={};function a(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}!function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var r={};!function(){a.d(r,{default:function(){return y}});var e=function(){var e=this,t=e._self._c;return t(\"SelectTree\",e._g(e._b({ref:\"org\",attrs:{treeType:\"ort\",lazy:e.lazy,join:e.join,search:e.search,activeFirst:e.activeFirst,multiple:e.multiple,initLevel:e.initLevel,fetchData:e.fetchGetTree,fetchDataById:e.fetchGetTreeById,fetchDataByName:e.fetchGetTreeByName,replaceFields:e.replaceFields,valueField:e.valueField,isShowParent:e.isShowParent,params:e.params},on:{select:e.onSelectTreeData}},\"SelectTree\",e.$attrs,!1),e.$listeners),[t(\"template\",{slot:\"title\"},[e._t(\"title\")],2)],2)},t=[],i=a(657),s=a(632),l={inheritAttrs:!1,name:\"OrgTree\",components:{SelectTree:i[\"default\"]},props:{baseUrl:{type:String,default:\"/dts/bim\"},treeApi:{type:String,default:\"/q/cmTOrgMain/getCmTOrgMainTreeDataList/v1\"},treeApiById:{type:String,default:\"/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgUniqueCode/v1\"},treeApiByName:{type:String,default:\"/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgName/v1\"},placeholder:{type:String,default:\"请选择关键词搜索\"},multiple:{type:Boolean,default:!1},isShowParent:{type:Boolean,default:!1},activeFirst:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},initLevel:{type:[Number,null],default:2},limitLevel:{type:[Number,String,null],validator(e){return[1,2,3,4,5,6].includes(Number(e))},default:null},replaceFields:{type:Object,default:()=>({pkey:\"pkey\",title:\"title\",key:\"key\",children:\"children\"})},valueField:{type:String,default:\"key\"},join:{type:[String,Boolean],default:!1},search:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0},params:{type:Object,default:()=>{}}},data(){return{otherParams:{}}},methods:{fetchGetTree(e){return new Promise(((t,a)=>{const r=e?.code;r&&Reflect.deleteProperty(e,\"code\"),$ec.http.send(this.baseUrl+this.treeApi,{orgLevelNum:this.limitLevel,bizCode:r,...e,...this.otherParams}).then((({rows:e})=>{const a=(0,s.treeFormatList)(e,this.replaceFields);t(a)})).catch((e=>{a(e)})).finally((()=>{}))}))},fetchGetTreeById(e){return new Promise(((t,a)=>{const r=e?.code;r&&Reflect.deleteProperty(e,\"code\"),$ec.http.send(this.baseUrl+this.treeApiById,{orgLevelNum:this.limitLevel,bizCode:r,...e,...this.otherParams}).then((({rows:e})=>{const a=(0,s.treeFormatList)(e,this.replaceFields);t(a)})).catch((e=>{a(e)})).finally((()=>{}))}))},fetchGetTreeByName(e){return new Promise(((t,a)=>{const r=e?.name;r&&Reflect.deleteProperty(e,\"name\"),$ec.http.send(this.baseUrl+this.treeApiByName,{orgLevelNum:this.limitLevel,orgName:r,...e,...this.otherParams}).then((({rows:e})=>{const a=(0,s.treeFormatList)(e,this.replaceFields);t(a)})).catch((e=>{a(e)})).finally((()=>{}))}))},onSelectTreeData({treeSelectedKeys:e,treeData:t,selectOption:a}){Object.assign(this,{selectedKeys:e,selectOption:a,treeData:t})},onRefreshTree(e){this.otherParams=e,this.$refs.org&&this.$refs.org.handleTreeData(e)},onSelectTreeFn(e){this.$refs.org&&this.$refs.org.onSelectTreeFn(e)}}},n=l,c=a(483),o=(0,c.Z)(n,e,t,!1,null,null,null),h=o.exports,d=a(51);h.install=function(e,t){(0,d.Qb)(e,t);const a=(0,d.H_)(t);e.component(a+h.name,h)};var y=h}(),module.exports=r[\"default\"]})();","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-container',{attrs:{\"height\":\"100%\"}},[_c('ec-container-header',[_c('ec-panel-item',[_c('ec-panel-item-left',[_c('ec-header',{attrs:{\"title\":\"收购计划执行量调整\",\"icon\":\"onetomany\",\"color-code\":\"008\"}})],1)],1)],1),_c('ec-container-body',[_c('ec-panel',{attrs:{\"auto\":false}},[_c('ec-panel-toolbar',[_c('ec-query-panel',{attrs:{\"defaultFold\":true},on:{\"query\":function($event){return _vm.$refs.table.pageAction(1)},\"reset\":_vm.onReset},scopedSlots:_vm._u([{key:\"inner\",fn:function(){return [_c('ec-query-item',{attrs:{\"label\":\"办理依据\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入办理依据\"},model:{value:(_vm.queryItems.remark),callback:function ($$v) {_vm.$set(_vm.queryItems, \"remark\", $$v)},expression:\"queryItems.remark\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"单位名称\"}},[_c('org-picker',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.orgCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"orgCode\", $$v)},expression:\"queryItems.orgCode\"}})],1)]},proxy:true}])},[_c('ec-query-item',{attrs:{\"label\":\"烟叶类型\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.leafTypeCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"leafTypeCode\", $$v)},expression:\"queryItems.leafTypeCode\"}},_vm._l((_vm.leafTypeList),function(leafTypeEk){return _c('a-select-option',{key:leafTypeEk.leafTypeCode},[_vm._v(\" \"+_vm._s(leafTypeEk.leafTypeName)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"提交状态\"}},[_c('a-select',{attrs:{\"allow-clear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.submitState),callback:function ($$v) {_vm.$set(_vm.queryItems, \"submitState\", $$v)},expression:\"queryItems.submitState\"}},_vm._l((_vm.workSubmitState),function(item){return _c('a-select-option',{key:item.id},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"操作类型\"}},[_c('a-select',{attrs:{\"allow-clear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.oprType),callback:function ($$v) {_vm.$set(_vm.queryItems, \"oprType\", $$v)},expression:\"queryItems.oprType\"}},_vm._l((_vm.workOptType),function(item){return _c('a-select-option',{key:item.id},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1)],1),_c('ec-divider')],1),_c('ec-panel-header',[_c('ec-panel-item',[_c('ec-panel-item-left',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onAdd}},[_vm._v(\"新增\")]),_c('a-button',{on:{\"click\":_vm.onDel}},[_vm._v(\"删除\")]),_c('a-button',{on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")])],1),_c('ec-panel-item-right',[_c('a-space',{attrs:{\"size\":15}},[_c('span',[_vm._v(\"重量单位：\"),_c('ec-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},on:{\"select\":function($event){return _vm.handleUnitParse()}},model:{value:(_vm.weightUnit),callback:function ($$v) {_vm.weightUnit=$$v},expression:\"weightUnit\"}},_vm._l((_vm.weightUnitList),function(weightUnit){return _c('a-select-option',{key:weightUnit.weightUnitCd},[_vm._v(\" \"+_vm._s(weightUnit.weightUnitName)+\" \")])}),1)],1),_c('span',[_vm._v(\"面积单位：\"),_c('ec-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},on:{\"select\":function($event){return _vm.handleUnitParse()}},model:{value:(_vm.areaUnit),callback:function ($$v) {_vm.areaUnit=$$v},expression:\"areaUnit\"}},_vm._l((_vm.areaUnitList),function(areaUnit){return _c('a-select-option',{key:areaUnit.areaUnitCd},[_vm._v(\" \"+_vm._s(areaUnit.areaUnitName)+\" \")])}),1)],1)])],1)],1)],1),_c('ec-panel-body',[_c('ec-table',{ref:\"table\",attrs:{\"border\":\"\",\"height\":\"100%\",\"auto\":false,\"pagination\":_vm.pagination,\"data\":_vm.tableData.rows,\"loading\":_vm.loading,\"show-footer\":\"\",\"footer-method\":_vm.footerMethod,\"highlight-current-row\":\"\"},on:{\"page-action\":_vm.handlePagination,\"checkbox-all\":_vm.selectAllEvent,\"checkbox-change\":_vm.selectRowChange}},[_c('ec-table-col',{attrs:{\"type\":\"checkbox\",\"width\":\"50\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"title\":\"序号\",\"type\":\"seq\",\"width\":\"70\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"orgName\",\"title\":\"单位名称\",\"align\":\"left\",\"min-width\":\"200\"}}),_c('ec-table-colgroup',{attrs:{\"title\":\"收购计划执行量\"}},[_c('ec-table-col',{attrs:{\"field\":\"aaPlanTotalWeight\",\"title\":\"合计\",\"align\":\"center\",\"width\":\"120\"}}),_c('ec-table-col',{attrs:{\"field\":\"aaPlanInnerWeight\",\"title\":\"国内\",\"align\":\"center\",\"width\":\"120\"}}),_c('ec-table-col',{attrs:{\"field\":\"aaPlanExportWeight\",\"title\":\"出口备货\",\"align\":\"center\",\"width\":\"120\"}})],1),_c('ec-table-col',{attrs:{\"field\":\"aaPlanPlantArea\",\"title\":\"种植面积\",\"align\":\"right\",\"width\":\"120\"}}),_c('ec-table-col',{attrs:{\"field\":\"remark\",\"title\":\"办理依据\",\"align\":\"left\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"submitState\",\"title\":\"提交状态\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.submitState === '1')?_c('div',[_c('span',[_vm._v(\"已提交\")])]):_c('div',[_c('span',[_vm._v(\"未提交\")])])]}}])}),_c('ec-table-col',{attrs:{\"title\":\"操作\",\"align\":\"center\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.onEdit(row)}}},[_vm._v(\"编辑\")]),_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.onDetail(row)}}},[_vm._v(\"详细\")])]}}])})],1)],1)],1),_c('execution-enter-adjust-form',{ref:\"ExecutionEnterAdjustForm\",on:{\"onQuery\":_vm.onQuery}}),_c('execution-enter-adjust-add',{ref:\"ExecutionEnterAdjustAdd\",on:{\"onQuery\":_vm.onQuery}}),_c('detail',{ref:\"Detail\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":_vm.title,\"visible\":_vm.visible,\"size\":\"large\",\"is-confirm\":true},on:{\"close\":_vm.onclose}},[_c('ec-container',{attrs:{\"height\":\"auto\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',[_c('ec-panel',{attrs:{\"color-code\":\"002\"}},[_c('ec-panel-header',[_c('ec-panel-item-left',{staticClass:\"ec-panel-item-left\"},[_c('div',{staticClass:\"ec-panel-title\"},[_c('div',{staticClass:\"ec-bar bg-color-1\"}),_c('div',{staticClass:\"ec-title\",staticStyle:{\"color\":\"rgb(24, 144, 255)\",\"font-weight\":\"700\"}},[_vm._v(\" 第一步：选取单位、烟叶类型、操作类型 \")])])]),_c('ec-panel-item-right',[_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('span',{staticStyle:{\"margin-left\":\"14px\"}},[_vm._v(\"种植收购年度：\"+_vm._s(_vm.nowYear)+\"年;单位：\"+_vm._s(_vm.weightUnitName)+\"、\"+_vm._s(_vm.areaUnitName))])])])],1),_c('ec-panel-item',[_c('ec-form',{ref:\"ruleForm1\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":12}},[_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{ref:\"leafTypeCode\",attrs:{\"prop\":\"leafTypeCode\",\"label\":\"烟叶类型\"}},[_c('a-select',{attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"请选择\"},model:{value:(_vm.formData.leafTypeCode),callback:function ($$v) {_vm.$set(_vm.formData, \"leafTypeCode\", $$v)},expression:\"formData.leafTypeCode\"}},_vm._l((_vm.leafTypeList),function(item,index){return _c('a-select-option',{key:index,attrs:{\"value\":item.leafTypeCode}},[_vm._v(_vm._s(item.leafTypeName)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{ref:\"orgName\",attrs:{\"label\":\"单位名称\",\"prop\":\"orgName\"}},[_c('a-input-number',{attrs:{\"min\":0,\"placeholder\":\"请输入单位名称\",\"disabled\":_vm.disabled,\"autocomplete\":\"off\"},model:{value:(_vm.formData.orgName),callback:function ($$v) {_vm.$set(_vm.formData, \"orgName\", $$v)},expression:\"formData.orgName\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{ref:\"oprType\",attrs:{\"prop\":\"oprType\",\"label\":\"操作类型\"}},[_c('a-select',{attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"请选择\"},on:{\"select\":_vm.handleChangeOprType},model:{value:(_vm.formData.oprType),callback:function ($$v) {_vm.$set(_vm.formData, \"oprType\", $$v)},expression:\"formData.oprType\"}},_vm._l((_vm.workOptType),function(item){return _c('a-select-option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":12,\"layout\":\"horizontal\"}},[_c('a-form-model-item',{attrs:{\"label\":\"办理依据\"}},[_c('a-textarea',{attrs:{\"max-length\":225},model:{value:(_vm.formData.remark),callback:function ($$v) {_vm.$set(_vm.formData, \"remark\", $$v)},expression:\"formData.remark\"}})],1)],1)],1)],1)],1)],1),_c('ec-panel',{attrs:{\"color-code\":\"002\"}},[_c('ec-panel-header',[_c('ec-panel-item-left',{staticClass:\"ec-panel-item-left\"},[_c('div',{staticClass:\"ec-panel-title\"},[_c('div',{staticClass:\"ec-bar bg-color-1\"}),_c('div',{staticClass:\"ec-title\",staticStyle:{\"color\":\"rgb(24, 144, 255)\",\"font-weight\":\"700\"}},[_vm._v(\" 第二步：录入/编辑数量 \")])])])],1),_c('ec-panel-item',[_c('a-alert',{attrs:{\"type\":\"warning\"}},[_c('div',{staticStyle:{\"color\":\"#1890ff\"},attrs:{\"slot\":\"message\"},slot:\"message\"},[_vm._v(\" \"+_vm._s(_vm.formData.orgName)+\"已分解收购计划执行量： \"),_c('span',{staticStyle:{\"color\":\"#1890ff\",\"font-weight\":\"700\"}},[_vm._v(_vm._s(_vm.resolveData.planTotalWeight))]),_vm._v(\" \"+_vm._s(_vm.weightUnitName)+\"(其中国内：\"+_vm._s(_vm.resolveData.planInnerWeight)+_vm._s(_vm.weightUnitName)+\"、出口备货：\"+_vm._s(_vm.resolveData.planExportWeight)+_vm._s(_vm.weightUnitName)+\")，种植面积：\"+_vm._s(_vm.resolveData.planPlantArea)+_vm._s(_vm.areaUnitName)+\" \")])])],1),_c('ec-panel-body',[_c('ec-table',{ref:\"xTable\",staticClass:\"my-xtable-antd\",attrs:{\"border\":\"\",\"show-overflow\":\"\",\"keep-source\":\"\",\"loading\":_vm.saving,\"data\":_vm.tableData,\"edit-config\":{\n              trigger: 'click',\n              mode: 'row',\n            }}},[_c('ec-table-col',{attrs:{\"field\":\"name\",\"title\":\"\",\"align\":\"left\",\"width\":\"150\"}}),_c('ec-table-colgroup',{attrs:{\"title\":\"收购计划执行量\"}},[_c('ec-table-col',{attrs:{\"field\":\"planTotalWeight\",\"title\":\"合计\",\"align\":\"center\",\"width\":\"200\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\n            var row = ref.row;\nreturn [(row.name === '本次调整')?_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleCurrentDataChange(row, 'planTotalWeight')}},model:{value:(row.planTotalWeight),callback:function ($$v) {_vm.$set(row, \"planTotalWeight\", $$v)},expression:\"row.planTotalWeight\"}}):[_vm._v(_vm._s(row.planTotalWeight))]]}}])}),_c('ec-table-col',{attrs:{\"field\":\"planInnerWeight\",\"title\":\"国内\",\"align\":\"center\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"planExportWeight\",\"title\":\"出口备货\",\"width\":\"200\",\"align\":\"center\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\n            var row = ref.row;\nreturn [(row.name === '本次调整')?_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleCurrentDataChange(row, 'planExportWeight')}},model:{value:(row.planExportWeight),callback:function ($$v) {_vm.$set(row, \"planExportWeight\", $$v)},expression:\"row.planExportWeight\"}}):[_vm._v(_vm._s(row.planExportWeight))]]}}])})],1),_c('ec-table-col',{attrs:{\"field\":\"planPlantArea\",\"title\":\"种植面积\",\"min-width\":\"150\",\"align\":\"right\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\n            var row = ref.row;\nreturn [(row.name === '本次调整')?_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleCurrentDataChange(row, 'planPlantArea')}},model:{value:(row.planPlantArea),callback:function ($$v) {_vm.$set(row, \"planPlantArea\", $$v)},expression:\"row.planPlantArea\"}}):[_vm._v(_vm._s(row.planPlantArea))]]}}])})],1)],1)],1)],1),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.saving},on:{\"click\":function($event){return _vm.onSave('save')}}},[_vm._v(\"保存\")]),_c('a-button',{on:{\"click\":_vm.onclose}},[_vm._v(\"关闭\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer\r\n    :title=\"title\"\r\n    :visible=\"visible\"\r\n    size=\"large\"\r\n    @close=\"onclose\"\r\n    class=\"ec-draw-form\"\r\n    :is-confirm=\"true\"\r\n  >\r\n    <ec-container height=\"auto\" fixed=\"top bottom\" color-code=\"007\">\r\n      <ec-container-body>\r\n        <ec-panel color-code=\"002\">\r\n          <ec-panel-header>\r\n            <ec-panel-item-left class=\"ec-panel-item-left\">\r\n              <div class=\"ec-panel-title\">\r\n                <div class=\"ec-bar bg-color-1\"></div>\r\n                <div class=\"ec-title\" style=\"color: rgb(24, 144, 255); font-weight: 700\">\r\n                  第一步：选取单位、烟叶类型、操作类型\r\n                </div>\r\n              </div>\r\n            </ec-panel-item-left>\r\n\r\n            <ec-panel-item-right>\r\n              <div style=\"display: inline-block\">\r\n                <span style=\"margin-left: 14px\"\r\n                  >种植收购年度：{{ nowYear }}年;单位：{{ weightUnitName }}、{{\r\n                    areaUnitName\r\n                  }}</span\r\n                >\r\n              </div>\r\n            </ec-panel-item-right>\r\n          </ec-panel-header>\r\n          <ec-panel-item>\r\n            <ec-form ref=\"ruleForm1\" :model=\"formData\" :rules=\"rules\">\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item ref=\"leafTypeCode\" prop=\"leafTypeCode\" label=\"烟叶类型\">\r\n                    <a-select\r\n                      v-model=\"formData.leafTypeCode\"\r\n                      :disabled=\"disabled\"\r\n                      placeholder=\"请选择\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"(item, index) in leafTypeList\"\r\n                        :key=\"index\"\r\n                        :value=\"item.leafTypeCode\"\r\n                        >{{ item.leafTypeName }}\r\n                      </a-select-option>\r\n                    </a-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"单位名称\" prop=\"orgName\" ref=\"orgName\">\r\n                    <a-input-number\r\n                      :min=\"0\"\r\n                      v-model=\"formData.orgName\"\r\n                      placeholder=\"请输入单位名称\"\r\n                      :disabled=\"disabled\"\r\n                      autocomplete=\"off\"\r\n                    />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item ref=\"oprType\" prop=\"oprType\" label=\"操作类型\">\r\n                    <a-select\r\n                      v-model=\"formData.oprType\"\r\n                      :disabled=\"disabled\"\r\n                      placeholder=\"请选择\"\r\n                      @select=\"handleChangeOprType\"\r\n                    >\r\n                      <a-select-option v-for=\"item in workOptType\" :key=\"item.id\" :value=\"item.id\"\r\n                        >{{ item.name }}\r\n                      </a-select-option>\r\n                    </a-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"12\" layout=\"horizontal\">\r\n                  <a-form-model-item label=\"办理依据\">\r\n                    <a-textarea v-model=\"formData.remark\" :max-length=\"225\" />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n            </ec-form>\r\n          </ec-panel-item>\r\n        </ec-panel>\r\n\r\n        <ec-panel color-code=\"002\">\r\n          <ec-panel-header>\r\n            <ec-panel-item-left class=\"ec-panel-item-left\">\r\n              <div class=\"ec-panel-title\">\r\n                <div class=\"ec-bar bg-color-1\"></div>\r\n                <div class=\"ec-title\" style=\"color: rgb(24, 144, 255); font-weight: 700\">\r\n                  第二步：录入/编辑数量\r\n                </div>\r\n              </div>\r\n            </ec-panel-item-left>\r\n          </ec-panel-header>\r\n          <ec-panel-item>\r\n            <a-alert type=\"warning\">\r\n              <div slot=\"message\" style=\"color: #1890ff\">\r\n                {{ formData.orgName }}已分解收购计划执行量：\r\n                <span style=\"color: #1890ff; font-weight: 700\">{{\r\n                  resolveData.planTotalWeight\r\n                }}</span>\r\n                {{ weightUnitName }}(其中国内：{{ resolveData.planInnerWeight\r\n                }}{{ weightUnitName }}、出口备货：{{ resolveData.planExportWeight\r\n                }}{{ weightUnitName }})，种植面积：{{ resolveData.planPlantArea }}{{ areaUnitName }}\r\n              </div>\r\n            </a-alert>\r\n          </ec-panel-item>\r\n          <ec-panel-body>\r\n            <ec-table\r\n              border\r\n              show-overflow\r\n              keep-source\r\n              ref=\"xTable\"\r\n              class=\"my-xtable-antd\"\r\n              :loading=\"saving\"\r\n              :data=\"tableData\"\r\n              :edit-config=\"{\r\n                trigger: 'click',\r\n                mode: 'row',\r\n              }\"\r\n            >\r\n              <ec-table-col field=\"name\" title=\"\" align=\"left\" width=\"150\" />\r\n              <ec-table-colgroup title=\"收购计划执行量\">\r\n                <ec-table-col\r\n                  field=\"planTotalWeight\"\r\n                  title=\"合计\"\r\n                  align=\"center\"\r\n                  width=\"200\"\r\n                  :edit-render=\"{}\"\r\n                >\r\n                  <template #edit=\"{ row }\">\r\n                    <a-input-number\r\n                      v-if=\"row.name === '本次调整'\"\r\n                      v-model=\"row.planTotalWeight\"\r\n                      :min=\"0\"\r\n                      :max=\"100000\"\r\n                      :precision=\"2\"\r\n                      @blur=\"handleCurrentDataChange(row, 'planTotalWeight')\"\r\n                    ></a-input-number>\r\n                    <template v-else>{{ row.planTotalWeight }}</template>\r\n                  </template>\r\n                </ec-table-col>\r\n\r\n                <ec-table-col field=\"planInnerWeight\" title=\"国内\" align=\"center\" width=\"150\" />\r\n                <ec-table-col\r\n                  field=\"planExportWeight\"\r\n                  title=\"出口备货\"\r\n                  width=\"200\"\r\n                  align=\"center\"\r\n                  :edit-render=\"{}\"\r\n                >\r\n                  <template #edit=\"{ row }\">\r\n                    <a-input-number\r\n                      v-if=\"row.name === '本次调整'\"\r\n                      v-model=\"row.planExportWeight\"\r\n                      :min=\"0\"\r\n                      :max=\"100000\"\r\n                      :precision=\"2\"\r\n                      @blur=\"handleCurrentDataChange(row, 'planExportWeight')\"\r\n                    ></a-input-number>\r\n                    <template v-else>{{ row.planExportWeight }}</template>\r\n                  </template>\r\n                </ec-table-col>\r\n              </ec-table-colgroup>\r\n              <ec-table-col\r\n                field=\"planPlantArea\"\r\n                title=\"种植面积\"\r\n                min-width=\"150\"\r\n                align=\"right\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-if=\"row.name === '本次调整'\"\r\n                    v-model=\"row.planPlantArea\"\r\n                    :min=\"0\"\r\n                    :max=\"100000\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleCurrentDataChange(row, 'planPlantArea')\"\r\n                  ></a-input-number>\r\n                  <template v-else>{{ row.planPlantArea }}</template>\r\n                </template>\r\n              </ec-table-col>\r\n            </ec-table>\r\n          </ec-panel-body>\r\n        </ec-panel>\r\n      </ec-container-body>\r\n      <ec-container-footer fixed>\r\n        <a-space>\r\n          <a-button type=\"primary\" @click=\"onSave('save')\" :loading=\"saving\">保存</a-button>\r\n          <a-button @click=\"onclose\">关闭</a-button>\r\n        </a-space>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n<script>\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'ExecutionEnterAdjustFormManage',\r\n  data() {\r\n    return {\r\n      title: '编辑',\r\n      isEditor: false,\r\n      disabled: true,\r\n      tableData: [],\r\n      data: {},\r\n      leafTypeName: '',\r\n      leafTypeCode: '',\r\n      weightUnitName: '',\r\n      weightUnit: 1,\r\n      areaUnitName: '',\r\n      areaUnit: 1,\r\n      nowYear: '',\r\n      orgCode: '',\r\n      rowData: '',\r\n      visible: false,\r\n      saving: false,\r\n      isShowSaveAndAdd: true,\r\n      ruleForm: {},\r\n      leafTypeList: [],\r\n      resolveData: {},\r\n      oldObjData: {},\r\n      workOptType: [\r\n        { id: '2', name: '减量' },\r\n        { id: '1', name: '增量' },\r\n      ],\r\n      formData: {\r\n        leafTypeCode: '',\r\n        orgName: undefined,\r\n        oprType: undefined,\r\n        remark: undefined,\r\n      },\r\n      beforeAjustData: {},\r\n      rules: {\r\n        oprType: { required: true, message: '请选择操作类型', trigger: 'blur' },\r\n        orgName: { required: true, message: '请选择单位', trigger: 'blur' },\r\n        leafTypeCode: { required: true, message: '请选择烟叶类型', trigger: 'blur' },\r\n      },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // 操作类型改变的时候，调整的数据重新计算\r\n    handleChangeOprType() {\r\n      this.tableData.splice(this.tableData.length - 1, 1);\r\n      this.handleAfterAdjustData();\r\n    },\r\n    // 获取调整前数据\r\n    async handleGetBeforeAdjustData() {\r\n      // const beforeData = await this.$apis.bpm.executionAudit.beforeAdjust({\r\n      //   leafTypeCode: this.leafTypeCode,\r\n      //   orgCode: this.orgCode, // todo 写死的参数s\r\n      //   busiYear: this.nowYear,\r\n      // });\r\n      // beforeData.name = '调整前';\r\n      // beforeData.signId = 'before';\r\n      // this.beforeAjustData = beforeData;\r\n      const beforeData = _.cloneDeep(this.oldObjData);\r\n      beforeData.name = '调整前';\r\n      beforeData.signId = 'before';\r\n      this.beforeAjustData = beforeData;\r\n\r\n      //  将数据转化成对应的单位\r\n      this.beforeAjustData = this.handleDataParse(beforeData);\r\n      // 获取下级分解的数据\r\n\r\n      const data = {\r\n        leafTypeCode: this.leafTypeCode,\r\n        orgCode: this.orgCode, // todo 写死的参数\r\n        busiYear: this.nowYear,\r\n      };\r\n      console.log(`分解参数数据：${JSON.stringify(data)}`);\r\n      const resolveData = await this.$apis.bpm.executionEnter.getResolveData(data);\r\n      this.resolveData = this.handleResolveDataParse(resolveData);\r\n      console.log(`分解数据：${JSON.stringify(resolveData)}`);\r\n    },\r\n\r\n    //  将数据转化成对应的单位(获取到的数据都是基础单位，要转成对应的)\r\n    handleResolveDataParse(data) {\r\n      const obj = data;\r\n      obj.planTotalWeight = (obj.planTotalWeight / this.weightUnit).toFixed(2);\r\n      obj.planInnerWeight = (obj.planInnerWeight / this.weightUnit).toFixed(2);\r\n      obj.planExportWeight = (obj.planExportWeight / this.weightUnit).toFixed(2);\r\n      obj.planPlantArea = (obj.planPlantArea / this.areaUnit).toFixed(2);\r\n      return obj;\r\n    },\r\n\r\n    //  将数据转化成对应的单位(获取到的数据都是基础单位，要转成对应的)\r\n    handleDataParse(data) {\r\n      const obj = data;\r\n      obj.planTotalWeight = obj.baPlanTotalWeight\r\n        ? Number(obj.baPlanTotalWeight / this.weightUnit).toFixed(2)\r\n        : '0.00';\r\n      obj.planInnerWeight = obj.baPlanInnerWeight\r\n        ? Number(obj.baPlanInnerWeight / this.weightUnit).toFixed(2)\r\n        : '0.00';\r\n      obj.planExportWeight = obj.baPlanExportWeight\r\n        ? Number(obj.baPlanExportWeight / this.weightUnit).toFixed(2)\r\n        : '0.00';\r\n      obj.planPlantArea = obj.baPlanPlantArea\r\n        ? Number(obj.baPlanPlantArea / this.areaUnit).toFixed(2)\r\n        : '0.00';\r\n      return obj;\r\n    },\r\n\r\n    // 本次调整数据改变\r\n    handleCurrentDataChange(row, field) {\r\n      const rowObj = row;\r\n      if (field === 'planExportWeight' || field === 'planTotalWeight') {\r\n        const planTotalWeight = Number(row.planTotalWeight) || 0;\r\n        const planExportWeight = Number(row.planExportWeight) || 0;\r\n        if (planTotalWeight < planExportWeight) {\r\n          this.$message.warn('合计不能小于出口备货');\r\n          if (field === 'planTotalWeight') {\r\n            rowObj.planTotalWeight = '0';\r\n          }\r\n          if (field === 'planExportWeight') {\r\n            rowObj.planExportWeight = '0';\r\n          }\r\n          const upPlanTotalWeight = Number(rowObj.planTotalWeight) || 0;\r\n          const upPlanExportWeight = Number(rowObj.planExportWeight) || 0;\r\n          const upPlanInnerWeight = (upPlanTotalWeight - upPlanExportWeight).toFixed(2);\r\n          rowObj.planInnerWeight = upPlanInnerWeight;\r\n          return;\r\n        }\r\n        const newPlanInnerWeight = (planTotalWeight - planExportWeight).toFixed(2);\r\n        rowObj.planInnerWeight = newPlanInnerWeight;\r\n      }\r\n\r\n      this.tableData.splice(this.tableData.length - 1, 1);\r\n      this.handleAfterAdjustData();\r\n    },\r\n\r\n    // 显示推窗\r\n    async show(row) {\r\n      this.visible = true;\r\n      this.data = row;\r\n      const selectRow = row.selectedRows;\r\n      this.oldObjData = _.cloneDeep(selectRow);\r\n\r\n      this.leafTypeName = row.leafTypeObj.leafTypeName;\r\n      this.leafTypeCode = row.leafTypeObj.leafTypeCode;\r\n      this.weightUnitName = row.weightUnitObj.weightUnitName;\r\n      this.weightUnit = row.weightUnitObj.weightUnitCd;\r\n      this.areaUnit = row.areaUnitObj.areaUnitCd;\r\n      this.areaUnitName = row.areaUnitObj.areaUnitName;\r\n      this.orgCode = row.selectedRows.orgCode;\r\n      this.nowYear = row.nowYear;\r\n      this.leafTypeList = row.leafTypeList;\r\n\r\n      const { type } = row;\r\n\r\n      this.visible = true;\r\n      this.isShowSaveAndAdd = true;\r\n      this.isEditor = false;\r\n\r\n      this.formData = {\r\n        leafTypeCode: this.leafTypeCd,\r\n        orgName: undefined,\r\n        oprType: '1',\r\n        remark: undefined,\r\n      };\r\n      // 调整前数据\r\n      await this.handleGetBeforeAdjustData();\r\n      this.tableData.push(this.beforeAjustData);\r\n\r\n      // 本次调整的数据\r\n      const currentAdjustData = {\r\n        name: '本次调整',\r\n        signId: 'current',\r\n        planTotalWeight: 0,\r\n        planInnerWeight: 0,\r\n        planExportWeight: 0,\r\n        planPlantArea: 0,\r\n      };\r\n\r\n      if (type === 'edit') {\r\n        this.isEditor = true;\r\n        this.title = '编辑';\r\n        this.formData = selectRow;\r\n        this.isShowSaveAndAdd = false;\r\n        // 如果是编辑，那么本次调整有数据\r\n        currentAdjustData.planTotalWeight = selectRow.planTotalWeight;\r\n        currentAdjustData.planInnerWeight = selectRow.planInnerWeight;\r\n        currentAdjustData.planExportWeight = selectRow.planExportWeight;\r\n        currentAdjustData.planPlantArea = selectRow.planPlantArea;\r\n      }\r\n      this.tableData.push(currentAdjustData);\r\n      console.log(this.tableData);\r\n      // 调整后数据\r\n\r\n      this.handleAfterAdjustData();\r\n    },\r\n\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      const { oprType } = this.formData;\r\n      if (oprType === '1') {\r\n        list.forEach((item) => {\r\n          console.log(`++++++${oprType}`);\r\n          const value = item;\r\n          value[field] = value[field] || 0;\r\n          count += Number(item[field]);\r\n        });\r\n      } else {\r\n        list.forEach((item) => {\r\n          console.log(`------${oprType}`);\r\n          const value = item;\r\n          value[field] = value[field] || 0;\r\n          const { signId } = item;\r\n          if (signId === 'before') {\r\n            count += Number(item[field]);\r\n          } else {\r\n            count -= Number(item[field]);\r\n          }\r\n        });\r\n      }\r\n\r\n      return count.toFixed(2);\r\n    },\r\n    // 拼接调整后的数据\r\n    handleAfterAdjustData() {\r\n      const columns = ['planTotalWeight', 'planInnerWeight', 'planExportWeight', 'planPlantArea'];\r\n      const afterAdjustData = {\r\n        name: '调整后',\r\n        signId: 'after',\r\n      };\r\n      columns.forEach((item) => {\r\n        afterAdjustData[item] = this.sumNum(this.tableData, item);\r\n      });\r\n      this.tableData.push(afterAdjustData);\r\n    },\r\n\r\n    // 保存之前处理调整的数据\r\n    handleBeforeSaveAdjustData() {\r\n      const copyTableData = JSON.parse(JSON.stringify(this.tableData));\r\n      const copyOldObjData = JSON.parse(JSON.stringify(this.oldObjData));\r\n      copyOldObjData.remark = this.formData.remark;\r\n\r\n      // 在保存之前先拷贝，避免保存不通过之后，导致数据变了。    乘法\r\n      copyTableData.forEach((item) => {\r\n        const obj = item;\r\n        // 调整前数据\r\n        if (item.signId === 'before') {\r\n          copyOldObjData.baPlanTotalWeight = (obj.planTotalWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.baPlanInnerWeight = (obj.planInnerWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.baPlanExportWeight = (obj.planExportWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.baPlanPlantArea = (obj.planPlantArea * this.areaUnit).toFixed(2);\r\n        }\r\n        // 本次调整数据\r\n        if (item.signId === 'current') {\r\n          copyOldObjData.planTotalWeight = (obj.planTotalWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.planInnerWeight = (obj.planInnerWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.planExportWeight = (obj.planExportWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.planPlantArea = (obj.planPlantArea * this.areaUnit).toFixed(2);\r\n        }\r\n        // 调整后数据\r\n        if (item.signId === 'after') {\r\n          copyOldObjData.aaPlanTotalWeight = (obj.planTotalWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.aaPlanInnerWeight = (obj.planInnerWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.aaPlanExportWeight = (obj.planExportWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.aaPlanPlantArea = (obj.planPlantArea * this.areaUnit).toFixed(2);\r\n        }\r\n      });\r\n      console.log(`保存的数据处理完之后：${JSON.stringify(copyTableData)}`);\r\n      return copyOldObjData;\r\n    },\r\n    // 保存\r\n    onSave(type) {\r\n      this.$refs.ruleForm1.validate(async (valid) => {\r\n        if (!valid) return;\r\n        this.saving = true;\r\n        const data = this.formData;\r\n        console.log(`${type}===${JSON.stringify(data)}`);\r\n        // 在保存之前将表格里面的调整的数据，进行转化成基础单位（数据库保存的是基础单位）\r\n        const saveData = this.handleBeforeSaveAdjustData();\r\n        this.$apis.bpm.executionEnter\r\n          .updateAdjustData(saveData)\r\n          .then((res) => {\r\n            console.log(JSON.stringify(res));\r\n            if (res.result) {\r\n              this.saving = false;\r\n              this.$message.success('操作成功');\r\n              this.$emit('onQuery');\r\n              this.onclose();\r\n            } else {\r\n              this.saving = false;\r\n              this.$message.error('操作失败');\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            this.saving = false;\r\n          });\r\n      });\r\n    },\r\n\r\n    // 取消\r\n    onclose() {\r\n      this.$refs.ruleForm1.resetFields();\r\n      this.tableData = [];\r\n      this.formData = {};\r\n      this.visible = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExecutionEnterAdjustForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExecutionEnterAdjustForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExecutionEnterAdjustForm.vue?vue&type=template&id=05dd468a&\"\nimport script from \"./ExecutionEnterAdjustForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ExecutionEnterAdjustForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":_vm.title,\"visible\":_vm.visible,\"size\":\"large\",\"is-confirm\":true},on:{\"close\":_vm.onclose}},[_c('ec-container',{attrs:{\"height\":\"100%\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',[_c('ec-panel',{attrs:{\"color-code\":\"002\"}},[_c('ec-panel-header',[_c('ec-panel-item-left',{staticClass:\"ec-panel-item-left\"},[_c('div',{staticClass:\"ec-panel-title\"},[_c('div',{staticClass:\"ec-bar bg-color-1\"}),_c('div',{staticClass:\"ec-title\",staticStyle:{\"color\":\"rgb(24, 144, 255)\",\"font-weight\":\"700\"}},[_vm._v(\" 第一步：选取单位、烟叶类型、操作类型 \")])])]),_c('ec-panel-item-right',[_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('span',{staticStyle:{\"margin-left\":\"14px\"}},[_vm._v(\"种植收购年度：\"+_vm._s(_vm.nowYear)+\"年;单位：\"+_vm._s(_vm.weightUnitName)+\"、\"+_vm._s(_vm.areaUnitName))])])])],1),_c('ec-panel-item',[_c('ec-form',{ref:\"ruleForm1\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":12}},[_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{ref:\"leafTypeCode\",attrs:{\"prop\":\"leafTypeCode\",\"label\":\"烟叶类型\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":function($event){return _vm.handleFormChange()}},model:{value:(_vm.formData.leafTypeCode),callback:function ($$v) {_vm.$set(_vm.formData, \"leafTypeCode\", $$v)},expression:\"formData.leafTypeCode\"}},_vm._l((_vm.leafTypeList),function(item,index){return _c('a-select-option',{key:index,attrs:{\"value\":item.leafTypeCode}},[_vm._v(_vm._s(item.leafTypeName)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{ref:\"orgCodeList\",attrs:{\"label\":\"单位名称\",\"prop\":\"orgCodeList\"}},[_c('org-picker',{attrs:{\"placeholder\":\"请选择\"},on:{\"ok\":function($event){return _vm.handleFormChange()}},model:{value:(_vm.formData.orgCodeList),callback:function ($$v) {_vm.$set(_vm.formData, \"orgCodeList\", $$v)},expression:\"formData.orgCodeList\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{ref:\"oprType\",attrs:{\"prop\":\"oprType\",\"label\":\"操作类型\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"select\":_vm.handleChangeOprType},model:{value:(_vm.formData.oprType),callback:function ($$v) {_vm.$set(_vm.formData, \"oprType\", $$v)},expression:\"formData.oprType\"}},_vm._l((_vm.workOptType),function(item){return _c('a-select-option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":12,\"layout\":\"horizontal\"}},[_c('a-form-model-item',{attrs:{\"label\":\"办理依据\"}},[_c('a-textarea',{attrs:{\"max-length\":225},model:{value:(_vm.formData.remark),callback:function ($$v) {_vm.$set(_vm.formData, \"remark\", $$v)},expression:\"formData.remark\"}})],1)],1)],1)],1)],1)],1),_c('ec-panel',{attrs:{\"color-code\":\"002\"}},[_c('ec-panel-header',[_c('ec-panel-item-left',{staticClass:\"ec-panel-item-left\"},[_c('div',{staticClass:\"ec-panel-title\"},[_c('div',{staticClass:\"ec-bar bg-color-1\"}),_c('div',{staticClass:\"ec-title\",staticStyle:{\"color\":\"rgb(24, 144, 255)\",\"font-weight\":\"700\"}},[_vm._v(\" 第二步：录入/编辑数量 \")])])])],1),_c('ec-panel-item',[_c('a-alert',{attrs:{\"type\":\"warning\"}},[_c('div',{staticStyle:{\"color\":\"#1890ff\"},attrs:{\"slot\":\"message\"},slot:\"message\"},[_vm._v(\" \"+_vm._s(_vm.resolveData.orgName)+\"已分解收购计划执行量： \"),_c('span',{staticStyle:{\"color\":\"#1890ff\",\"font-weight\":\"700\"}},[_vm._v(_vm._s(_vm.resolveData.planTotalWeight))]),_vm._v(\" \"+_vm._s(_vm.weightUnitName)+\"(其中国内：\"+_vm._s(_vm.resolveData.planInnerWeight)+_vm._s(_vm.weightUnitName)+\"、出口备货：\"+_vm._s(_vm.resolveData.planExportWeight)+_vm._s(_vm.weightUnitName)+\")，种植面积：\"+_vm._s(_vm.resolveData.planPlantArea)+_vm._s(_vm.areaUnitName)+\" \")])])],1),_c('ec-panel-body',[_c('ec-table',{ref:\"table\",staticClass:\"my-xtable-antd\",attrs:{\"border\":\"\",\"show-overflow\":\"\",\"keep-source\":\"\",\"loading\":_vm.saving,\"data\":_vm.tableData,\"edit-config\":{\n              trigger: 'click',\n              mode: 'row',\n            }}},[_c('ec-table-col',{attrs:{\"field\":\"name\",\"title\":\"\",\"align\":\"left\",\"width\":\"150\"}}),_c('ec-table-colgroup',{attrs:{\"title\":\"收购计划执行量\"}},[_c('ec-table-col',{attrs:{\"field\":\"planTotalWeight\",\"title\":\"合计\",\"align\":\"center\",\"width\":\"200\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\n            var row = ref.row;\nreturn [(row.name === '本次调整')?_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleCurrentDataChange(row, 'planTotalWeight')}},model:{value:(row.planTotalWeight),callback:function ($$v) {_vm.$set(row, \"planTotalWeight\", $$v)},expression:\"row.planTotalWeight\"}}):[_vm._v(_vm._s(row.planTotalWeight))]]}}])}),_c('ec-table-col',{attrs:{\"field\":\"planInnerWeight\",\"title\":\"国内\",\"align\":\"center\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"planExportWeight\",\"title\":\"出口备货\",\"width\":\"200\",\"align\":\"center\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\n            var row = ref.row;\nreturn [(row.name === '本次调整')?_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleCurrentDataChange(row, 'planExportWeight')}},model:{value:(row.planExportWeight),callback:function ($$v) {_vm.$set(row, \"planExportWeight\", $$v)},expression:\"row.planExportWeight\"}}):[_vm._v(_vm._s(row.planExportWeight))]]}}])})],1),_c('ec-table-col',{attrs:{\"field\":\"planPlantArea\",\"title\":\"种植面积\",\"min-width\":\"150\",\"align\":\"right\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\n            var row = ref.row;\nreturn [(row.name === '本次调整')?_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleCurrentDataChange(row, 'planPlantArea')}},model:{value:(row.planPlantArea),callback:function ($$v) {_vm.$set(row, \"planPlantArea\", $$v)},expression:\"row.planPlantArea\"}}):[_vm._v(_vm._s(row.planPlantArea))]]}}])})],1)],1)],1)],1),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[_c('a-button',{attrs:{\"id\":\"saveAndAddBtn\",\"loading\":_vm.saving},on:{\"click\":function($event){return _vm.onSave('saveAndAdd')}}},[_vm._v(\"保存并新增\")]),_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.saving},on:{\"click\":function($event){return _vm.onSave('save')}}},[_vm._v(\"保存\")]),_c('a-button',{on:{\"click\":_vm.onclose}},[_vm._v(\"关闭\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer\r\n    :title=\"title\"\r\n    :visible=\"visible\"\r\n    size=\"large\"\r\n    @close=\"onclose\"\r\n    class=\"ec-draw-form\"\r\n    :is-confirm=\"true\"\r\n  >\r\n    <ec-container height=\"100%\" fixed=\"top bottom\" color-code=\"007\">\r\n      <ec-container-body>\r\n        <ec-panel color-code=\"002\">\r\n          <ec-panel-header>\r\n            <ec-panel-item-left class=\"ec-panel-item-left\">\r\n              <div class=\"ec-panel-title\">\r\n                <div class=\"ec-bar bg-color-1\"></div>\r\n                <div class=\"ec-title\" style=\"color: rgb(24, 144, 255); font-weight: 700\">\r\n                  第一步：选取单位、烟叶类型、操作类型\r\n                </div>\r\n              </div>\r\n            </ec-panel-item-left>\r\n\r\n            <ec-panel-item-right>\r\n              <div style=\"display: inline-block\">\r\n                <span style=\"margin-left: 14px\"\r\n                  >种植收购年度：{{ nowYear }}年;单位：{{ weightUnitName }}、{{\r\n                    areaUnitName\r\n                  }}</span\r\n                >\r\n              </div>\r\n            </ec-panel-item-right>\r\n          </ec-panel-header>\r\n          <ec-panel-item>\r\n            <ec-form ref=\"ruleForm1\" :model=\"formData\" :rules=\"rules\">\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item ref=\"leafTypeCode\" prop=\"leafTypeCode\" label=\"烟叶类型\">\r\n                    <a-select\r\n                      v-model=\"formData.leafTypeCode\"\r\n                      @change=\"handleFormChange()\"\r\n                      placeholder=\"请选择\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"(item, index) in leafTypeList\"\r\n                        :key=\"index\"\r\n                        :value=\"item.leafTypeCode\"\r\n                        >{{ item.leafTypeName }}\r\n                      </a-select-option>\r\n                    </a-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"单位名称\" prop=\"orgCodeList\" ref=\"orgCodeList\">\r\n                    <org-picker\r\n                      v-model=\"formData.orgCodeList\"\r\n                      @ok=\"handleFormChange()\"\r\n                      placeholder=\"请选择\"\r\n                    />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item ref=\"oprType\" prop=\"oprType\" label=\"操作类型\">\r\n                    <a-select\r\n                      v-model=\"formData.oprType\"\r\n                      placeholder=\"请选择\"\r\n                      @select=\"handleChangeOprType\"\r\n                    >\r\n                      <a-select-option v-for=\"item in workOptType\" :key=\"item.id\" :value=\"item.id\"\r\n                        >{{ item.name }}\r\n                      </a-select-option>\r\n                    </a-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"12\" layout=\"horizontal\">\r\n                  <a-form-model-item label=\"办理依据\">\r\n                    <a-textarea v-model=\"formData.remark\" :max-length=\"225\" />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n            </ec-form>\r\n          </ec-panel-item>\r\n        </ec-panel>\r\n\r\n        <ec-panel color-code=\"002\">\r\n          <ec-panel-header>\r\n            <ec-panel-item-left class=\"ec-panel-item-left\">\r\n              <div class=\"ec-panel-title\">\r\n                <div class=\"ec-bar bg-color-1\"></div>\r\n                <div class=\"ec-title\" style=\"color: rgb(24, 144, 255); font-weight: 700\">\r\n                  第二步：录入/编辑数量\r\n                </div>\r\n              </div>\r\n            </ec-panel-item-left>\r\n          </ec-panel-header>\r\n          <ec-panel-item>\r\n            <a-alert type=\"warning\">\r\n              <div slot=\"message\" style=\"color: #1890ff\">\r\n                {{ resolveData.orgName }}已分解收购计划执行量：\r\n                <span style=\"color: #1890ff; font-weight: 700\">{{\r\n                  resolveData.planTotalWeight\r\n                }}</span>\r\n                {{ weightUnitName }}(其中国内：{{ resolveData.planInnerWeight\r\n                }}{{ weightUnitName }}、出口备货：{{ resolveData.planExportWeight\r\n                }}{{ weightUnitName }})，种植面积：{{ resolveData.planPlantArea }}{{ areaUnitName }}\r\n              </div>\r\n            </a-alert>\r\n          </ec-panel-item>\r\n          <ec-panel-body>\r\n            <ec-table\r\n              border\r\n              show-overflow\r\n              keep-source\r\n              ref=\"table\"\r\n              class=\"my-xtable-antd\"\r\n              :loading=\"saving\"\r\n              :data=\"tableData\"\r\n              :edit-config=\"{\r\n                trigger: 'click',\r\n                mode: 'row',\r\n              }\"\r\n            >\r\n              <!--  :edit-config=\"{ trigger: 'click', mode: 'row', showStatus: true }\"-->\r\n              <!-- :edit-config=\"{ trigger: 'manual', mode: 'row' }\" -->\r\n              <ec-table-col field=\"name\" title=\"\" align=\"left\" width=\"150\" />\r\n              <ec-table-colgroup title=\"收购计划执行量\">\r\n                <ec-table-col\r\n                  field=\"planTotalWeight\"\r\n                  title=\"合计\"\r\n                  align=\"center\"\r\n                  width=\"200\"\r\n                  :edit-render=\"{}\"\r\n                >\r\n                  <template #edit=\"{ row }\">\r\n                    <a-input-number\r\n                      v-if=\"row.name === '本次调整'\"\r\n                      v-model=\"row.planTotalWeight\"\r\n                      :min=\"0\"\r\n                      :max=\"100000\"\r\n                      :precision=\"2\"\r\n                      @blur=\"handleCurrentDataChange(row, 'planTotalWeight')\"\r\n                    ></a-input-number>\r\n                    <template v-else>{{ row.planTotalWeight }}</template>\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"planInnerWeight\" title=\"国内\" align=\"center\" width=\"150\" />\r\n                <!-- <ec-table-col\r\n                  field=\"planInnerWeight\"\r\n                  title=\"国内\"\r\n                  align=\"center\"\r\n                  width=\"200\"\r\n                  :edit-render=\"{}\"\r\n                >\r\n                  <template #edit=\"{ row }\">\r\n                    <a-input-number\r\n                      v-if=\"row.name === '本次调整'\"\r\n                      v-model=\"row.planInnerWeight\"\r\n                      :min=\"0\"\r\n                      :precision=\"2\"\r\n                      @blur=\"handleCurrentDataChange\"\r\n                    ></a-input-number>\r\n                    <template v-else>{{ row.planInnerWeight }}</template>\r\n                  </template>\r\n                </ec-table-col> -->\r\n\r\n                <ec-table-col\r\n                  field=\"planExportWeight\"\r\n                  title=\"出口备货\"\r\n                  width=\"200\"\r\n                  align=\"center\"\r\n                  :edit-render=\"{}\"\r\n                >\r\n                  <template #edit=\"{ row }\">\r\n                    <a-input-number\r\n                      v-if=\"row.name === '本次调整'\"\r\n                      v-model=\"row.planExportWeight\"\r\n                      :min=\"0\"\r\n                      :max=\"100000\"\r\n                      :precision=\"2\"\r\n                      @blur=\"handleCurrentDataChange(row, 'planExportWeight')\"\r\n                    ></a-input-number>\r\n                    <template v-else>{{ row.planExportWeight }}</template>\r\n                  </template>\r\n                </ec-table-col>\r\n              </ec-table-colgroup>\r\n              <ec-table-col\r\n                field=\"planPlantArea\"\r\n                title=\"种植面积\"\r\n                min-width=\"150\"\r\n                align=\"right\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-if=\"row.name === '本次调整'\"\r\n                    v-model=\"row.planPlantArea\"\r\n                    :min=\"0\"\r\n                    :max=\"100000\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleCurrentDataChange(row, 'planPlantArea')\"\r\n                  ></a-input-number>\r\n                  <template v-else>{{ row.planPlantArea }}</template>\r\n                </template>\r\n              </ec-table-col>\r\n            </ec-table>\r\n          </ec-panel-body>\r\n        </ec-panel>\r\n      </ec-container-body>\r\n      <ec-container-footer fixed>\r\n        <a-space>\r\n          <a-button @click=\"onSave('saveAndAdd')\" id=\"saveAndAddBtn\" :loading=\"saving\"\r\n            >保存并新增</a-button\r\n          >\r\n          <a-button type=\"primary\" @click=\"onSave('save')\" :loading=\"saving\">保存</a-button>\r\n          <a-button @click=\"onclose\">关闭</a-button>\r\n        </a-space>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n<script>\r\n// import _ from 'lodash';\r\nimport { OrgPicker, OrgTree, DivisionPicker } from '@euler-material/ecm-ui';\r\n\r\nexport default {\r\n  name: 'ExecutionEnterAdjustFormManage',\r\n  components: {\r\n    OrgPicker,\r\n    OrgTree,\r\n    DivisionPicker,\r\n  },\r\n  data() {\r\n    const orgNameValid = (rule, value, callback) => {\r\n      if (value.length === 0) {\r\n        return callback(new Error('请选择单位'));\r\n      }\r\n\r\n      callback();\r\n    };\r\n    return {\r\n      title: '新增',\r\n      isEditor: false,\r\n      tableData: [],\r\n      data: {},\r\n      leafTypeName: '',\r\n      leafTypeCode: '',\r\n      weightUnitName: '',\r\n      weightUnit: 1,\r\n      areaUnitName: '',\r\n      areaUnit: 1,\r\n      nowYear: '',\r\n      orgCode: '',\r\n      rowData: '',\r\n      visible: false,\r\n      saving: false,\r\n      isShowSaveAndAdd: true,\r\n      ruleForm: {},\r\n      leafTypeList: [],\r\n      // orgCodeList: [],\r\n      resolveData: {},\r\n      oldObjData: {},\r\n      workOptType: [\r\n        { id: '2', name: '减量' },\r\n        { id: '1', name: '增量' },\r\n      ],\r\n      formData: {\r\n        leafTypeCode: '',\r\n        orgCodeList: undefined,\r\n        oprType: '1',\r\n        remark: undefined,\r\n      },\r\n      beforeAjustData: {},\r\n      rules: {\r\n        oprType: { required: true, message: '请选择操作类型', trigger: 'blur' },\r\n        orgCodeList: [{ validator: orgNameValid, required: true, trigger: 'change' }],\r\n        leafTypeCode: { required: true, message: '请选择烟叶类型', trigger: 'blur' },\r\n      },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // 操作类型改变的时候，调整的数据重新计算\r\n    handleChangeOprType() {\r\n      this.tableData.splice(this.tableData.length - 1, 1);\r\n      this.handleAfterAdjustData();\r\n    },\r\n    // 表单的烟叶类型跟单位改变时，分解数据跟调整前的数据需要重新获取\r\n    async handleFormChange() {\r\n      this.tableData = [];\r\n      await this.handleGetBeforeAdjustData();\r\n      this.tableData.push(this.beforeAjustData);\r\n\r\n      // 本次调整的数据\r\n      const currentAdjustData = {\r\n        name: '本次调整',\r\n        signId: 'current',\r\n        planTotalWeight: 0,\r\n        planInnerWeight: 0,\r\n        planExportWeight: 0,\r\n        planPlantArea: 0,\r\n      };\r\n      this.tableData.push(currentAdjustData);\r\n      // 调整后数据\r\n      this.handleAfterAdjustData();\r\n    },\r\n    // 获取调整前数据\r\n    async handleGetBeforeAdjustData() {\r\n      const orgCode = this.formData.orgCodeList;\r\n      const beforeData = await this.$apis.bpm.executionAudit.beforeAdjust({\r\n        leafTypeCode: this.formData.leafTypeCode,\r\n        orgCode, // todo 写死的参数\r\n        busiYear: this.nowYear,\r\n      });\r\n      beforeData.name = '调整前';\r\n      beforeData.signId = 'before';\r\n\r\n      //  将数据转化成对应的单位\r\n      this.beforeAjustData = this.handleDataParse(beforeData);\r\n      // 获取下级分解的数据\r\n      const data = {\r\n        leafTypeCode: this.formData.leafTypeCode,\r\n        orgCode, // todo 写死的参数\r\n        busiYear: this.nowYear,\r\n      };\r\n      console.log(`分解参数数据：${JSON.stringify(data)}`);\r\n      const resolveData = await this.$apis.bpm.executionEnter.getResolveData(data);\r\n      this.resolveData = this.handleResolveDataParse(resolveData);\r\n      console.log(`分解数据：${JSON.stringify(resolveData)}`);\r\n    },\r\n\r\n    //  将数据转化成对应的单位(获取到的数据都是基础单位，要转成对应的)\r\n    handleResolveDataParse(data) {\r\n      const obj = data;\r\n      obj.planTotalWeight = (obj.planTotalWeight / this.weightUnit).toFixed(2);\r\n      obj.planInnerWeight = (obj.planInnerWeight / this.weightUnit).toFixed(2);\r\n      obj.planExportWeight = (obj.planExportWeight / this.weightUnit).toFixed(2);\r\n      obj.planPlantArea = (obj.planPlantArea / this.areaUnit).toFixed(2);\r\n      return obj;\r\n    },\r\n\r\n    //  将数据转化成对应的单位(获取到的数据都是基础单位，要转成对应的)\r\n    handleDataParse(data) {\r\n      const obj = data;\r\n      obj.planTotalWeight = obj.planTotalWeight\r\n        ? Number(obj.planTotalWeight / this.weightUnit).toFixed(2)\r\n        : '0.00';\r\n      obj.planInnerWeight = obj.planInnerWeight\r\n        ? Number(obj.planInnerWeight / this.weightUnit).toFixed(2)\r\n        : '0.00';\r\n      obj.planExportWeight = obj.planExportWeight\r\n        ? Number(obj.planExportWeight / this.weightUnit).toFixed(2)\r\n        : '0.00';\r\n      obj.planPlantArea = obj.planPlantArea\r\n        ? Number(obj.planPlantArea / this.areaUnit).toFixed(2)\r\n        : '0.00';\r\n      return obj;\r\n    },\r\n\r\n    // 本次调整数据改变\r\n    handleCurrentDataChange(row, field) {\r\n      const rowObj = row;\r\n      if (field === 'planExportWeight' || field === 'planTotalWeight') {\r\n        const planTotalWeight = Number(row.planTotalWeight) || 0;\r\n        const planExportWeight = Number(row.planExportWeight) || 0;\r\n        if (planTotalWeight < planExportWeight) {\r\n          this.$message.warn('合计不能小于出口备货');\r\n          if (field === 'planTotalWeight') {\r\n            rowObj.planTotalWeight = '0';\r\n          }\r\n          if (field === 'planExportWeight') {\r\n            rowObj.planExportWeight = '0';\r\n          }\r\n          const upPlanTotalWeight = Number(rowObj.planTotalWeight) || 0;\r\n          const upPlanExportWeight = Number(rowObj.planExportWeight) || 0;\r\n          const upPlanInnerWeight = (upPlanTotalWeight - upPlanExportWeight).toFixed(2);\r\n          rowObj.planInnerWeight = upPlanInnerWeight;\r\n          return;\r\n        }\r\n        const newPlanInnerWeight = (planTotalWeight - planExportWeight).toFixed(2);\r\n        rowObj.planInnerWeight = newPlanInnerWeight;\r\n      }\r\n\r\n      this.tableData.splice(this.tableData.length - 1, 1);\r\n      this.handleAfterAdjustData();\r\n    },\r\n\r\n    // 显示推窗\r\n    async show(row) {\r\n      this.visible = true;\r\n      this.data = row;\r\n      const selectRow = row.selectedRows;\r\n      this.oldObjData = JSON.parse(JSON.stringify(selectRow));\r\n\r\n      this.leafTypeName = row.leafTypeObj.leafTypeName;\r\n      this.leafTypeCode = row.leafTypeObj.leafTypeCode;\r\n      this.weightUnitName = row.weightUnitObj.weightUnitName;\r\n      this.weightUnit = row.weightUnitObj.weightUnitCd;\r\n      this.areaUnit = row.areaUnitObj.areaUnitCd;\r\n      this.areaUnitName = row.areaUnitObj.areaUnitName;\r\n      this.orgCode = row.selectedRows.orgCode;\r\n      this.nowYear = row.nowYear;\r\n      this.leafTypeList = row.leafTypeList;\r\n\r\n      this.visible = true;\r\n      this.isShowSaveAndAdd = true;\r\n      this.isEditor = false;\r\n\r\n      this.formData = {\r\n        leafTypeCode: this.leafTypeCode,\r\n        orgCodeList: undefined,\r\n        oprType: '1',\r\n        remark: undefined,\r\n      };\r\n    },\r\n\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      const { oprType } = this.formData;\r\n      if (oprType === '1') {\r\n        list.forEach((item) => {\r\n          console.log(`++++++${oprType}`);\r\n          const value = item;\r\n          value[field] = value[field] || 0;\r\n          count += Number(item[field]);\r\n        });\r\n      } else {\r\n        list.forEach((item) => {\r\n          console.log(`------${oprType}`);\r\n          const value = item;\r\n          value[field] = value[field] || 0;\r\n          const { signId } = item;\r\n          if (signId === 'before') {\r\n            count += Number(item[field]);\r\n          } else {\r\n            count -= Number(item[field]);\r\n          }\r\n        });\r\n      }\r\n\r\n      return count.toFixed(2);\r\n    },\r\n    // 拼接调整后的数据\r\n    handleAfterAdjustData() {\r\n      // 计算合计\r\n\r\n      const columns = ['planTotalWeight', 'planInnerWeight', 'planExportWeight', 'planPlantArea'];\r\n      const afterAdjustData = {\r\n        name: '调整后',\r\n        signId: 'after',\r\n      };\r\n      columns.forEach((item) => {\r\n        afterAdjustData[item] = this.sumNum(this.tableData, item);\r\n      });\r\n      this.tableData.push(afterAdjustData);\r\n    },\r\n\r\n    // 保存之前处理调整的数据\r\n    handleBeforeSaveAdjustData() {\r\n      const copyTableData = JSON.parse(JSON.stringify(this.tableData));\r\n      const copyOldObjData = {};\r\n      const { oprType } = this.formData;\r\n      copyOldObjData.remark = this.formData.remark;\r\n      copyOldObjData.leafTypeCode = this.formData.leafTypeCode;\r\n      copyOldObjData.orgCode = this.formData.orgCodeList;\r\n      copyOldObjData.oprType = oprType;\r\n      copyOldObjData.busiYear = this.nowYear;\r\n      copyOldObjData.oprSymbol = oprType === '1' ? '1' : '-1';\r\n      // 在保存之前先拷贝，避免保存不通过之后，导致数据变了。    乘法\r\n      copyTableData.forEach((item) => {\r\n        const obj = item;\r\n        // 调整前数据\r\n        if (item.signId === 'before') {\r\n          copyOldObjData.baPlanTotalWeight = (obj.planTotalWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.baPlanInnerWeight = (obj.planInnerWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.baPlanExportWeight = (obj.planExportWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.baPlanPlantArea = (obj.planPlantArea * this.areaUnit).toFixed(2);\r\n        }\r\n        // 本次调整数据\r\n        if (item.signId === 'current') {\r\n          copyOldObjData.planTotalWeight = (obj.planTotalWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.planInnerWeight = (obj.planInnerWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.planExportWeight = (obj.planExportWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.planPlantArea = (obj.planPlantArea * this.areaUnit).toFixed(2);\r\n        }\r\n        // 调整后数据\r\n        if (item.signId === 'after') {\r\n          copyOldObjData.aaPlanTotalWeight = (obj.planTotalWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.aaPlanInnerWeight = (obj.planInnerWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.aaPlanExportWeight = (obj.planExportWeight * this.weightUnit).toFixed(2);\r\n          copyOldObjData.aaPlanPlantArea = (obj.planPlantArea * this.areaUnit).toFixed(2);\r\n        }\r\n      });\r\n      console.log(`保存的数据处理完之后：${JSON.stringify(copyTableData)}`);\r\n      return copyOldObjData;\r\n    },\r\n\r\n    // 保存\r\n    onSave(type) {\r\n      this.$refs.ruleForm1.validate(async (valid) => {\r\n        // debugger;\r\n        if (!valid) return;\r\n        this.saving = true;\r\n        const data = this.formData;\r\n        console.log(`${type}===${JSON.stringify(data)}`);\r\n        // 在保存之前将表格里面的调整的数据，进行转化成基础单位（数据库保存的是基础单位）\r\n        const saveData = this.handleBeforeSaveAdjustData();\r\n        this.$apis.bpm.executionEnter\r\n          .addAdjustData(saveData)\r\n          .then((res) => {\r\n            console.log(JSON.stringify(res));\r\n            if (res.result) {\r\n              this.saving = false;\r\n              this.$message.success('操作成功');\r\n              // this.$emit('onQuery');\r\n              // this.onclose();\r\n              this.handleSaveAfter(type);\r\n            } else {\r\n              this.saving = false;\r\n              this.$message.error('操作失败');\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            this.saving = false;\r\n          });\r\n      });\r\n    },\r\n\r\n    // 对保存之后进行处理，\r\n    async handleSaveAfter(type) {\r\n      this.$emit('onQuery');\r\n      this.saving = false;\r\n      // 如果是保存并新增，那么需要清空数据\r\n      if (type === 'saveAndAdd') {\r\n        this.tableData = [];\r\n        await this.handleGetBeforeAdjustData();\r\n        this.tableData.push(this.beforeAjustData);\r\n\r\n        // 本次调整的数据\r\n        const currentAdjustData = {\r\n          name: '本次调整',\r\n          signId: 'current',\r\n          planTotalWeight: 0,\r\n          planInnerWeight: 0,\r\n          planExportWeight: 0,\r\n          planPlantArea: 0,\r\n        };\r\n        this.tableData.push(currentAdjustData);\r\n        // 调整后数据\r\n        this.handleAfterAdjustData();\r\n\r\n        // 清空表单数据\r\n        this.formData = {\r\n          leafTypeCode: this.leafTypeCode,\r\n          orgCodeList: this.formData.orgCodeList,\r\n          oprType: undefined,\r\n          remark: undefined,\r\n        };\r\n      } else {\r\n        this.visible = false;\r\n        this.onclose();\r\n      }\r\n    },\r\n\r\n    // 取消\r\n    onclose() {\r\n      this.$refs.ruleForm1.resetFields();\r\n      this.tableData = [];\r\n      this.formData = {\r\n        leafTypeCode: this.leafTypeCode,\r\n        orgCodeList: undefined,\r\n        oprType: undefined,\r\n        remark: undefined,\r\n      };\r\n      // this.orgCodeList = undefined;\r\n      this.visible = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExecutionEnterAdjustAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExecutionEnterAdjustAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExecutionEnterAdjustAdd.vue?vue&type=template&id=4dd3d4ac&\"\nimport script from \"./ExecutionEnterAdjustAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./ExecutionEnterAdjustAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":_vm.title,\"visible\":_vm.visible,\"size\":\"large\"},on:{\"close\":_vm.onclose}},[_c('ec-container',{attrs:{\"height\":\"auto\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',[_c('ec-panel',{attrs:{\"color-code\":\"002\"}},[_c('ec-panel-header',[_c('ec-panel-item-left',{staticClass:\"ec-panel-item-left\"},[_c('div',{staticClass:\"ec-panel-title\"},[_c('div',{staticClass:\"ec-bar bg-color-1\"}),_c('div',{staticClass:\"ec-title\",staticStyle:{\"color\":\"rgb(24, 144, 255)\",\"font-weight\":\"700\"}},[_vm._v(\" 第一步：选取单位、烟叶类型、操作类型 \")])])]),_c('ec-panel-item-right',[_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('span',{staticStyle:{\"margin-left\":\"14px\"}},[_vm._v(\"种植收购年度：\"+_vm._s(_vm.nowYear)+\"年;单位：\"+_vm._s(_vm.weightUnitName)+\"、\"+_vm._s(_vm.areaUnitName))])])])],1),_c('ec-panel-item',[_c('ec-form',{ref:\"ruleForm1\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":12}},[_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"烟叶类型\"}},[_vm._v(_vm._s(_vm.formData.leafTypeName || '--'))])],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"单位名称\"}},[_vm._v(_vm._s(_vm.formData.orgName || '--'))])],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"操作类型\"}},[_vm._v(_vm._s(_vm.formData.oprTypeName || '--'))])],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"办理依据\"}},[_vm._v(_vm._s(_vm.formData.remark || '--'))])],1)],1)],1)],1)],1),_c('ec-panel',{attrs:{\"color-code\":\"002\"}},[_c('ec-panel-header',[_c('ec-panel-item-left',{staticClass:\"ec-panel-item-left\"},[_c('div',{staticClass:\"ec-panel-title\"},[_c('div',{staticClass:\"ec-bar bg-color-1\"}),_c('div',{staticClass:\"ec-title\",staticStyle:{\"color\":\"rgb(24, 144, 255)\",\"font-weight\":\"700\"}},[_vm._v(\" 第二步：录入/编辑数量 \")])])])],1),_c('ec-panel-body',[_c('ec-table',{ref:\"xTable\",staticClass:\"my-xtable-antd\",attrs:{\"border\":\"\",\"show-overflow\":\"\",\"keep-source\":\"\",\"data\":_vm.tableData}},[_c('ec-table-col',{attrs:{\"field\":\"name\",\"title\":\"\",\"align\":\"left\",\"min-width\":\"150\"}}),_c('ec-table-colgroup',{attrs:{\"title\":\"收购计划执行量\"}},[_c('ec-table-col',{attrs:{\"field\":\"planTotalWeight\",\"title\":\"合计\",\"align\":\"center\",\"width\":\"200\"}}),_c('ec-table-col',{attrs:{\"field\":\"planInnerWeight\",\"title\":\"国内\",\"align\":\"center\",\"width\":\"200\"}}),_c('ec-table-col',{attrs:{\"field\":\"planExportWeight\",\"title\":\"出口备货\",\"align\":\"center\",\"width\":\"200\"}})],1),_c('ec-table-col',{attrs:{\"field\":\"planPlantArea\",\"title\":\"种植面积\",\"align\":\"right\",\"width\":\"200\"}})],1)],1)],1)],1),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[_c('a-button',{on:{\"click\":_vm.onclose}},[_vm._v(\"关闭\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer :title=\"title\" :visible=\"visible\" size=\"large\" @close=\"onclose\" class=\"ec-draw-form\">\r\n    <ec-container height=\"auto\" fixed=\"top bottom\" color-code=\"007\">\r\n      <ec-container-body>\r\n        <ec-panel color-code=\"002\">\r\n          <ec-panel-header>\r\n            <ec-panel-item-left class=\"ec-panel-item-left\">\r\n              <div class=\"ec-panel-title\">\r\n                <div class=\"ec-bar bg-color-1\"></div>\r\n                <div class=\"ec-title\" style=\"color: rgb(24, 144, 255); font-weight: 700\">\r\n                  第一步：选取单位、烟叶类型、操作类型\r\n                </div>\r\n              </div>\r\n            </ec-panel-item-left>\r\n\r\n            <ec-panel-item-right>\r\n              <div style=\"display: inline-block\">\r\n                <span style=\"margin-left: 14px\"\r\n                  >种植收购年度：{{ nowYear }}年;单位：{{ weightUnitName }}、{{\r\n                    areaUnitName\r\n                  }}</span\r\n                >\r\n              </div>\r\n            </ec-panel-item-right>\r\n          </ec-panel-header>\r\n          <ec-panel-item>\r\n            <ec-form ref=\"ruleForm1\" :model=\"formData\" :rules=\"rules\">\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"烟叶类型\">{{\r\n                    formData.leafTypeName || '--'\r\n                  }}</a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"单位名称\">{{\r\n                    formData.orgName || '--'\r\n                  }}</a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"操作类型\">{{\r\n                    formData.oprTypeName || '--'\r\n                  }}</a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"办理依据\">{{\r\n                    formData.remark || '--'\r\n                  }}</a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n            </ec-form>\r\n          </ec-panel-item>\r\n        </ec-panel>\r\n\r\n        <ec-panel color-code=\"002\">\r\n          <ec-panel-header>\r\n            <ec-panel-item-left class=\"ec-panel-item-left\">\r\n              <div class=\"ec-panel-title\">\r\n                <div class=\"ec-bar bg-color-1\"></div>\r\n                <div class=\"ec-title\" style=\"color: rgb(24, 144, 255); font-weight: 700\">\r\n                  第二步：录入/编辑数量\r\n                </div>\r\n              </div>\r\n            </ec-panel-item-left>\r\n          </ec-panel-header>\r\n\r\n          <ec-panel-body>\r\n            <ec-table\r\n              border\r\n              show-overflow\r\n              keep-source\r\n              ref=\"xTable\"\r\n              class=\"my-xtable-antd\"\r\n              :data=\"tableData\"\r\n            >\r\n              <ec-table-col field=\"name\" title=\"\" align=\"left\" min-width=\"150\" />\r\n              <ec-table-colgroup title=\"收购计划执行量\">\r\n                <ec-table-col field=\"planTotalWeight\" title=\"合计\" align=\"center\" width=\"200\" />\r\n                <ec-table-col field=\"planInnerWeight\" title=\"国内\" align=\"center\" width=\"200\" />\r\n                <ec-table-col\r\n                  field=\"planExportWeight\"\r\n                  title=\"出口备货\"\r\n                  align=\"center\"\r\n                  width=\"200\"\r\n                />\r\n              </ec-table-colgroup>\r\n              <ec-table-col field=\"planPlantArea\" title=\"种植面积\" align=\"right\" width=\"200\" />\r\n            </ec-table>\r\n          </ec-panel-body>\r\n        </ec-panel>\r\n      </ec-container-body>\r\n      <ec-container-footer fixed>\r\n        <a-space>\r\n          <a-button @click=\"onclose\">关闭</a-button>\r\n        </a-space>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'ExecutionEnterAdjustDetManage',\r\n  data() {\r\n    return {\r\n      title: '新增',\r\n      tableData: [],\r\n      data: {},\r\n      leafTypeName: '',\r\n      leafTypeCode: '',\r\n      weightUnitName: '',\r\n      areaUnitName: '',\r\n      nowYear: '',\r\n      rowData: '',\r\n      orgCode: '',\r\n      visible: false,\r\n      isShowSaveAndAdd: true,\r\n      ruleForm: {},\r\n      leafTypeList: [],\r\n      workOptType: [\r\n        { id: '0', name: '减量' },\r\n        { id: '1', name: '增量' },\r\n      ],\r\n      formData: {\r\n        leafTypeCode: '',\r\n        orgName: '',\r\n        oprType: '',\r\n        remark: '',\r\n      },\r\n      beforeAjustData: {},\r\n      rules: {\r\n        oprType: { required: true, message: '请选择操作类型', trigger: 'blur' },\r\n        orgName: { required: true, message: '请选择单位', trigger: 'blur' },\r\n        leafTypeCode: { required: true, message: '请选择烟叶类型', trigger: 'blur' },\r\n      },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // 获取调整前数据\r\n    handleGetBeforeAdjustData() {\r\n      // 获取调整前的数据\r\n      const beforeAjustData = {\r\n        name: '调整前',\r\n        planTotalWeight: 500000,\r\n        planInnerWeight: 200000,\r\n        planExportWeight: 300000,\r\n        planPlantArea: 600000,\r\n      };\r\n      //  将数据转化成对应的单位\r\n      this.beforeAjustData = this.handleDataParse(beforeAjustData);\r\n    },\r\n    //  将数据转化成对应的单位(获取到的数据都是基础单位，要转成对应的)\r\n    handleDataParse(beforeAjustData) {\r\n      const obj = beforeAjustData;\r\n      obj.planTotalWeight = (obj.planTotalWeight / this.weightUnit).toFixed(2);\r\n      obj.planInnerWeight = (obj.planInnerWeight / this.weightUnit).toFixed(2);\r\n      obj.planExportWeight = (obj.planExportWeight / this.weightUnit).toFixed(2);\r\n      obj.planPlantArea = (obj.planPlantArea / this.areaUnit).toFixed(2);\r\n      return obj;\r\n    },\r\n\r\n    // 本次调整数据改变\r\n    handleCurrentDataChange() {\r\n      this.tableData.splice(this.tableData.length - 1, 1);\r\n      this.handleAfterAdjustData();\r\n    },\r\n\r\n    // 显示推窗\r\n    show(row) {\r\n      this.visible = true;\r\n\r\n      this.data = row;\r\n      const selectRow = row.selectedRows;\r\n\r\n      this.leafTypeName = row.leafTypeObj.leafTypeName;\r\n      this.weightUnitName = row.weightUnitObj.weightUnitName;\r\n      this.weightUnit = row.weightUnitObj.weightUnitCd;\r\n      this.areaUnitName = row.areaUnitObj.areaUnitName;\r\n      this.areaUnit = row.areaUnitObj.areaUnitCd;\r\n      this.nowYear = row.nowYear;\r\n\r\n      this.formData = selectRow;\r\n      const leafTypeObj = this.leafTypeList.find(\r\n        (item) => item.leafTypeCode === selectRow.leafTypeCode,\r\n      );\r\n      this.formData.leafTypeName = leafTypeObj?.leafTypeName;\r\n\r\n      const oprTypeObj = this.workOptType.find((item) => item.id === selectRow.oprType);\r\n      this.formData.oprTypeName = oprTypeObj?.name;\r\n\r\n      // 调整前数据\r\n      this.handleGetBeforeAdjustData();\r\n      this.tableData.push(this.beforeAjustData);\r\n\r\n      // 本次调整的数据\r\n      const currentAdjustData = {\r\n        name: '本次调整',\r\n        planTotalWeight: selectRow.planTotalWeight || 0,\r\n        planInnerWeight: selectRow.planInnerWeight || 0,\r\n        planExportWeight: selectRow.planExportWeight || 0,\r\n        planPlantArea: selectRow.planPlantArea || 0,\r\n      };\r\n      this.tableData.push(currentAdjustData);\r\n\r\n      // 调整后数据\r\n\r\n      this.handleAfterAdjustData();\r\n    },\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        const value = item;\r\n        value[field] = value[field] || 0;\r\n        count += Number(item[field]);\r\n      });\r\n      return count.toFixed(2);\r\n    },\r\n    handleAfterAdjustData() {\r\n      const columns = ['planTotalWeight', 'planInnerWeight', 'planExportWeight', 'planPlantArea'];\r\n      const afterAdjustData = {\r\n        name: '调整后',\r\n      };\r\n      columns.forEach((item) => {\r\n        afterAdjustData[item] = this.sumNum(this.tableData, item);\r\n      });\r\n      this.tableData.push(afterAdjustData);\r\n    },\r\n\r\n    // 获取烟叶类型数据\r\n    handleGetLeafTypeList() {\r\n      this.$apis.tbm.tabaccoType.query({}).then((res) => {\r\n        this.leafTypeList = res?.rows || [];\r\n        const { leafTypeList } = this;\r\n        if (leafTypeList && leafTypeList.length > 0) {\r\n          this.leafTypeCd = (\r\n            leafTypeList.find((item) => item.leafTypeName === '烤烟') || {}\r\n          ).leafTypeCode;\r\n          console.log(`0000000000000000000=${this.formData.leafTypeCode}`);\r\n          this.formData.leafTypeCode = this.leafTypeCd;\r\n        }\r\n      });\r\n    },\r\n\r\n    // 取消\r\n    onclose() {\r\n      this.$refs.ruleForm1.resetFields();\r\n      this.tableData = [];\r\n      this.visible = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=50bdae09&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <ec-container height=\"100%\">\r\n    <ec-container-header>\r\n      <ec-panel-item>\r\n        <ec-panel-item-left>\r\n          <ec-header title=\"收购计划执行量调整\" icon=\"onetomany\" color-code=\"008\" />\r\n        </ec-panel-item-left>\r\n      </ec-panel-item>\r\n    </ec-container-header>\r\n    <ec-container-body>\r\n      <ec-panel :auto=\"false\">\r\n        <ec-panel-toolbar>\r\n          <ec-query-panel :defaultFold=\"true\" @query=\"$refs.table.pageAction(1)\" @reset=\"onReset\">\r\n            <ec-query-item label=\"烟叶类型\">\r\n              <ec-select\r\n                showSearch\r\n                allowClear\r\n                placeholder=\"请选择\"\r\n                v-model=\"queryItems.leafTypeCode\"\r\n              >\r\n                <a-select-option v-for=\"leafTypeEk in leafTypeList\" :key=\"leafTypeEk.leafTypeCode\">\r\n                  {{ leafTypeEk.leafTypeName }}\r\n                </a-select-option>\r\n              </ec-select>\r\n            </ec-query-item>\r\n\r\n            <ec-query-item label=\"提交状态\">\r\n              <a-select allow-clear placeholder=\"请选择\" v-model=\"queryItems.submitState\">\r\n                <a-select-option v-for=\"item in workSubmitState\" :key=\"item.id\">\r\n                  {{ item.name }}\r\n                </a-select-option>\r\n              </a-select>\r\n            </ec-query-item>\r\n\r\n            <!-- <ec-query-item label=\"审核状态\">\r\n              <a-select allow-clear placeholder=\"请选择\" v-model=\"queryItems.auditState\">\r\n                <a-select-option v-for=\"item in workAuditState\" :key=\"item.id\">\r\n                  {{ item.name }}\r\n                </a-select-option>\r\n              </a-select>\r\n            </ec-query-item> -->\r\n            <ec-query-item label=\"操作类型\">\r\n              <a-select allow-clear placeholder=\"请选择\" v-model=\"queryItems.oprType\">\r\n                <a-select-option v-for=\"item in workOptType\" :key=\"item.id\">\r\n                  {{ item.name }}\r\n                </a-select-option>\r\n              </a-select>\r\n            </ec-query-item>\r\n            <template #inner>\r\n              <ec-query-item label=\"办理依据\">\r\n                <a-input v-model=\"queryItems.remark\" placeholder=\"请输入办理依据\" />\r\n              </ec-query-item>\r\n\r\n              <ec-query-item label=\"单位名称\">\r\n                <org-picker v-model=\"queryItems.orgCode\" placeholder=\"请选择\" />\r\n              </ec-query-item>\r\n            </template>\r\n          </ec-query-panel>\r\n          <ec-divider />\r\n        </ec-panel-toolbar>\r\n        <ec-panel-header>\r\n          <ec-panel-item>\r\n            <ec-panel-item-left>\r\n              <a-button type=\"primary\" @click=\"onAdd\">新增</a-button>\r\n              <a-button @click=\"onDel\">删除</a-button>\r\n              <a-button @click=\"onSubmit\">提交</a-button>\r\n            </ec-panel-item-left>\r\n            <ec-panel-item-right>\r\n              <a-space :size=\"15\">\r\n                <span\r\n                  >重量单位：<ec-select\r\n                    showSearch\r\n                    allowClear\r\n                    placeholder=\"请选择\"\r\n                    v-model=\"weightUnit\"\r\n                    @select=\"handleUnitParse()\"\r\n                    style=\"width: 150px\"\r\n                  >\r\n                    <a-select-option\r\n                      v-for=\"weightUnit in weightUnitList\"\r\n                      :key=\"weightUnit.weightUnitCd\"\r\n                    >\r\n                      {{ weightUnit.weightUnitName }}\r\n                    </a-select-option>\r\n                  </ec-select>\r\n                </span>\r\n                <span\r\n                  >面积单位：<ec-select\r\n                    showSearch\r\n                    allowClear\r\n                    placeholder=\"请选择\"\r\n                    v-model=\"areaUnit\"\r\n                    @select=\"handleUnitParse()\"\r\n                    style=\"width: 150px\"\r\n                  >\r\n                    <a-select-option v-for=\"areaUnit in areaUnitList\" :key=\"areaUnit.areaUnitCd\">\r\n                      {{ areaUnit.areaUnitName }}\r\n                    </a-select-option>\r\n                  </ec-select>\r\n                </span>\r\n              </a-space>\r\n            </ec-panel-item-right>\r\n          </ec-panel-item>\r\n        </ec-panel-header>\r\n        <ec-panel-body>\r\n          <ec-table\r\n            ref=\"table\"\r\n            border\r\n            height=\"100%\"\r\n            :auto=\"false\"\r\n            @page-action=\"handlePagination\"\r\n            :pagination=\"pagination\"\r\n            :data=\"tableData.rows\"\r\n            @checkbox-all=\"selectAllEvent\"\r\n            @checkbox-change=\"selectRowChange\"\r\n            :loading=\"loading\"\r\n            show-footer\r\n            :footer-method=\"footerMethod\"\r\n            highlight-current-row\r\n          >\r\n            <ec-table-col type=\"checkbox\" width=\"50\" align=\"center\"></ec-table-col>\r\n            <ec-table-col title=\"序号\" type=\"seq\" width=\"70\" align=\"center\" />\r\n            <ec-table-col field=\"orgName\" title=\"单位名称\" align=\"left\" min-width=\"200\" />\r\n            <ec-table-colgroup title=\"收购计划执行量\">\r\n              <ec-table-col field=\"aaPlanTotalWeight\" title=\"合计\" align=\"center\" width=\"120\" />\r\n              <ec-table-col field=\"aaPlanInnerWeight\" title=\"国内\" align=\"center\" width=\"120\" />\r\n              <ec-table-col\r\n                field=\"aaPlanExportWeight\"\r\n                title=\"出口备货\"\r\n                align=\"center\"\r\n                width=\"120\"\r\n              />\r\n            </ec-table-colgroup>\r\n            <ec-table-col field=\"aaPlanPlantArea\" title=\"种植面积\" align=\"right\" width=\"120\" />\r\n            <ec-table-col field=\"remark\" title=\"办理依据\" align=\"left\" width=\"150\" />\r\n            <ec-table-col field=\"submitState\" title=\"提交状态\" align=\"center\" width=\"100\">\r\n              <template #default=\"{ row }\">\r\n                <div v-if=\"row.submitState === '1'\">\r\n                  <span>已提交</span>\r\n                </div>\r\n                <div v-else>\r\n                  <span>未提交</span>\r\n                </div>\r\n              </template>\r\n            </ec-table-col>\r\n\r\n            <ec-table-col title=\"操作\" align=\"center\" width=\"150\">\r\n              <template #default=\"{ row }\">\r\n                <a-button type=\"link\" @click=\"onEdit(row)\">编辑</a-button>\r\n                <a-button type=\"link\" @click=\"onDetail(row)\">详细</a-button>\r\n              </template>\r\n            </ec-table-col>\r\n          </ec-table>\r\n        </ec-panel-body>\r\n      </ec-panel>\r\n      <execution-enter-adjust-form\r\n        @onQuery=\"onQuery\"\r\n        ref=\"ExecutionEnterAdjustForm\"\r\n      ></execution-enter-adjust-form>\r\n      <execution-enter-adjust-add\r\n        @onQuery=\"onQuery\"\r\n        ref=\"ExecutionEnterAdjustAdd\"\r\n      ></execution-enter-adjust-add>\r\n      <detail ref=\"Detail\"></detail>\r\n    </ec-container-body>\r\n  </ec-container>\r\n</template>\r\n\r\n<script>\r\nimport ExecutionEnterAdjustForm from './ExecutionEnterAdjustForm.vue';\r\nimport ExecutionEnterAdjustAdd from './ExecutionEnterAdjustAdd.vue';\r\nimport Detail from './Detail.vue';\r\n// import _ from 'lodash';\r\nimport { OrgPicker } from '@euler-material/ecm-ui';\r\n\r\nexport default {\r\n  name: 'ExecutionEnterAdjustManage',\r\n  components: {\r\n    ExecutionEnterAdjustForm,\r\n    ExecutionEnterAdjustAdd,\r\n    Detail,\r\n    OrgPicker,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      queryItems: {\r\n        busiYear: '',\r\n        leafTypeCode: '10',\r\n        submitState: '',\r\n        auditState: '',\r\n        oprType: '',\r\n        remark: '',\r\n        orgCode: undefined,\r\n      },\r\n      orgCodeList: [],\r\n      weightUnit: 500000,\r\n      areaUnit: 10000,\r\n      nowYear: '',\r\n      loading: false,\r\n      leafTypeCd: '',\r\n      bizCode: '',\r\n      leafTypeList: [\r\n        { leafTypeCode: '10', leafTypeName: '烤烟' },\r\n        { leafTypeCode: '20', leafTypeName: '晾晒烟(全部)' },\r\n        { leafTypeCode: '2013', leafTypeName: '晾晒烟(雪茄烟叶)' },\r\n      ],\r\n      oldDataRow: [],\r\n      workSubmitState: [\r\n        { id: '', name: '全部' },\r\n        { id: '0', name: '未提交' },\r\n        { id: '1', name: '已提交' },\r\n      ],\r\n      workAuditState: [\r\n        { id: '', name: '全部' },\r\n        { id: '0', name: '未审批' },\r\n        { id: '1', name: '处长审批' },\r\n        { id: '2', name: '副总经理审批' },\r\n        { id: '3', name: '完成' },\r\n      ],\r\n      workOptType: [\r\n        { id: '', name: '全部' },\r\n        { id: '0', name: '调减' },\r\n        { id: '1', name: '调增' },\r\n      ],\r\n      weightUnitList: [\r\n        { weightUnitCd: 1, weightUnitName: '公斤', isSelected: false },\r\n        { weightUnitCd: 50, weightUnitName: '担', isSelected: false },\r\n        { weightUnitCd: 500000, weightUnitName: '万担', isSelected: false },\r\n      ],\r\n      areaUnitList: [\r\n        { areaUnitCd: 10000, areaUnitName: '万亩' },\r\n        { areaUnitCd: 1, areaUnitName: '亩' },\r\n      ],\r\n      pagination: {\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n      tableData: {\r\n        // 数据表格\r\n        // totalRows: 0,\r\n        rows: [],\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    appConfig() {\r\n      return this.$store.getters.getAppConfig;\r\n    },\r\n  },\r\n  created() {\r\n    const { appCode } = this.$router.history.current.query;\r\n    this.appCode = appCode || 'CM'; // 获取当前登入信息\r\n  },\r\n\r\n  methods: {\r\n    // 单位切换数据的处理\r\n    handleUnitParse() {\r\n      const newTableData = [];\r\n      const handleOlDataRow = JSON.parse(JSON.stringify(this.oldDataRow)) || [];\r\n\r\n      handleOlDataRow.forEach((item) => {\r\n        const obj = item;\r\n        obj.aaPlanTotalWeight = (obj.aaPlanTotalWeight / this.weightUnit).toFixed(2);\r\n        obj.aaPlanInnerWeight = (obj.aaPlanInnerWeight / this.weightUnit).toFixed(2);\r\n        obj.aaPlanExportWeight = (obj.aaPlanExportWeight / this.weightUnit).toFixed(2);\r\n        obj.aaPlanPlantArea = (obj.aaPlanPlantArea / this.areaUnit).toFixed(2);\r\n        newTableData.push(obj);\r\n      });\r\n      console.log(newTableData);\r\n      this.tableData.rows = newTableData;\r\n    },\r\n\r\n    async handlePagination(pageNumber, pageSize) {\r\n      this.pagination.pageNumber = pageNumber;\r\n      this.pagination.pageSize = pageSize;\r\n      await this.handleGetLeafTypeList();\r\n    },\r\n\r\n    // 获取烟叶类型数据\r\n    async handleGetLeafTypeList() {\r\n      if (!this.leafTypeList?.length) {\r\n        const res = await this.$apis.bpm.executionEnter.queryLeafType({});\r\n        this.leafTypeList = res?.rows || [];\r\n        this.leafTypeList.some((item) => {\r\n          if (item.leafTypeName === '烤烟') {\r\n            this.leafTypeCd = item.leafTypeCode;\r\n            this.queryItems.leafTypeCode = item.leafTypeCode;\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n      if (!this.orgCode) {\r\n        const orgObj = await this.$apis.bim.curOrg.get({});\r\n        this.bizCode = orgObj?.bizCode;\r\n        this.orgCode = orgObj?.orgUniqueCode; // todo 写死数据\r\n      }\r\n      if (!this.queryItems.busiYear > 0) {\r\n        // 获取年度\r\n        const data = {\r\n          bizCode: this.appConfig.bizCode, // todo 写死的数据\r\n          appCode: this.appCode || 'CM',\r\n          yearTypeCode: 'BIZ_YEAR',\r\n        };\r\n        const busiYearObj = await this.$apis.bpm.executionEnter.getBuYear(data);\r\n        this.queryItems.busiYear = busiYearObj?.yearValue;\r\n        this.nowYear = busiYearObj?.yearValue;\r\n      }\r\n      this.onQuery();\r\n    },\r\n\r\n    // 数据初始化\r\n    onQuery() {\r\n      this.loading = true;\r\n      // const { orgCodeList } = this;\r\n      // const orgCode = orgCodeList.length > 0 ? orgCodeList[0] : '';\r\n      const data = {\r\n        pageNo: this.pagination.pageNumber,\r\n        pageSize: this.pagination.pageSize,\r\n        leafTypeCode: this.queryItems.leafTypeCode,\r\n        submitState: this.queryItems.submitState,\r\n        busiYear: this.queryItems.busiYear,\r\n        auditState: this.queryItems.auditState,\r\n        oprType: this.queryItems.oprType,\r\n        remark: this.queryItems.remark,\r\n        orgCode: this.queryItems.orgCode,\r\n      };\r\n      console.log(data);\r\n      this.$apis.bpm.executionEnter\r\n        .queryAdjust(data)\r\n        .then((res) => {\r\n          this.tableData = res;\r\n          const { rows } = this.tableData;\r\n          this.pagination.total = res.totalRows;\r\n          this.oldDataRow = JSON.parse(JSON.stringify(rows));\r\n          console.log(`66666${JSON.stringify(this.oldDataRow)}`);\r\n          // 对返回的数据处理，转成对应的单位数据\r\n          this.handleUnitParse();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n          this.selectedRows = [];\r\n        });\r\n    },\r\n    // 新增\r\n    onAdd() {\r\n      const leafTypeObj = this.leafTypeList.find(\r\n        (res) => res.leafTypeCode === this.queryItems.leafTypeCode,\r\n      );\r\n      const weightUnitObj = this.weightUnitList.find((res) => res.weightUnitCd === this.weightUnit);\r\n      const areaUnitObj = this.areaUnitList.find((res) => res.areaUnitCd === this.areaUnit);\r\n      const selectedRows = {}; // 深拷贝\r\n      const { leafTypeList } = this;\r\n      const data = {\r\n        type: 'edit',\r\n        leafTypeObj,\r\n        leafTypeList,\r\n        weightUnitObj,\r\n        areaUnitObj,\r\n        selectedRows,\r\n        nowYear: this.queryItems.busiYear,\r\n      };\r\n\r\n      this.$refs.ExecutionEnterAdjustAdd.show(data);\r\n    },\r\n\r\n    // 编辑\r\n    onEdit(row) {\r\n      const leafTypeObj = this.leafTypeList.find(\r\n        (res) => res.leafTypeCode === this.queryItems.leafTypeCode,\r\n      );\r\n      const weightUnitObj = this.weightUnitList.find((res) => res.weightUnitCd === this.weightUnit);\r\n      const areaUnitObj = this.areaUnitList.find((res) => res.areaUnitCd === this.areaUnit);\r\n      const selectedRows = JSON.parse(JSON.stringify(row)); // 深拷贝\r\n      const { leafTypeList } = this;\r\n      const data = {\r\n        type: 'edit',\r\n        leafTypeObj,\r\n        leafTypeList,\r\n        weightUnitObj,\r\n        areaUnitObj,\r\n        selectedRows,\r\n        nowYear: this.queryItems.busiYear,\r\n      };\r\n\r\n      this.$refs.ExecutionEnterAdjustForm.show(data);\r\n    },\r\n\r\n    // 详细\r\n    onDetail(row) {\r\n      const leafTypeObj = this.leafTypeList.find(\r\n        (res) => res.leafTypeCode === this.queryItems.leafTypeCode,\r\n      );\r\n      const weightUnitObj = this.weightUnitList.find((res) => res.weightUnitCd === this.weightUnit);\r\n      const areaUnitObj = this.areaUnitList.find((res) => res.areaUnitCd === this.areaUnit);\r\n      const selectedRows = JSON.parse(JSON.stringify(row)); // 深拷贝\r\n\r\n      const leafTypeDataSource = this.leafTypeList;\r\n      const data = {\r\n        leafTypeObj,\r\n        leafTypeDataSource,\r\n        weightUnitObj,\r\n        areaUnitObj,\r\n        selectedRows,\r\n        nowYear: this.queryItems.busiYear,\r\n      };\r\n\r\n      this.$refs.Detail.show(data);\r\n    },\r\n\r\n    // 按钮删除\r\n    onDel() {\r\n      if (!this.selectedRows || this.selectedRows.length <= 0) {\r\n        this.$message.error('请选择一条数据再删除');\r\n        return;\r\n      }\r\n\r\n      const submitData = this.selectedRows.find(\r\n        (item) => item.submitState === '1' && item.auditState !== '0',\r\n      );\r\n      console.log(`--${JSON.stringify(submitData)}`);\r\n      if (submitData) {\r\n        this.$message.error('存在已提交数据，不能删除！');\r\n        return;\r\n      }\r\n      console.log(JSON.stringify(this.selectedRows));\r\n      this.$confirm({\r\n        title: '是否执行该操作?',\r\n        content: () => (\r\n          <div style=\"color:red;\">\r\n            是否确认删除选中的数据，确认请点击'确认'按钮，取消点击'取消'按钮。\r\n          </div>\r\n        ),\r\n        onOk: () => {\r\n          this.loading = true;\r\n          const idList = [];\r\n          for (let i = 0; i < this.selectedRows.length; i++) {\r\n            idList.push(this.selectedRows[i].oprRecordId);\r\n          }\r\n          this.$apis.bpm.executionEnter.delete({ oprRecordIds: idList }).then((res) => {\r\n            console.log(JSON.stringify(res));\r\n            if (res.result) {\r\n              this.loading = false;\r\n              this.onQuery();\r\n              this.$message.success('操作成功');\r\n            } else {\r\n              this.$message.error('操作失败');\r\n            }\r\n          });\r\n        },\r\n      });\r\n    },\r\n\r\n    // 按钮提交\r\n    onSubmit() {\r\n      if (!this.selectedRows || this.selectedRows.length <= 0) {\r\n        this.$message.error('请选择一条数据再提交');\r\n        return;\r\n      }\r\n\r\n      const submitData = this.selectedRows.find(\r\n        (item) => item.submitState === '1' && item.auditState !== '0',\r\n      );\r\n      console.log(`--${JSON.stringify(submitData)}`);\r\n      if (submitData) {\r\n        this.$message.error('存在已提交数据，请勿重复提交');\r\n        return;\r\n      }\r\n      console.log(JSON.stringify(this.selectedRows));\r\n      this.$confirm({\r\n        title: '是否执行该操作?',\r\n        content: () => (\r\n          <div style=\"color:red;\">\r\n            是否确认提交选中的数据，确认请点击'确认'按钮，取消点击'取消'按钮。\r\n          </div>\r\n        ),\r\n        onOk: () => {\r\n          this.loading = true;\r\n          const idList = [];\r\n          for (let i = 0; i < this.selectedRows.length; i++) {\r\n            idList.push(this.selectedRows[i].oprRecordId);\r\n          }\r\n          this.$apis.bpm.executionEnter.submit({ oprRecordIds: idList }).then((res) => {\r\n            console.log(JSON.stringify(res));\r\n            if (res.result) {\r\n              this.loading = false;\r\n              this.$message.success('操作成功');\r\n              this.onQuery();\r\n            } else {\r\n              this.$message.error('操作失败');\r\n            }\r\n          });\r\n        },\r\n      });\r\n    },\r\n\r\n    // 重置\r\n    onReset() {\r\n      this.queryItems.leafTypeCode = this.leafTypeCd;\r\n\r\n      this.queryItems.busiYear = this.nowYear;\r\n\r\n      this.queryItems.submitState = '';\r\n      this.queryItems.auditState = '';\r\n      this.queryItems.oprType = '';\r\n      this.queryItems.remark = '';\r\n      this.queryItems.orgName = '';\r\n      this.queryItems.orgCode = undefined;\r\n\r\n      this.$refs.table.pageAction(1);\r\n    },\r\n\r\n    // 对传入到下一个页面的饿数据进行处理\r\n    handleData() {\r\n      const leafTypeObj = this.leafTypeList.find(\r\n        (res) => res.leafTypeCode === this.queryItems.leafTypeCode,\r\n      );\r\n      const weightUnitObj = this.weightUnitList.find((res) => res.weightUnitCd === this.weightUnit);\r\n\r\n      const areaUnitObj = this.areaUnitList.find((res) => res.areaUnitCd === this.areaUnit);\r\n\r\n      const data = {\r\n        leafTypeObj,\r\n        weightUnitObj,\r\n        areaUnitObj,\r\n        nowYear: this.queryItems.busiYear,\r\n      };\r\n      return data;\r\n    },\r\n\r\n    // 根据编码翻译对应的名称\r\n    handleLeafTypeName(typeCd) {\r\n      const leafType = this.leafTypeList.find((item) => item.leafTypeCode === typeCd);\r\n      return leafType?.leafTypeName;\r\n    },\r\n\r\n    // 合计的数据\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        count += Number(item[field]);\r\n      });\r\n      return count.toFixed(2);\r\n    },\r\n    // 底部合计行\r\n    footerMethod({ columns, data }) {\r\n      return [\r\n        columns.map((column, columnIndex) => {\r\n          if (columnIndex === 0) {\r\n            return '合计';\r\n          }\r\n          if (\r\n            ['planTotalWeight', 'planInnerWeight', 'planExportWeight', 'planPlantArea'].includes(\r\n              column.property,\r\n            )\r\n          ) {\r\n            return this.sumNum(data, column.property);\r\n          }\r\n          return null;\r\n        }),\r\n      ];\r\n    },\r\n\r\n    // 选中所有列表\r\n    selectAllEvent({ checked, records }) {\r\n      console.log(`${checked}-选中所有records包含选中的所以对象----${JSON.stringify(records)}`);\r\n      this.selectedRows = records;\r\n    },\r\n\r\n    // 选中列表\r\n    selectRowChange({ checked, records }) {\r\n      console.log(\r\n        `${checked}-选择改变时会把records包含选中的所以对象----${JSON.stringify(records)}`,\r\n      );\r\n      this.selectedRows = records;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.year {\r\n  font-size: 18px;\r\n  line-height: 22px;\r\n\r\n  color: #18191a;\r\n  font-weight: 700;\r\n  padding-top: 18px;\r\n  padding-right: 50px;\r\n  font-family: '微软雅黑 Bold', '微软雅黑', 'Microsoft YaHei', sans-serif;\r\n}\r\n.paddingTop {\r\n  padding-top: 15px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=f8a840a8&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=f8a840a8&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8a840a8\",\n  null\n  \n)\n\nexport default component.exports","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=f8a840a8&prod&lang=less&scoped=true&\"","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var defineProperty = require(\"./defineProperty.js\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"sourceRoot":""}