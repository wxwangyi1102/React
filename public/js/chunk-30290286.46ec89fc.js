(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30290286"],{"0676":function(e,t,r){function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r("d9e2"),e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},"11b0":function(e,t,r){function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630"),e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},2236:function(e,t,r){var a=r("5a43");function n(e){if(Array.isArray(e))return a(e)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"278c":function(e,t,r){var a=r("c135"),n=r("9b42"),o=r("6613"),l=r("c240");function i(e,t){return a(e)||n(e,t)||o(e,t)||l()}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"3b05":function(e,t,r){},"448a":function(e,t,r){var a=r("2236"),n=r("11b0"),o=r("6613"),l=r("0676");function i(e){return a(e)||n(e)||o(e)||l()}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},5480:function(e,t,r){"use strict";r("3b05")},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4");function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"5a43":function(e,t){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},63748:function(e,t,r){r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("d9e2");var a=r("6613");function n(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,l=e},f:function(){try{i||null==r["return"]||r["return"]()}finally{if(s)throw l}}}}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},6613:function(e,t,r){r("fb6a"),r("d3b7"),r("b0c0"),r("a630"),r("3ca3"),r("ac1f"),r("00b4");var a=r("5a43");function n(e,t){if(e){if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},9523:function(e,t){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"9a93":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ec-container",{attrs:{title:"原烟包装规格管理",icon:"onetomany","color-code":"001"}},[r("ec-container-body",[r("ec-panel",[r("ec-panel-toolbar",[r("ec-panel-item",[r("ec-query-panel",{attrs:{defaultFold:""},on:{query:e.getTableData,reset:e.onReset}},[r("ec-query-item",{attrs:{label:"申请单位"}},[r("org-picker",{attrs:{"allow-clear":"",limitLevel:"2",disabled:"1"!==e.orgLevelEk},model:{value:e.listQuery.applyOrgCd,callback:function(t){e.$set(e.listQuery,"applyOrgCd",t)},expression:"listQuery.applyOrgCd"}})],1),r("ec-query-item",{attrs:{label:"烟叶类型"}},[r("ec-select",{attrs:{showSearch:"",allowClear:"",placeholder:"请选择"},model:{value:e.listQuery.leafTypeCd,callback:function(t){e.$set(e.listQuery,"leafTypeCd",t)},expression:"listQuery.leafTypeCd"}},e._l(e.leafTypeList,(function(t){return r("a-select-option",{key:t.leafTypeCode,attrs:{value:t.leafTypeCode}},[e._v(" "+e._s(t.leafTypeName)+" ")])})),1)],1),r("ec-query-item",{attrs:{label:"包装类型"}},[r("ec-select",{attrs:{showSearch:"",allowClear:"",placeholder:"请选择"},model:{value:e.listQuery.mouldType,callback:function(t){e.$set(e.listQuery,"mouldType",t)},expression:"listQuery.mouldType"}},e._l(e.packagesTypes,(function(t){return r("a-select-option",{key:t.value,attrs:{value:t.label}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1)],1),r("ec-divider")],1),r("ec-panel-body",[r("ec-v-layout",[r("ec-v-item",[r("ec-panel-toolbar",[r("ec-panel-item-left",[r("a-button",{attrs:{type:"primary",loading:e.appearLoading},on:{click:e.onBack}},[e._v("退回")])],1)],1)],1),r("ec-v-item",[r("ec-table",{ref:"table",attrs:{pagination:e.listQuery,data:e.tableData,loading:e.loading},on:{"checkbox-all":e.onSelTableData,"checkbox-change":e.onSelTableData,"page-action":e.handlePagination}},[r("ec-table-col",{attrs:{width:"80",type:"checkbox",align:"center"}}),r("ec-table-col",{attrs:{title:"序号",width:"80",type:"seq",align:"center"}}),r("ec-table-col",{attrs:{title:"申请单位",field:"applyOrgName",align:"center"}}),r("ec-table-col",{attrs:{title:"烟叶形态",field:"leafTypeName",align:"center"}}),r("ec-table-col",{attrs:{title:"包装类型",field:"packType",align:"center"}}),r("ec-table-col",{attrs:{title:"规格(KG/件)",field:"spec",align:"center"}}),r("ec-table-col",{attrs:{title:"状态",field:"specState",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return["0"===a.specState?r("div",{staticStyle:{color:"rgba(0, 0, 0, 0.447)"}},[r("span",{staticStyle:{"margin-right":"4px"}},[e._v("●")]),r("span",[e._v("未上报")])]):"1"===a.specState?r("div",[r("span",{staticStyle:{color:"#409eff","margin-right":"4px"}},[e._v("●")]),r("span",[e._v("已上报")])]):r("div",{staticStyle:{color:"rgba(0, 0, 0, 0.447)"}},[r("span",{staticStyle:{"margin-right":"4px"}},[e._v("●")]),r("span",[e._v("已退回")])])]}}])})],1)],1)],1)],1)],1),r("ec-drawer",{attrs:{title:"详细","is-confirm":!0,size:"small",visible:e.visible},on:{close:function(t){e.visible=!1}}},[r("ec-container",{attrs:{height:"auto",fixed:"top bottom","color-code":"007"}},[r("ec-container-body",[r("ec-panel",{staticClass:"prodDrawer",attrs:{"color-code":"001",title:"基本信息"}},[r("ec-panel-item",[r("a-row",{attrs:{type:"flex",gutter:12}},[r("a-col",{attrs:{span:12}},[e._v(" 申请单位: "),r("span",[e._v(e._s(e.formData.applyOrgName))])]),r("a-col",{attrs:{span:12}},[e._v(" 烟叶形态: "),r("span",[e._v(e._s(e.formData.leafFormName))])])],1),r("a-row",{attrs:{type:"flex",gutter:12}},[r("a-col",{attrs:{span:12}},[e._v(" 包装类型: "),r("span",[e._v(e._s(e.formData.packType))])]),r("a-col",{attrs:{span:12}},[e._v(" 规格: "),r("span",[e._v(e._s(e.formData.spec?e.formData.spec+"KG/件":""))])])],1),r("a-row",[r("a-col",{attrs:{span:12}},[e._v(" 状态: "),r("span",[e._v(e._s("0"===e.formData.specState?"未上报":"已上报"))])])],1)],1)],1)],1),r("ec-container-footer",{attrs:{fixed:""}},[r("a-space",[r("a-button",{on:{click:function(t){e.visible=!1}}},[e._v("关闭")])],1)],1)],1)],1)],1)],1)},n=[],o=r("b85c"),l=r("5530"),i=(r("e906"),r("dd14")),s=r.n(i),c=(r("d3b7"),r("a15b"),r("4de4"),{name:"MaterialApply",components:{OrgPicker:s.a},data:function(){return{appearLoading:!1,packagesTypes:[{label:"麻片",value:"1"},{label:"烟框",value:"2"},{label:"烟箱",value:"3"}],statusList:[{label:"已上报",value:"1"},{label:"已退回",value:"2"},{label:"未上报",value:"0"}],saveLoading:!1,deleteLoading:!1,usingLoading:!1,mouldTypeList:[{name:"模板类型1",id:"1"},{name:"模板类型2",id:"2"}],curType:"add",formData:{},formRules:{applyOrgCd:[{required:!0,message:"请选择申请单位",trigger:"change"}],leafTypeCd:[{required:!0,message:"请选择烟叶类型",trigger:"change"}],spec:[{required:!0,message:"请输入规格",trigger:"blur"}],packType:[{required:!0,message:"请选择包装类型",trigger:"change"}]},visible:!1,tableData:[],loading:!1,listQuery:{applyOrgCd:void 0,mouldName:void 0,mouldType:void 0,pageSize:10,pageNo:1,total:0},total:0,selectData:[],leafTypeList:[]}},computed:{_api:function(){return this.$apis.packingSpec.apply},bizCode:function(){return this.$store.getters.getAppConfig.bizCode},orgLevelEk:function(){return this.$store.getters.getAppConfig.orgLevelEk}},methods:{init:function(){"1"!==this.orgLevelEk&&(this.listQuery.applyOrgCd=this.bizCode)},onDetails:function(e){this.formData=Object(l["a"])({},e),this.visible=!0},orgChange:function(e){var t=e.selectOption.title;this.formData.applyOrgName=t},onReset:function(){var e=this.listQuery.total;this.listQuery={mouldName:void 0,mouldType:void 0,pageSize:10,pageNo:1,applyOrgCd:void 0,total:e}},onBack:function(){var e=this,t=this.$createElement;if(!this.selectData.length)return this.$message.error("请先选择数据");this.$confirm({title:"是否执行该操作?",content:function(){return t("div",{style:"color:red;"},["是否确认退回选中的数据，确认请点击'确认'按钮，取消点击'取消'按钮。"])},onOk:function(){e.appearLoading=!0;var t,r=[],a=Object(o["a"])(e.selectData);try{for(a.s();!(t=a.n()).done;){var n=t.value,l=n.packSpecId;r.push(l)}}catch(s){a.e(s)}finally{a.f()}var i={packSpecId:r};e._api.retreatPcTPackSpec(i).then((function(){e.getTableData(),e.$message.success("退回成功")})).finally((function(){e.selectData=[],e.appearLoading=!1}))}})},onSelTableData:function(e){var t=e.records;this.selectData=t},handlePagination:function(e,t){console.log(this.listQuery),this.listQuery.pageNo=e,this.listQuery.pageSize=t,this.getTableData()},getTableData:function(){var e=this;this.loading=!0;var t=Object.assign({},this.listQuery);"string"!==typeof t.applyOrgCd&&void 0!==t.applyOrgCd&&(t.applyOrgCd=t.applyOrgCd.join("")),this._api.pageQuerySourceManagePcTPackSpec(t).then((function(t){e.tableData=null===t||void 0===t?void 0:t.rows,console.log(e.tableData),e.listQuery.total=null===t||void 0===t?void 0:t.totalRows})).finally((function(){e.loading=!1}))},getLeafTypes:function(){var e=this;$ec.apis.bim.leafType.query({}).then((function(t){var r=t.rows;e.leafTypeList=(null===r||void 0===r?void 0:r.filter((function(e){return"0"===e.lastLevelFlag})))||[]}))}},created:function(){this.init(),this.getLeafTypes()}}),u=c,p=(r("5480"),r("2877")),f=Object(p["a"])(u,a,n,!1,null,null,null);t["default"]=f.exports},"9b42":function(e,t,r){function a(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(a=r.next()).done);l=!0)if(o.push(a.value),t&&o.length===t)break}catch(s){i=!0,n=s}finally{try{l||null==r["return"]||r["return"]()}finally{if(i)throw n}}return o}}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},b85c:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("d9e2");var a=r("06c5");function n(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Object(a["a"])(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,l=e},f:function(){try{i||null==r["return"]||r["return"]()}finally{if(s)throw l}}}}},c135:function(e,t){function r(e){if(Array.isArray(e))return e}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},c240:function(e,t,r){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r("d9e2"),e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},c973:function(e,t,r){function a(e,t,r,a,n,o,l){try{var i=e[o](l),s=i.value}catch(c){return void r(c)}i.done?t(s):Promise.resolve(s).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var l=e.apply(t,r);function i(e){a(l,n,o,i,s,"next",e)}function s(e){a(l,n,o,i,s,"throw",e)}i(void 0)}))}}r("d3b7"),e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},ded3:function(e,t,r){r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4");var a=r("9523");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports}}]);
//# sourceMappingURL=chunk-30290286.46ec89fc.js.map