(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fd7098a"],{"653d":function(e,t,a){"use strict";a("b0e1")},"8b32":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ec-container",{attrs:{title:"码包申请浮动比例管理",icon:"onetomany","color-code":"001"}},[a("ec-container-body",[a("ec-panel",[a("ec-panel-toolbar",[a("ec-panel-item",[a("ec-query-panel",{attrs:{"show-action":!1}},[a("ec-query-item",{attrs:{label:"调拨年度"}},[a("a-input-number",{model:{value:e.curYear,callback:function(t){e.curYear=t},expression:"curYear"}})],1)],1)],1),a("ec-divider")],1),a("ec-panel-body",[a("ec-v-layout",[a("ec-v-item",[a("ec-table",{ref:"table",attrs:{data:e.tableData,loading:e.loading,"edit-config":{trigger:"click",mode:"row"}}},[a("ec-table-col",{attrs:{width:"80",type:"checkbox",align:"center"}}),a("ec-table-col",{attrs:{title:"序号",width:"80",type:"seq",align:"center"}}),a("ec-table-col",{attrs:{title:"业务类型",field:"applyType",align:"center"}}),a("ec-table-col",{attrs:{title:"浮动比例 (%)",field:"floatPercent",align:"center","min-width":"150","edit-render":{}},scopedSlots:e._u([{key:"edit",fn:function(t){var n=t.row;return[a("a-input-number",{model:{value:n.floatPercent,callback:function(t){e.$set(n,"floatPercent",t)},expression:"row.floatPercent"}})]}}])})],1)],1)],1)],1),a("ec-panel-footer",[a("ec-panel-item-right",[e.busiYear===e.curYear?a("a-button",{attrs:{disabled:!e.tableData.length,loading:e.saveLoading,type:"primary"},on:{click:e.onSave}},[e._v("保存")]):e._e()],1)],1)],1)],1)],1)},i=[],l=(a("d3b7"),{name:"SpecFloat",data:function(){return{curYear:(new Date).getFullYear(),saveLoading:!1,tableData:[],loading:!1,selectData:[]}},computed:{_api:function(){return this.$apis.packingSpec.apply},busiYear:function(){var e,t;return null===(e=this.$store.getters.getAppConfig)||void 0===e||null===(t=e.yearValueMap)||void 0===t?void 0:t.SM_YEAR}},watch:{curYear:function(e){e&&this.getTableData()}},methods:{onSave:function(){var e=this;this.saveLoading=!0,this._api.updatePcTCpApplyFloatPer({pcTCpApplyFloatPerDTOS:this.tableData}).then((function(){e.$message.success("保存成功")})).finally((function(){e.saveLoading=!1,e.getTableData()}))},getTableData:function(){var e=this;this.loading=!0,this._api.listPcTCpApplyFloatPerByIds({tranYear:this.curYear}).then((function(t){e.tableData=null===t||void 0===t?void 0:t.rows})).finally((function(){e.loading=!1}))}},created:function(){this.getTableData()}}),c=l,o=(a("653d"),a("2877")),r=Object(o["a"])(c,n,i,!1,null,null,null);t["default"]=r.exports},b0e1:function(e,t,a){}}]);
//# sourceMappingURL=chunk-2fd7098a.43de44bc.js.map