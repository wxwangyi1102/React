{"version":3,"sources":["webpack:///./src/views/pcm/discard/receive/Index.vue?6733","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/views/pcm/discard/receive/Index.vue?71da","webpack:///./src/views/pcm/discard/receive/ReceiveDetail.vue?5a9f","webpack:///src/views/pcm/discard/receive/ReceiveDetail.vue","webpack:///./src/views/pcm/discard/receive/ReceiveDetail.vue?7622","webpack:///./src/views/pcm/discard/receive/ReceiveDetail.vue","webpack:///src/views/pcm/discard/receive/Index.vue","webpack:///./src/views/pcm/discard/receive/Index.vue?7a27","webpack:///./src/views/pcm/discard/receive/Index.vue"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","visibleTranYear","leafTypeName","totalData","applyNum","applyWeight","allotNum","collectNum","on","$event","$refs","table","pageAction","onReset","scopedSlots","_u","fn","handleLeafType","model","queryItems","callback","$$v","$set","expression","_l","leafTypeEk","leafTypeCode","proxy","onFetchBusinessOrgList","handleStore","storeObj","storeCode","storeName","staticStyle","handleUnitParse","weightUnit","weightUnitCd","weightUnitName","ref","pagination","tableData","rows","loading","handlePagination","row","onDetail","staticRenderFns","staticClass","visible","onclose","packTypeObj","enumKey","packType","name","_e","components","data","submitStateFlag","busiYear","nowYear","leafTypeCd","leafTypeList","oldDataRow","orgCode","weightUnitList","isSelected","packTypeList","created","methods","show","sumNum","list","field","count","footerMethod","columns","component","ReceiveDetail","SelectPicker","OrgPicker","objectData","tranYear","applyOrgCode","defaultLeafFormCode","areaUnit","oldLeafTypeList","oldTotalData","isNullData","beforeLeafTypeName","storeList","orgCodeList","procOrgList","enumMap","params","businessOrgList","bizCode","replaceFields","pkey","title","children","pageNumber","pageSize","total","computed","appConfig","appCode","enumTypeCodes","res","handleQueryBusinessOrgList","orgTypeEk","orgLevelEk","parentBizCode","resolve","storeRows","handleOlDataRow","itemObj","handleOldTotalData","handleGetLeafTypeList","onQuery","applyType","pageNo","console","pageConfCp","then","catch","finally","detailData","weightUnitObj","selectedRow","handleLeafTypeName","typeCd","selectAllEvent","selectRowChange","checked","JSON"],"mappings":"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","file":"js/chunk-4a05473a.b818fe90.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=41c6a977&prod&lang=less&scoped=true&\"","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-container',{attrs:{\"height\":\"100%\"}},[_c('ec-container-header',[_c('ec-panel-item',[_c('ec-panel-item-left',[_c('ec-header',{attrs:{\"title\":\"废弃烟叶码包分配领用\",\"icon\":\"onetomany\",\"color-code\":\"008\"}})],1)],1)],1),_c('ec-container-body',[_c('ec-panel',{attrs:{\"auto\":false}},[_c('ec-panel-toolbar',[_c('a-descriptions',{attrs:{\"bordered\":\"\",\"column\":4}},[_c('a-descriptions-item',{attrs:{\"label\":\"调拨年度\"}},[_vm._v(\" \"+_vm._s(_vm.visibleTranYear)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"烟叶类型\"}},[_vm._v(\" \"+_vm._s(this.leafTypeName))]),_c('a-descriptions-item',{attrs:{\"label\":\"申请码包数量\"}},[_vm._v(\" \"+_vm._s(_vm.totalData.applyNum)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"申请量\"}},[_vm._v(\" \"+_vm._s(_vm.totalData.applyWeight)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"分配码包数量\"}},[_vm._v(\" \"+_vm._s(_vm.totalData.allotNum)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"领用码包数量\"}},[_vm._v(\" \"+_vm._s(_vm.totalData.collectNum)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"\"}}),_c('a-descriptions-item',{attrs:{\"label\":\"\"}})],1)],1),_c('ec-panel-toolbar',[_c('ec-query-panel',{attrs:{\"defaultFold\":true},on:{\"query\":function($event){return _vm.$refs.table.pageAction(1)},\"reset\":_vm.onReset},scopedSlots:_vm._u([{key:\"inner\",fn:function(){return [_c('ec-query-item',{attrs:{\"label\":\"烟叶类型\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},on:{\"select\":_vm.handleLeafType},model:{value:(_vm.queryItems.leafTypeCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"leafTypeCode\", $$v)},expression:\"queryItems.leafTypeCode\"}},_vm._l((_vm.leafTypeList),function(leafTypeEk){return _c('a-select-option',{key:leafTypeEk.leafTypeCode},[_vm._v(\" \"+_vm._s(leafTypeEk.leafTypeName)+\" \")])}),1)],1)]},proxy:true}])},[_c('ec-query-item',{attrs:{\"label\":\"调拨年度\"}},[_c('a-input-number',{attrs:{\"min\":2000,\"max\":2099},model:{value:(_vm.queryItems.tranYear),callback:function ($$v) {_vm.$set(_vm.queryItems, \"tranYear\", $$v)},expression:\"queryItems.tranYear\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"领用单位\"}},[_c('select-picker',{attrs:{\"title\":\"选择领用单位\",\"lazy\":false,\"search\":false,\"fetchData\":_vm.onFetchBusinessOrgList},on:{\"ok\":function($event){return _vm.handleStore()}},model:{value:(_vm.queryItems.applyOrgCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"applyOrgCode\", $$v)},expression:\"queryItems.applyOrgCode\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"仓库\"}},[_c('ec-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.storeCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"storeCode\", $$v)},expression:\"queryItems.storeCode\"}},_vm._l((_vm.storeList),function(storeObj){return _c('a-select-option',{key:storeObj.storeCode},[_vm._v(\" \"+_vm._s(storeObj.storeName)+\" \")])}),1)],1)],1),_c('ec-divider')],1),_c('ec-panel-header',[_c('ec-panel-item',[_c('ec-panel-item-right',[_c('a-space',{attrs:{\"size\":15}},[_c('span',[_vm._v(\"重量单位：\"),_c('ec-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},on:{\"select\":_vm.handleUnitParse},model:{value:(_vm.weightUnit),callback:function ($$v) {_vm.weightUnit=$$v},expression:\"weightUnit\"}},_vm._l((_vm.weightUnitList),function(weightUnit){return _c('a-select-option',{key:weightUnit.weightUnitCd},[_vm._v(\" \"+_vm._s(weightUnit.weightUnitName)+\" \")])}),1)],1)])],1)],1)],1),_c('ec-panel-body',{attrs:{\"height\":\"100%\"}},[_c('ec-table',{ref:\"table\",attrs:{\"border\":\"\",\"height\":\"100%\",\"auto\":false,\"pagination\":_vm.pagination,\"data\":_vm.tableData.rows,\"loading\":_vm.loading,\"highlight-current-row\":\"\"},on:{\"page-action\":_vm.handlePagination}},[_c('ec-table-col',{attrs:{\"type\":\"checkbox\",\"width\":\"50\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"title\":\"序号\",\"type\":\"seq\",\"width\":\"70\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"tranYear\",\"title\":\"调拨年度\",\"align\":\"center\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"applyOrgName\",\"title\":\"领用单位\",\"align\":\"left\",\"min-width\":\"180\"}}),_c('ec-table-col',{attrs:{\"field\":\"storeName\",\"title\":\"仓库\",\"align\":\"left\",\"min-width\":\"180\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeName\",\"title\":\"烟叶类型\",\"align\":\"left\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"applyNum\",\"title\":\"申请码包数量\",\"align\":\"right\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"applyWeight\",\"title\":\"申请量\",\"align\":\"right\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"allotNum\",\"title\":\"分配码包数量\",\"align\":\"right\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"collectNum\",\"title\":\"领用码包数量\",\"align\":\"right\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"title\":\"操作\",\"align\":\"center\",\"width\":\"150\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.onDetail(row)}}},[_vm._v(\"详细\")])]}}])})],1)],1)],1),_c('receive-detail',{ref:\"ReceiveDetail\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":\"详细\",\"visible\":_vm.visible,\"size\":\"large\"},on:{\"close\":_vm.onclose}},[_c('ec-container',{attrs:{\"height\":\"100%\"}},[_c('ec-container-header',[_c('ec-panel-item',[_c('ec-panel-item-left',[_c('ec-header',{attrs:{\"title\":\"分配明细\",\"icon\":\"onetomany\",\"color-code\":\"008\"}})],1)],1)],1),_c('ec-container-body',[_c('ec-panel',[_c('ec-panel-body',[_c('ec-v-layout',[_c('ec-v-item',[_c('ec-table',{ref:\"table\",attrs:{\"border\":\"\",\"data\":_vm.tableData,\"loading\":_vm.loading,\"row-select\":\"\"}},[_c('ec-table-col',{attrs:{\"title\":\"序号\",\"type\":\"seq\",\"width\":\"70\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeName\",\"title\":\"烟叶类型\",\"align\":\"left\",\"min-width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"packType\",\"title\":\"包装类型\",\"align\":\"left\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn _vm._l((_vm.packTypeList),function(packTypeObj){return _c('div',{key:packTypeObj.enumKey},[(row.packType === packTypeObj.enumKey)?_c('span',[_vm._v(\" \"+_vm._s(packTypeObj.name))]):_vm._e()])})}}])}),_c('ec-table-col',{attrs:{\"field\":\"spec\",\"title\":\"包装规格（KG/件）\",\"align\":\"right\",\"width\":\"180\"}}),_c('ec-table-col',{attrs:{\"field\":\"allotNum\",\"title\":\"分配码包数量\",\"align\":\"right\",\"width\":\"180\"}}),_c('ec-table-col',{attrs:{\"field\":\"collectNum\",\"title\":\"领用码包数量\",\"align\":\"right\",\"width\":\"180\"}})],1)],1)],1)],1)],1)],1),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[_c('a-button',{on:{\"click\":_vm.onclose}},[_vm._v(\"关闭\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer title=\"详细\" :visible=\"visible\" size=\"large\" @close=\"onclose\" class=\"ec-draw-form\">\r\n    <ec-container height=\"100%\">\r\n      <ec-container-header>\r\n        <ec-panel-item>\r\n          <ec-panel-item-left>\r\n            <ec-header title=\"分配明细\" icon=\"onetomany\" color-code=\"008\" />\r\n          </ec-panel-item-left>\r\n        </ec-panel-item>\r\n      </ec-container-header>\r\n      <ec-container-body>\r\n        <ec-panel>\r\n          <ec-panel-body>\r\n            <ec-v-layout>\r\n              <ec-v-item>\r\n                <ec-table ref=\"table\" border :data=\"tableData\" :loading=\"loading\" row-select>\r\n                  <ec-table-col title=\"序号\" type=\"seq\" width=\"70\" align=\"center\" />\r\n                  <!-- <ec-table-col\r\n                    field=\"applyOrgName\"\r\n                    title=\"领用单位\"\r\n                    align=\"left\"\r\n                    min-width=\"180\"\r\n                  /> -->\r\n\r\n                  <ec-table-col\r\n                    field=\"leafTypeName\"\r\n                    title=\"烟叶类型\"\r\n                    align=\"left\"\r\n                    min-width=\"150\"\r\n                  />\r\n                  <ec-table-col field=\"packType\" title=\"包装类型\" align=\"left\" width=\"180\">\r\n                    <template #default=\"{ row }\">\r\n                      <div v-for=\"packTypeObj in packTypeList\" :key=\"packTypeObj.enumKey\">\r\n                        <span v-if=\"row.packType === packTypeObj.enumKey\">\r\n                          {{ packTypeObj.name }}</span\r\n                        >\r\n                      </div>\r\n                    </template>\r\n                  </ec-table-col>\r\n                  <ec-table-col field=\"spec\" title=\"包装规格（KG/件）\" align=\"right\" width=\"180\" />\r\n                  <ec-table-col field=\"allotNum\" title=\"分配码包数量\" align=\"right\" width=\"180\" />\r\n                  <ec-table-col field=\"collectNum\" title=\"领用码包数量\" align=\"right\" width=\"180\" />\r\n                </ec-table>\r\n              </ec-v-item>\r\n            </ec-v-layout>\r\n          </ec-panel-body>\r\n        </ec-panel>\r\n      </ec-container-body>\r\n      <ec-container-footer fixed>\r\n        <a-space>\r\n          <a-button @click=\"onclose\">关闭</a-button>\r\n        </a-space>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ExecutionEnterManage',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      queryItems: {\r\n        leafTypeCode: '10',\r\n        submitStateFlag: true,\r\n        busiYear: '',\r\n      },\r\n\r\n      nowYear: '',\r\n      loading: false,\r\n      leafTypeCd: '',\r\n      leafTypeList: [\r\n        { leafTypeCode: '10', leafTypeName: '烤烟' },\r\n        { leafTypeCode: '20', leafTypeName: '晾晒烟(全部)' },\r\n        { leafTypeCode: '2013', leafTypeName: '晾晒烟(雪茄烟叶)' },\r\n      ],\r\n      oldDataRow: [],\r\n      orgCode: '',\r\n      weightUnitList: [\r\n        { weightUnitCd: 1, weightUnitName: '公斤', isSelected: false },\r\n        { weightUnitCd: 50, weightUnitName: '担', isSelected: false },\r\n        { weightUnitCd: 500000, weightUnitName: '万担', isSelected: false },\r\n      ],\r\n\r\n      packTypeList: [],\r\n      tableData: {\r\n        // 数据表格\r\n        // totalRows: 0,\r\n        rows: [],\r\n      },\r\n    };\r\n  },\r\n\r\n  created() {\r\n    const { appCode } = this.$router.history.current.query;\r\n    this.appCode = appCode || 'CM'; // 获取当前登入信息\r\n  },\r\n\r\n  methods: {\r\n    // 数据初始化\r\n    // 显示推窗\r\n    show(data) {\r\n      this.visible = true;\r\n      const tableData = data.tableData || [];\r\n      this.tableData = tableData;\r\n      this.packTypeList = data.packTypeList || [];\r\n    },\r\n\r\n    // 合计数据的处理\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        count += Number(item[field]);\r\n      });\r\n      return count.toFixed(2);\r\n    },\r\n    // 底部合计行\r\n    footerMethod({ columns, data }) {\r\n      return [\r\n        columns.map((column, columnIndex) => {\r\n          if (columnIndex === 0) {\r\n            return '合计';\r\n          }\r\n          if (['collectNum'].includes(column.property)) {\r\n            return this.sumNum(data, column.property);\r\n          }\r\n          return null;\r\n        }),\r\n      ];\r\n    },\r\n\r\n    // 取消\r\n    onclose() {\r\n      this.tableData = [];\r\n      this.visible = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiveDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiveDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReceiveDetail.vue?vue&type=template&id=4398e34a&\"\nimport script from \"./ReceiveDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ReceiveDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <ec-container height=\"100%\">\r\n    <ec-container-header>\r\n      <ec-panel-item>\r\n        <ec-panel-item-left>\r\n          <ec-header title=\"废弃烟叶码包分配领用\" icon=\"onetomany\" color-code=\"008\" />\r\n        </ec-panel-item-left>\r\n      </ec-panel-item>\r\n    </ec-container-header>\r\n    <ec-container-body>\r\n      <ec-panel :auto=\"false\">\r\n        <ec-panel-toolbar>\r\n          <a-descriptions bordered :column=\"4\">\r\n            <a-descriptions-item label=\"调拨年度\">\r\n              {{ visibleTranYear }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"烟叶类型\"> {{ this.leafTypeName }}</a-descriptions-item>\r\n\r\n            <a-descriptions-item label=\"申请码包数量\">\r\n              {{ totalData.applyNum }}\r\n            </a-descriptions-item>\r\n\r\n            <a-descriptions-item label=\"申请量\">\r\n              {{ totalData.applyWeight }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"分配码包数量\">\r\n              {{ totalData.allotNum }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"领用码包数量\">\r\n              {{ totalData.collectNum }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"\"> </a-descriptions-item>\r\n            <a-descriptions-item label=\"\"> </a-descriptions-item>\r\n          </a-descriptions>\r\n        </ec-panel-toolbar>\r\n\r\n        <ec-panel-toolbar>\r\n          <ec-query-panel :defaultFold=\"true\" @query=\"$refs.table.pageAction(1)\" @reset=\"onReset\">\r\n            <ec-query-item label=\"调拨年度\">\r\n              <a-input-number v-model=\"queryItems.tranYear\" :min=\"2000\" :max=\"2099\" />\r\n            </ec-query-item>\r\n            <ec-query-item label=\"领用单位\">\r\n              <select-picker\r\n                title=\"选择领用单位\"\r\n                :lazy=\"false\"\r\n                :search=\"false\"\r\n                :fetchData=\"onFetchBusinessOrgList\"\r\n                v-model=\"queryItems.applyOrgCode\"\r\n                @ok=\"handleStore()\"\r\n              />\r\n            </ec-query-item>\r\n            <ec-query-item label=\"仓库\">\r\n              <ec-select placeholder=\"请选择\" v-model=\"queryItems.storeCode\">\r\n                <a-select-option v-for=\"storeObj in storeList\" :key=\"storeObj.storeCode\">\r\n                  {{ storeObj.storeName }}\r\n                </a-select-option>\r\n              </ec-select>\r\n            </ec-query-item>\r\n            <!-- 本级及下级单位 -->\r\n\r\n            <template #inner>\r\n              <ec-query-item label=\"烟叶类型\">\r\n                <ec-select\r\n                  showSearch\r\n                  allowClear\r\n                  placeholder=\"请选择\"\r\n                  v-model=\"queryItems.leafTypeCode\"\r\n                  @select=\"handleLeafType\"\r\n                >\r\n                  <a-select-option\r\n                    v-for=\"leafTypeEk in leafTypeList\"\r\n                    :key=\"leafTypeEk.leafTypeCode\"\r\n                  >\r\n                    {{ leafTypeEk.leafTypeName }}\r\n                  </a-select-option>\r\n                </ec-select>\r\n              </ec-query-item>\r\n            </template>\r\n          </ec-query-panel>\r\n          <ec-divider />\r\n        </ec-panel-toolbar>\r\n        <ec-panel-header>\r\n          <ec-panel-item>\r\n            <ec-panel-item-right>\r\n              <a-space :size=\"15\">\r\n                <span\r\n                  >重量单位：<ec-select\r\n                    showSearch\r\n                    allowClear\r\n                    placeholder=\"请选择\"\r\n                    v-model=\"weightUnit\"\r\n                    @select=\"handleUnitParse\"\r\n                    style=\"width: 150px\"\r\n                  >\r\n                    <a-select-option\r\n                      v-for=\"weightUnit in weightUnitList\"\r\n                      :key=\"weightUnit.weightUnitCd\"\r\n                    >\r\n                      {{ weightUnit.weightUnitName }}\r\n                    </a-select-option>\r\n                  </ec-select>\r\n                </span>\r\n              </a-space>\r\n            </ec-panel-item-right>\r\n          </ec-panel-item>\r\n        </ec-panel-header>\r\n        <ec-panel-body height=\"100%\">\r\n          <ec-table\r\n            ref=\"table\"\r\n            border\r\n            height=\"100%\"\r\n            :auto=\"false\"\r\n            @page-action=\"handlePagination\"\r\n            :pagination=\"pagination\"\r\n            :data=\"tableData.rows\"\r\n            :loading=\"loading\"\r\n            highlight-current-row\r\n          >\r\n            <ec-table-col type=\"checkbox\" width=\"50\" align=\"center\"></ec-table-col>\r\n            <ec-table-col title=\"序号\" type=\"seq\" width=\"70\" align=\"center\" />\r\n            <ec-table-col field=\"tranYear\" title=\"调拨年度\" align=\"center\" width=\"150\" />\r\n            <ec-table-col field=\"applyOrgName\" title=\"领用单位\" align=\"left\" min-width=\"180\" />\r\n            <ec-table-col field=\"storeName\" title=\"仓库\" align=\"left\" min-width=\"180\" />\r\n            <ec-table-col field=\"leafTypeName\" title=\"烟叶类型\" align=\"left\" width=\"150\" />\r\n            <ec-table-col field=\"applyNum\" title=\"申请码包数量\" align=\"right\" width=\"150\" />\r\n            <ec-table-col field=\"applyWeight\" title=\"申请量\" align=\"right\" width=\"150\" />\r\n            <ec-table-col field=\"allotNum\" title=\"分配码包数量\" align=\"right\" width=\"150\" />\r\n            <ec-table-col field=\"collectNum\" title=\"领用码包数量\" align=\"right\" width=\"150\" />\r\n            <ec-table-col title=\"操作\" align=\"center\" width=\"150\" fixed=\"right\">\r\n              <template #default=\"{ row }\">\r\n                <a-button type=\"link\" @click=\"onDetail(row)\">详细</a-button>\r\n              </template>\r\n            </ec-table-col>\r\n          </ec-table>\r\n        </ec-panel-body>\r\n      </ec-panel>\r\n      <receive-detail ref=\"ReceiveDetail\"></receive-detail>\r\n    </ec-container-body>\r\n  </ec-container>\r\n</template>\r\n\r\n<script>\r\nimport ReceiveDetail from './ReceiveDetail.vue';\r\nimport { SelectPicker, OrgPicker } from '@euler-material/ecm-ui';\r\nimport { treeFormatList } from '@euler-material/ecm-utils';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'ExecutionManage',\r\n  components: {\r\n    ReceiveDetail,\r\n    SelectPicker,\r\n    OrgPicker,\r\n  },\r\n  data() {\r\n    return {\r\n      objectData: {},\r\n      busiYear: '',\r\n      queryItems: {\r\n        tranYear: '',\r\n        applyOrgCode: undefined,\r\n        storeCode: undefined,\r\n        leafTypeCode: undefined,\r\n      },\r\n      defaultLeafFormCode: '',\r\n      weightUnit: 1,\r\n      areaUnit: 10000,\r\n      nowYear: '',\r\n      loading: false,\r\n      leafTypeCd: '',\r\n      leafTypeList: [],\r\n      oldLeafTypeList: [],\r\n      oldDataRow: [], // 拷贝的旧数据，单位切换的时候要在旧的数据上转换\r\n      oldTotalData: [], // 拷贝的旧上级数据，单位切换的时候要在旧的数据上转换\r\n      totalData: {}, // 合计的数据\r\n      isNullData: [],\r\n      leafTypeName: '',\r\n      beforeLeafTypeName: '',\r\n\r\n      weightUnitList: [\r\n        { weightUnitCd: 1, weightUnitName: '公斤', isSelected: false },\r\n        { weightUnitCd: 50, weightUnitName: '担', isSelected: false },\r\n        // { weightUnitCd: 500000, weightUnitName: '万担', isSelected: false },\r\n      ],\r\n\r\n      visibleTranYear: '',\r\n      storeList: [],\r\n      orgCodeList: [],\r\n      procOrgList: [],\r\n      enumMap: {},\r\n      packTypeList: [],\r\n      params: {},\r\n      // 商业单位\r\n      businessOrgList: [],\r\n      bizCode: '',\r\n      // 组织字段重置\r\n      replaceFields: {\r\n        pkey: 'parentBizCode',\r\n        title: 'orgName',\r\n        key: 'bizCode',\r\n        children: 'children',\r\n      },\r\n      pagination: {\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n      tableData: {\r\n        // 数据表格\r\n        // totalRows: 0,\r\n        rows: [],\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    appConfig() {\r\n      return this.$store.getters.getAppConfig;\r\n    },\r\n  },\r\n  async created() {\r\n    const { appCode } = this.$router.history.current.query;\r\n    this.appCode = appCode || 'CM'; // 获取当前登入信息\r\n\r\n    // 包装类型\r\n    const enumTypeCodes = ['PC_PACK_TYPE'];\r\n    const data = {\r\n      enumTypeCodes,\r\n    };\r\n    const res = await this.$apis.enum.index.getEnumType(data);\r\n    const enumMap = res?.enumMap || {};\r\n    const packTypeList = enumMap?.PC_PACK_TYPE || [];\r\n\r\n    this.packTypeList = packTypeList;\r\n\r\n    this.bizCode = this.appConfig?.bizCode;\r\n    this.orgCode = this.appConfig?.orgCode; // todo 写死数据\r\n    this.orgName = this.appConfig?.orgName;\r\n    this.queryItems.tranYear = this.appConfig?.yearValueMap?.SM_YEAR;\r\n    this.nowYear = this.appConfig?.yearValueMap?.SM_YEAR;\r\n    this.visibleTranYear = this.appConfig?.yearValueMap?.SM_YEAR;\r\n\r\n    await this.handleQueryBusinessOrgList();\r\n\r\n    this.queryItems.applyOrgCode = this.bizCode;\r\n    this.handleStore();\r\n  },\r\n  methods: {\r\n    handleLeafType() {\r\n      this.beforeLeafTypeName = this.handleLeafTypeName(this.queryItems.leafTypeCode);\r\n    },\r\n    // 查询商业单位\r\n    async handleQueryBusinessOrgList() {\r\n      const params = {\r\n        busiYear: this.nowYear,\r\n        orgTypeEk: 'TOBACCO',\r\n        orgLevelEk: '6',\r\n        parentBizCode: this.bizCode,\r\n      };\r\n      const res = await this.$apis.common.index.queryTreeByCode(params);\r\n      this.businessOrgList = res.rows || [];\r\n    },\r\n    // 更新商业单位\r\n    onFetchBusinessOrgList() {\r\n      return new Promise((resolve) => {\r\n        const data = treeFormatList(this.businessOrgList, this.replaceFields);\r\n        resolve(data);\r\n      });\r\n    },\r\n\r\n    async handleStore() {\r\n      const data = {\r\n        bizCode: this.queryItems.applyOrgCode,\r\n        busiYear: this.queryItems.tranYear,\r\n      };\r\n      const storeList = await this.$apis.common.index.queryStore(data);\r\n      const storeRows = storeList?.rows || [];\r\n      if (storeRows && storeRows.length > 0) {\r\n        storeRows.unshift({ storeName: '全部', storeCode: '' });\r\n        this.queryItems.storeCode = storeRows[0]?.storeCode;\r\n      }\r\n      this.storeList = storeRows;\r\n    },\r\n    // 处理单位转换\r\n    handleUnitParse() {\r\n      //  列表的单位转换    totalWeight     leftWeight   applyWeight\r\n      const handleOlDataRow = JSON.parse(JSON.stringify(this.oldDataRow));\r\n      handleOlDataRow.forEach((item) => {\r\n        const itemObj = item;\r\n        itemObj.totalWeight = (item.totalWeight / this.weightUnit).toFixed(2);\r\n        itemObj.leftWeight = (item.leftWeight / this.weightUnit).toFixed(2);\r\n        itemObj.applyWeight = (item.applyWeight / this.weightUnit).toFixed(2);\r\n      });\r\n\r\n      const handleOldTotalData = JSON.parse(JSON.stringify(this.oldTotalData));\r\n\r\n      // 汇总数据\r\n      handleOldTotalData.totalWeight = (handleOldTotalData.totalWeight / this.weightUnit).toFixed(\r\n        2,\r\n      );\r\n      handleOldTotalData.leftWeight = (handleOldTotalData.leftWeight / this.weightUnit).toFixed(2);\r\n      handleOldTotalData.applyWeight = (handleOldTotalData.applyWeight / this.weightUnit).toFixed(\r\n        2,\r\n      );\r\n\r\n      this.totalData = handleOldTotalData;\r\n      this.tableData.rows = handleOlDataRow;\r\n    },\r\n\r\n    async handlePagination(pageNumber, pageSize) {\r\n      this.pagination.pageNumber = pageNumber;\r\n      this.pagination.pageSize = pageSize;\r\n      await this.handleGetLeafTypeList();\r\n    },\r\n\r\n    // 获取烟叶类型数据\r\n    async handleGetLeafTypeList() {\r\n      if (!this.leafTypeList?.length) {\r\n        const res = await this.$apis.common.index.queryLeafType({});\r\n        const rows = res?.rows || [];\r\n        this.oldLeafTypeList = _.cloneDeep(rows);\r\n        if (rows && rows.length > 0) {\r\n          rows.unshift({ leafTypeName: '全部', leafTypeCode: '' });\r\n        }\r\n        this.leafTypeList = rows;\r\n        this.leafTypeList.some((item) => {\r\n          if (item.leafTypeName === '烤烟') {\r\n            this.leafTypeCd = item.leafTypeCode;\r\n            this.queryItems.leafTypeCode = item.leafTypeCode;\r\n            this.leafTypeName = '烤烟';\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n      if (!this.queryItems.leafTypeCode && this.leafTypeList?.length) {\r\n        const { leafTypeCode } = this.leafTypeList[0];\r\n        this.leafTypeCd = leafTypeCode;\r\n        this.queryItems.leafTypeCode = leafTypeCode;\r\n        this.leafTypeName = this.leafTypeList[0].leafTypeName;\r\n      }\r\n\r\n      // console.log(`------${JSON.stringify(this.appConfig)}`);\r\n      // if (!this.orgCode) {\r\n      //   const orgObj = await this.$apis.bim.curOrg.get({});\r\n      //   console.log(`当前用户信息：${JSON.stringify(orgObj)}`);\r\n      //   this.bizCode = orgObj?.bizCode;\r\n      //   this.orgCode = orgObj?.orgUniqueCode; // todo 写死数据\r\n      //   this.orgName = orgObj?.orgName;\r\n      //   // this.orgName = '中国烟草总公司黑龙江省公司';\r\n      //   // this.orgCode = '11000001000000000003';\r\n      //   this.queryItems.applyOrgCode = this.bizCode;\r\n\r\n      //   this.orgCodeList = [this.orgCode];\r\n      // }\r\n      // if (!this.queryItems.tranYear > 0) {\r\n      //   // 获取年度\r\n      //   const data = {\r\n      //     bizCode: this.appConfig.bizCode, // todo 写死的数据\r\n      //     appCode: this.appCode || 'CM',\r\n      //     yearTypeCode: 'SM_YEAR',\r\n      //   };\r\n      //   const busiYearObj = await this.$apis.bpm.executionEnter.getBuYear(data);\r\n      //   this.queryItems.tranYear = busiYearObj?.yearValue;\r\n      //   this.nowYear = busiYearObj?.yearValue;\r\n      //   this.visibleTranYear = busiYearObj?.yearValue;\r\n\r\n      //   this.handleStore();\r\n      // }\r\n\r\n      // if (!this.businessOrgList?.length) {\r\n      //   await this.handleQueryBusinessOrgList();\r\n      // }\r\n      this.onQuery();\r\n    },\r\n\r\n    // 数据初始化\r\n    async onQuery() {\r\n      this.loading = true;\r\n      this.leafTypeName = this.beforeLeafTypeName || this.leafTypeName;\r\n\r\n      this.visibleTranYear = this.queryItems.tranYear;\r\n      const data = {\r\n        applyType: 'SCRAP_CP',\r\n        pageNo: this.pagination.pageNumber,\r\n        pageSize: this.pagination.pageSize,\r\n        ...this.queryItems,\r\n      };\r\n\r\n      console.log(JSON.stringify(data));\r\n      await this.$apis.pcm.penatly.apply\r\n        .pageConfCp(data)\r\n        .then((res) => {\r\n          const rows = res.rows || [];\r\n          this.pagination.total = res.totalRows;\r\n          this.oldDataRow = JSON.parse(JSON.stringify(rows));\r\n          // this.tableData.rows = rows;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n          this.selectedRows = [];\r\n        });\r\n\r\n      this.params = data;\r\n      const totalData = await this.$apis.pcm.penatly.apply.queryHead(data);\r\n      console.log(`汇总数据：${JSON.stringify(totalData)}`);\r\n      this.oldTotalData = JSON.parse(JSON.stringify(totalData));\r\n      this.handleUnitParse();\r\n    },\r\n\r\n    // 详细\r\n    async onDetail(row) {\r\n      const { params } = this;\r\n      params.applyOrgCode = row.applyOrgCode;\r\n      const detailData = await this.$apis.pcm.penatly.apply.queryDetail(params);\r\n      const weightUnitObj = this.weightUnitList.find((res) => res.weightUnitCd === this.weightUnit);\r\n      // 处理详细里面的申请量单位\r\n      detailData.forEach((item) => {\r\n        const itemObj = item;\r\n        itemObj.applyWeight = (item.applyWeight / this.weightUnit).toFixed(2);\r\n      });\r\n      const data = {\r\n        tableData: detailData,\r\n        packTypeList: this.packTypeList,\r\n        selectedRow: row,\r\n        weightUnitObj,\r\n      };\r\n      this.$refs.ReceiveDetail.show(data);\r\n    },\r\n\r\n    // 重置\r\n    onReset() {\r\n      this.queryItems.tranYear = this.nowYear;\r\n      this.queryItems.leafTypeCode = this.leafTypeCd;\r\n      this.queryItems.storeCode = undefined;\r\n      this.queryItems.applyOrgCode = this.bizCode;\r\n\r\n      this.handleStore();\r\n      this.beforeLeafTypeName = this.handleLeafTypeName(this.leafTypeCd);\r\n      this.$refs.table.pageAction(1);\r\n    },\r\n\r\n    // 根据编码翻译对应的名称\r\n    handleLeafTypeName(typeCd) {\r\n      const leafType = this.leafTypeList.find((item) => item.leafTypeCode === typeCd);\r\n      return leafType?.leafTypeName;\r\n    },\r\n\r\n    // 选中所有列表\r\n    selectAllEvent({ checked, records }) {\r\n      console.log(`${checked}-选中所有records包含选中的所以对象----${JSON.stringify(records)}`);\r\n      this.selectedRows = records;\r\n    },\r\n\r\n    // 选中列表\r\n    selectRowChange({ checked, records }) {\r\n      console.log(\r\n        `${checked}-选择改变时会把records包含选中的所以对象----${JSON.stringify(records)}`,\r\n      );\r\n      this.selectedRows = records;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.year {\r\n  font-size: 18px;\r\n  line-height: 22px;\r\n\r\n  color: #18191a;\r\n  font-weight: 700;\r\n  padding-top: 18px;\r\n  padding-right: 50px;\r\n  font-family: '微软雅黑 Bold', '微软雅黑', 'Microsoft YaHei', sans-serif;\r\n}\r\n.paddingTop {\r\n  padding-top: 15px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=41c6a977&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=41c6a977&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41c6a977\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}