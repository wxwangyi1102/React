{"version":3,"sources":["webpack:///./src/views/apm/appli/Index.vue?c4af","webpack:///./src/views/apm/appli/Index.vue?079b","webpack:///src/views/apm/appli/Index.vue","webpack:///./src/views/apm/appli/Index.vue?c4e2","webpack:///./src/views/apm/appli/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","_v","_s","curYear","getLeafTypeName","leafTypeCodes","getLeafFormName","leafFormCodes","getConturyName","conturys","top","planTotalWeight","leftWeight","applyNum","applyWeight","on","queryData","onReset","scopedSlots","_u","key","fn","model","value","callback","$$v","expression","_l","item","leafCountryName","leafCountryCode","leafTypeName","leafTypeCode","leafFormName","leafFormCode","proxy","name","applyDate","demandOrgCode","span","ref","tableData","pagination","pageAction","row","staticRenderFns","components","OrgPicker","SelectPicker","data","tranYear","listQuery","applyOrgCd","mouldName","mouldType","pageSize","pageNo","total","contury","mounted","methods","code","console","getTableData","applyType","getfetchData","resolve","computed","_api","prodYear","specList","orgValueChange","component"],"mappings":"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","file":"js/chunk-10f2fcfe.8a83627d.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=af7fdd00&prod&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ec-container',{attrs:{\"height\":\"100%\"}},[_c('ec-container-header',[_c('ec-panel-item',[_c('ec-panel-item-left',[_c('ec-header',{attrs:{\"title\":\"进口烟到港码包申请\",\"icon\":\"onetomany\",\"color-code\":\"008\"}})],1)],1)],1),_c('ec-container-body',[_c('ec-panel',[_c('ec-panel-toolbar',{staticStyle:{\"overflow\":\"hidden\"}},[_c('ec-panel-item',[_c('a-descriptions',{attrs:{\"bordered\":\"\",\"column\":4}},[_c('a-descriptions-item',{attrs:{\"label\":\"调拨年度\"}},[_vm._v(\" \"+_vm._s(_vm.curYear)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"烟叶类型\"}},[_vm._v(\" \"+_vm._s(_vm.getLeafTypeName(_vm.leafTypeCodes))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"烟叶形态\"}},[_vm._v(\" \"+_vm._s(_vm.getLeafFormName(_vm.leafFormCodes))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"国别\"}},[_vm._v(\" \"+_vm._s(_vm.getConturyName(_vm.conturys))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"计划衔接量\"}},[_vm._v(\" \"+_vm._s(_vm.top.planTotalWeight)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"剩余计划衔接量\"}},[_vm._v(\" \"+_vm._s(_vm.top.leftWeight)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"申请码包数量\"}},[_vm._v(\" \"+_vm._s(_vm.top.applyNum)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"申请量\"}},[_vm._v(\" \"+_vm._s(_vm.top.applyWeight)+\" \")])],1)],1),_c('ec-panel-item',{staticStyle:{\"margin-top\":\"10px\"}},[_c('ec-panel-toolbar',[_c('ec-query-panel',{attrs:{\"defaultFold\":\"\",\"layout\":\"horizontal\",\"showFold\":true},on:{\"query\":_vm.queryData,\"reset\":_vm.onReset},scopedSlots:_vm._u([{key:\"inner\",fn:function(){return [_c('ec-query-item',{attrs:{\"label\":\"国别\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.conturys),callback:function ($$v) {_vm.conturys=$$v},expression:\"conturys\"}},_vm._l((_vm.contury),function(item){return _c('a-select-option',{key:item.leafCountryName,attrs:{\"value\":item.leafCountryCode}},[_vm._v(\" \"+_vm._s(item.leafCountryName)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"烤烟类型\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.leafTypeCodes),callback:function ($$v) {_vm.leafTypeCodes=$$v},expression:\"leafTypeCodes\"}},_vm._l((_vm.leafTypeCode),function(item){return _c('a-select-option',{key:item.leafTypeName,attrs:{\"value\":item.leafTypeCode}},[_vm._v(\" \"+_vm._s(item.leafTypeName)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"烟叶形态\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.leafFormCodes),callback:function ($$v) {_vm.leafFormCodes=$$v},expression:\"leafFormCodes\"}},_vm._l((_vm.leafFormCode),function(item){return _c('a-select-option',{key:item.leafFormName,attrs:{\"value\":item.leafFormCode}},[_vm._v(\" \"+_vm._s(item.leafFormName)+\" \")])}),1)],1)]},proxy:true}])},[_c('ec-query-item',{attrs:{\"label\":\"调拨年度\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.curYear),callback:function ($$v) {_vm.curYear=$$v},expression:\"curYear\"}},_vm._l((_vm.prodYear),function(item){return _c('a-select-option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"申请日期\"}},[_c('a-date-picker',{attrs:{\"format\":\"YYYY-MM-DD\",\"value-format\":\"YYYY-MM-DD\"},model:{value:(_vm.applyDate),callback:function ($$v) {_vm.applyDate=$$v},expression:\"applyDate\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"需方单位\"}},[_c('OrgPicker',{attrs:{\"title\":\"选择单位\",\"lazy\":false,\"search\":false,\"placeholder\":\"请输入需方单位\"},model:{value:(_vm.demandOrgCode),callback:function ($$v) {_vm.demandOrgCode=$$v},expression:\"demandOrgCode\"}})],1)],1),_c('ec-divider')],1)],1),_c('a-form',{attrs:{\"label-col\":{ span: 22 },\"wrapper-col\":{ span: 2 }}},[_c('a-form-item',{attrs:{\"label\":\"重量单位\"}},[_c('a-select',{attrs:{\"placeholder\":\"公斤\"}},[_c('a-select-option',{attrs:{\"value\":\"1\"}},[_vm._v(\"公斤\")]),_c('a-select-option',{attrs:{\"value\":\"2\"}},[_vm._v(\"担\")])],1)],1)],1),_c('ec-panel-item',[_c('ec-table',{ref:\"table\",attrs:{\"border\":\"\",\"show-footer\":\"\",\"data\":_vm.tableData,\"pagination\":_vm.pagination},on:{\"page-action\":_vm.pageAction}},[_c('ec-table-col',{attrs:{\"type\":\"seq\",\"align\":\"center\",\"width\":\"50\",\"title\":\"序号\"}}),_c('ec-table-col',{attrs:{\"field\":\"tranYear\",\"align\":\"center\",\"title\":\"调拨年度\"}}),_c('ec-table-col',{attrs:{\"field\":\"applyWeight\",\"align\":\"center\",\"title\":\"申请日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.applyDate)+\" \")]}}])}),_c('ec-table-col',{attrs:{\"field\":\"barcodeApplyId\",\"align\":\"center\",\"title\":\"供方单位\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafCountryCode\",\"align\":\"center\",\"title\":\"国别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.getConturyName(row.leafCountryCode))+\" \")]}}])}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeCode\",\"align\":\"center\",\"title\":\"烟叶类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.getLeafTypeName(row.leafTypeCode))+\" \")]}}])}),_c('ec-table-col',{attrs:{\"field\":\"leafFormCode\",\"align\":\"center\",\"title\":\"烟叶形态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.getLeafFormName(row.leafFormCode))+\" \")]}}])}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeCode\",\"align\":\"center\",\"title\":\"计划衔接量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.planTotalWeight)+\" \")]}}])}),_c('ec-table-col',{attrs:{\"field\":\"modifyTime\",\"align\":\"center\",\"title\":\"剩余计划衔接量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.leftWeight)+\" \")]}}])}),_c('ec-table-col',{attrs:{\"field\":\"packType\",\"align\":\"center\",\"title\":\"申请码包数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.applyNum)+\" \")]}}])}),_c('ec-table-col',{attrs:{\"field\":\"spec\",\"align\":\"center\",\"title\":\"申请量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.applyNum)+\" \")]}}])})],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <ec-container height=\"100%\">\r\n      <ec-container-header>\r\n        <ec-panel-item>\r\n          <ec-panel-item-left>\r\n            <ec-header title=\"进口烟到港码包申请\" icon=\"onetomany\" color-code=\"008\" />\r\n          </ec-panel-item-left>\r\n        </ec-panel-item>\r\n      </ec-container-header>\r\n\r\n      <ec-container-body>\r\n        <ec-panel>\r\n          <ec-panel-toolbar style=\"overflow: hidden\">\r\n            <ec-panel-item>\r\n              <!-- <div class=\"table\">\r\n                <table border=\"1\">\r\n                  <tr>\r\n                    <td class=\"first\">调拨年度</td>\r\n                    <td class=\"se\">{{ top.tranYear }}</td>\r\n\r\n                    <td class=\"first\">烟叶类型</td>\r\n                    <td class=\"se\">{{ top.leafTypeCode }}</td>\r\n                    <td class=\"first\">烟叶形态</td>\r\n                    <td class=\"se\">{{ top.leafFormCode }}</td>\r\n                    <td class=\"first\">国别</td>\r\n                    <td class=\"se\">{{ top.leafCountryCode }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"first\">计划衔接量</td>\r\n                    <td class=\"se\">{{ top.planTotalWeight }}</td>\r\n                    <td class=\"first\">剩余计划衔接量</td>\r\n                    <td class=\"se\">{{ top.leftWeight }}</td>\r\n                    <td class=\"first\">申请码包数量</td>\r\n                    <td class=\"se\">{{ top.planTotalWeight }}</td>\r\n                    <td class=\"first\">申请量</td>\r\n                    <td class=\"se\">{{ top.collectNum }}</td>\r\n                  </tr>\r\n                </table>\r\n              </div> -->\r\n              <a-descriptions bordered :column=\"4\">\r\n                <a-descriptions-item label=\"调拨年度\">\r\n                  {{ curYear }}\r\n                </a-descriptions-item>\r\n                <a-descriptions-item label=\"烟叶类型\">\r\n                  {{ getLeafTypeName(leafTypeCodes) }}\r\n                </a-descriptions-item>\r\n                <a-descriptions-item label=\"烟叶形态\">\r\n                  {{ getLeafFormName(leafFormCodes) }}\r\n                </a-descriptions-item>\r\n                <a-descriptions-item label=\"国别\">\r\n                  {{ getConturyName(conturys) }}\r\n                </a-descriptions-item>\r\n\r\n                <a-descriptions-item label=\"计划衔接量\">\r\n                  {{ top.planTotalWeight }}\r\n                </a-descriptions-item>\r\n                <a-descriptions-item label=\"剩余计划衔接量\">\r\n                  {{ top.leftWeight }}\r\n                </a-descriptions-item>\r\n                <a-descriptions-item label=\"申请码包数量\">\r\n                  {{ top.applyNum }}\r\n                </a-descriptions-item>\r\n                <a-descriptions-item label=\"申请量\">\r\n                  {{ top.applyWeight }}\r\n                </a-descriptions-item>\r\n              </a-descriptions>\r\n            </ec-panel-item>\r\n            <ec-panel-item style=\"margin-top: 10px\">\r\n              <ec-panel-toolbar>\r\n                <ec-query-panel\r\n                  defaultFold\r\n                  layout=\"horizontal\"\r\n                  @query=\"queryData\"\r\n                  @reset=\"onReset\"\r\n                  :showFold=\"true\"\r\n                >\r\n                  <ec-query-item label=\"调拨年度\">\r\n                    <ec-select showSearch allowClear placeholder=\"请选择\" v-model=\"curYear\">\r\n                      <a-select-option\r\n                        v-for=\"item in prodYear\"\r\n                        :key=\"item.value\"\r\n                        :value=\"item.value\"\r\n                      >\r\n                        {{ item.name }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </ec-query-item>\r\n                  <ec-query-item label=\"申请日期\">\r\n                    <a-date-picker\r\n                      v-model=\"applyDate\"\r\n                      format=\"YYYY-MM-DD\"\r\n                      value-format=\"YYYY-MM-DD\"\r\n                    />\r\n                  </ec-query-item>\r\n                  <ec-query-item label=\"需方单位\">\r\n                    <OrgPicker\r\n                      v-model=\"demandOrgCode\"\r\n                      title=\"选择单位\"\r\n                      :lazy=\"false\"\r\n                      :search=\"false\"\r\n                      placeholder=\"请输入需方单位\"\r\n                    />\r\n                  </ec-query-item>\r\n                  <template #inner>\r\n                    <ec-query-item label=\"国别\">\r\n                      <ec-select showSearch allowClear placeholder=\"请选择\" v-model=\"conturys\">\r\n                        <a-select-option\r\n                          v-for=\"item in contury\"\r\n                          :key=\"item.leafCountryName\"\r\n                          :value=\"item.leafCountryCode\"\r\n                        >\r\n                          {{ item.leafCountryName }}\r\n                        </a-select-option>\r\n                      </ec-select>\r\n                    </ec-query-item>\r\n                    <ec-query-item label=\"烤烟类型\">\r\n                      <ec-select showSearch allowClear placeholder=\"请选择\" v-model=\"leafTypeCodes\">\r\n                        <a-select-option\r\n                          v-for=\"item in leafTypeCode\"\r\n                          :key=\"item.leafTypeName\"\r\n                          :value=\"item.leafTypeCode\"\r\n                        >\r\n                          {{ item.leafTypeName }}\r\n                        </a-select-option>\r\n                      </ec-select>\r\n                    </ec-query-item>\r\n                    <ec-query-item label=\"烟叶形态\">\r\n                      <ec-select showSearch allowClear placeholder=\"请选择\" v-model=\"leafFormCodes\">\r\n                        <a-select-option\r\n                          v-for=\"item in leafFormCode\"\r\n                          :key=\"item.leafFormName\"\r\n                          :value=\"item.leafFormCode\"\r\n                        >\r\n                          {{ item.leafFormName }}\r\n                        </a-select-option>\r\n                      </ec-select>\r\n                    </ec-query-item>\r\n                  </template>\r\n                </ec-query-panel>\r\n                <ec-divider />\r\n              </ec-panel-toolbar>\r\n            </ec-panel-item>\r\n\r\n            <a-form :label-col=\"{ span: 22 }\" :wrapper-col=\"{ span: 2 }\">\r\n              <a-form-item label=\"重量单位\">\r\n                <a-select placeholder=\"公斤\">\r\n                  <a-select-option value=\"1\">公斤</a-select-option>\r\n                  <a-select-option value=\"2\">担</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-form>\r\n            <ec-panel-item>\r\n              <ec-table\r\n                ref=\"table\"\r\n                border\r\n                show-footer\r\n                :data=\"tableData\"\r\n                :pagination=\"pagination\"\r\n                @page-action=\"pageAction\"\r\n              >\r\n                <ec-table-col type=\"seq\" align=\"center\" width=\"50\" title=\"序号\"> </ec-table-col>\r\n                <ec-table-col field=\"tranYear\" align=\"center\" title=\"调拨年度\"> </ec-table-col>\r\n                <ec-table-col field=\"applyWeight\" align=\"center\" title=\"申请日期\">\r\n                  <template #default=\"{ row }\">\r\n                    {{ row.applyDate }}\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"barcodeApplyId\" align=\"center\" title=\"供方单位\">\r\n                </ec-table-col>\r\n                <ec-table-col field=\"leafCountryCode\" align=\"center\" title=\"国别\">\r\n                  <template #default=\"{ row }\">\r\n                    <!-- {{ row.leafCountryName }} -->\r\n                    {{ getConturyName(row.leafCountryCode) }}\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"leafTypeCode\" align=\"center\" title=\"烟叶类型\">\r\n                  <template #default=\"{ row }\">\r\n                    {{ getLeafTypeName(row.leafTypeCode) }}\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"leafFormCode\" align=\"center\" title=\"烟叶形态\">\r\n                  <template #default=\"{ row }\">\r\n                    {{ getLeafFormName(row.leafFormCode) }}\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"leafTypeCode\" align=\"center\" title=\"计划衔接量\">\r\n                  <template #default=\"{ row }\">\r\n                    {{ row.planTotalWeight }}\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"modifyTime\" align=\"center\" title=\"剩余计划衔接量\">\r\n                  <template #default=\"{ row }\">\r\n                    {{ row.leftWeight }}\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"packType\" align=\"center\" title=\"申请码包数\">\r\n                  <template #default=\"{ row }\">\r\n                    {{ row.applyNum }}\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"spec\" align=\"center\" title=\"申请量\">\r\n                  <template #default=\"{ row }\">\r\n                    {{ row.applyNum }}\r\n                  </template>\r\n                </ec-table-col>\r\n              </ec-table>\r\n            </ec-panel-item>\r\n          </ec-panel-toolbar>\r\n        </ec-panel>\r\n      </ec-container-body>\r\n    </ec-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OrgPicker from '@/components/TreePicker/src/OrgPicker.vue';\r\nimport SelectPicker from '@/components/TreePicker/src/SelectPicker.vue';\r\nexport default {\r\n  components: { OrgPicker, SelectPicker },\r\n  data() {\r\n    return {\r\n      top: {\r\n        tranYear: '',\r\n        leafTypeCode: '',\r\n        leafFormCode: '',\r\n        leafCountryCode: '',\r\n        planTotalWeight: '',\r\n        leftWeight: '',\r\n        applyNum: '',\r\n        applyWeight: '',\r\n      },\r\n      conturys: '',\r\n      listQuery: {\r\n        applyOrgCd: undefined,\r\n        mouldName: undefined,\r\n        mouldType: undefined,\r\n        pageSize: 10,\r\n        pageNo: 1,\r\n        total: 0,\r\n      },\r\n      applyDate: '',\r\n      demandOrgCode: [],\r\n      contury: [],\r\n      // 烟叶类型\r\n      leafTypeCodes: '',\r\n      leafTypeCode: [],\r\n      // 烟叶形态\r\n      leafFormCode: [],\r\n      leafFormCodes: '',\r\n      tableData: [],\r\n      curYear: new Date().getFullYear(),\r\n      pagination: {\r\n        pageSize: 10,\r\n        pageNo: 1,\r\n        total: 0,\r\n      },\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.$apis.apm.wharf.queryCountr({}).then((res) => {\r\n      this.contury = res.rows;\r\n    });\r\n    this.$apis.apm.wharf.queryType({}).then((res) => {\r\n      this.leafTypeCode = res.rows;\r\n    });\r\n    this.$apis.apm.wharf.queryForm({}).then((res) => {\r\n      this.leafFormCode = res.rows;\r\n    });\r\n  },\r\n  methods: {\r\n    getLeafTypeName(code) {\r\n      if (!code) return '';\r\n      const levelList = this.leafTypeCode;\r\n      const item = levelList.filter((levelItem) => levelItem.leafTypeCode === code);\r\n      return item.length ? item[0].leafTypeName : '';\r\n    },\r\n    getLeafFormName(code) {\r\n      if (!code) return '';\r\n      const levelList = this.leafFormCode;\r\n      const item = levelList.filter((levelItem) => levelItem.leafFormCode === code);\r\n      return item.length ? item[0].leafFormName : '';\r\n    },\r\n    getConturyName(code) {\r\n      if (!code) return '';\r\n      const levelList = this.contury;\r\n\r\n      const item = levelList.filter((levelItem) => levelItem.leafCountryCode === code);\r\n      console.log(item);\r\n      return item.length ? item[0].leafCountryName : '';\r\n    },\r\n    queryData() {\r\n      this.$refs.table.pageAction(this.pagination.pageNo, this.pagination.pageSize);\r\n    },\r\n    // getLevelName(data) {\r\n    //   return data.substring(0, 3);\r\n    // },\r\n    onReset() {\r\n      this.applyDate = '';\r\n      this.demandOrgCode = [];\r\n      this.conturys = '';\r\n      // 烟叶类型\r\n      this.leafTypeCodes = '';\r\n      this.leafFormCodes = '';\r\n      this.curYear = new Date().getFullYear();\r\n    },\r\n    getTableData() {\r\n      const { leafTypeCodes, leafFormCodes, conturys, demandOrgCode, curYear, applyDate } = this;\r\n      const demandOrgCodes = demandOrgCode.length ? demandOrgCode.slice().join('') : '';\r\n      const params = {\r\n        applyType: 'IMPORT_CP',\r\n        leafTypeCode: leafTypeCodes,\r\n        leafFormCode: leafFormCodes,\r\n        contury: conturys,\r\n        applyDate,\r\n        tranYear: curYear,\r\n        demandOrgCode: demandOrgCodes,\r\n      };\r\n      this.$apis.apm.wharf.query(params).then((res) => {\r\n        // console.log(res);\r\n        this.tableData = res.rows;\r\n        this.top.tranYear = res.tranYear;\r\n        this.top.leafTypeCode = res.leafTypeCode;\r\n        this.top.leafFormCode = res.leafFormCode;\r\n        this.top.leafCountryCode = res.leafFormCode;\r\n        this.top.planTotalWeight = res.planTotalWeight;\r\n        this.top.leftWeight = res.leftWeight;\r\n      });\r\n    },\r\n\r\n    pageAction(pageNo, pageSize) {\r\n      this.pagination.pageSize = pageSize;\r\n      this.pagination.pageNo = pageNo;\r\n      const { leafTypeCodes, leafFormCodes, conturys, demandOrgCode, curYear, applyDate } = this;\r\n      const demandOrgCodes = demandOrgCode.length ? demandOrgCode.slice().join('') : '';\r\n      const params = {\r\n        applyType: 'IMPORT_CP',\r\n        leafTypeCode: leafTypeCodes,\r\n        leafFormCode: leafFormCodes,\r\n        contury: conturys,\r\n        applyDate,\r\n        tranYear: curYear,\r\n        demandOrgCode: demandOrgCodes,\r\n        pageNo,\r\n        pageSize,\r\n      };\r\n      this.$apis.apm.wharf.query(params).then((res) => {\r\n        // console.log(res);\r\n        this.tableData = res.rows;\r\n        this.pagination.total = res.totalRows || 0;\r\n      });\r\n      this.$apis.apm.wharf.queryTop(params).then((res) => {\r\n        this.top.tranYear = res.tranYear;\r\n        this.top.leafTypeCode = res.leafTypeCode;\r\n        this.top.leafFormCode = res.leafFormCode;\r\n        this.top.leafCountryCode = res.leafFormCode;\r\n        this.top.planTotalWeight = res.planTotalWeight;\r\n        this.top.leftWeight = res.leftWeight;\r\n        this.top.applyNum = res.applyNum;\r\n        this.top.applyWeight = res.applyWeight;\r\n      });\r\n    },\r\n\r\n    // handlePagination(pageNO, pageSize) {\r\n    //   this.listQuery.pageNo = pageNO;\r\n    //   this.listQuery.pageSize = pageSize;\r\n    // },\r\n    // getTableDatas() {\r\n    //   this.loading = true;\r\n    //   const { total, ...params } = this.listQuery;\r\n\r\n    //   if (typeof params.applyOrgCd !== 'string' && params.applyOrgCd !== undefined) {\r\n    //     params.applyOrgCd = params.applyOrgCd.join('');\r\n    //   }\r\n    //   this._api\r\n    //     .pageQueryFinishedPcTPackSpec(params)\r\n    //     .then((data) => {\r\n    //       this.tableData = data?.rows;\r\n    //       console.log(this.tableData);\r\n    //       this.listQuery.total = data?.totalRows;\r\n    //     })\r\n    //     .finally(() => {\r\n    //       this.loading = false;\r\n    //     });\r\n    // },\r\n    getfetchData() {\r\n      return new Promise((resolve) => {\r\n        resolve(this.treeData);\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    _api() {\r\n      return this.$apis.packingSpec.apply;\r\n    },\r\n    prodYear() {\r\n      const base = new Date().getFullYear();\r\n      const specList = [];\r\n      for (let i = 0; i < 10; i++) {\r\n        specList.push({\r\n          name: base - i,\r\n          value: base - i,\r\n        });\r\n      }\r\n\r\n      return specList;\r\n    },\r\n  },\r\n  orgValueChange() {},\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.table {\r\n  display: flex;\r\n  text-align: right;\r\n  justify-content: space-around;\r\n  height: 80px;\r\n  table {\r\n    width: 100%;\r\n  }\r\n  .first {\r\n    background-color: #eee;\r\n  }\r\n}\r\n.weight {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n.first {\r\n  width: 50px;\r\n}\r\n.se {\r\n  width: 50px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=af7fdd00&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=af7fdd00&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"af7fdd00\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}