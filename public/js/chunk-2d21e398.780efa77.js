(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e398"],{d53d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ec-container",{attrs:{fixed:"top",height:"auto",title:"工业调剂商业省公司设置"}},[a("ec-container-body",[a("ec-panel",[a("ec-panel-header",[a("ec-panel-item",[a("ec-panel-item-left",[a("a-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("设置")]),a("a-button",{on:{click:e.handleClose}},[e._v("取消")])],1),a("ec-panel-item-right",[e._v(" 业务年度："),a("a-input-number",{attrs:{min:2e3,max:2099},model:{value:e.busiYear,callback:function(t){e.busiYear=t},expression:"busiYear"}})],1)],1)],1),a("ec-panel-body",[a("ec-v-layout",[a("ec-v-item",[a("ec-table",{ref:"xTable",attrs:{border:"",data:e.tableData,"edit-config":{trigger:"click",mode:"row"}}},[a("ec-table-col",{attrs:{type:"seq",title:"序号",width:"50",align:"center"}}),a("ec-table-col",{attrs:{field:"industryOrgCode",title:"工业单位"}}),a("ec-table-col",{attrs:{field:"isExistTobaccoProvOrg",title:"是否需要商业省公司审核","edit-render":{}},scopedSlots:e._u([{key:"edit",fn:function(t){var n=t.row;return[a("ec-select",{attrs:{placeholder:"请选择是否需要商业省公司审核"},on:{change:function(t){return e.handleChange(n)}},model:{value:n.isExistTobaccoProvOrg,callback:function(t){e.$set(n,"isExistTobaccoProvOrg",t)},expression:"row.isExistTobaccoProvOrg"}},e._l(e.isExistTobaccoProvOrgList,(function(t){return a("a-select-option",{key:t.key,attrs:{value:t.key}},[e._v(" "+e._s(t.label)+" ")])})),1)]}},{key:"default",fn:function(t){var n=t.row;return["1"===n.isExistTobaccoProvOrg?a("div",[e._v("是")]):a("div",[e._v("否")])]}}])}),a("ec-table-col",{attrs:{field:"tobaccoProvOrgCode",title:"商业省公司"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return["1"===n.isExistTobaccoProvOrg?a("div",[a("span",[e._v(e._s(n.tobaccoProvOrgCode))])]):a("div",[a("span")])]}}])})],1)],1)],1)],1)],1)],1)],1)},o=[],r=a("c7eb"),c=a("2909"),i=a("1da1"),l=(a("99af"),{name:"DailySetting",data:function(){return{tableData:[],busiYear:"",isExistTobaccoProvOrgList:[{label:"否",key:"0"},{label:"是",key:"1"}]}},created:function(){this.handleGetYear()},watch:{busiYear:{handler:function(e){console.log(e),this.getComparisonTable()}}},methods:{handleGetYear:function(){var e=new Date,t=e.getFullYear();console.log(t),this.busiYear=t},getComparisonTable:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){var a,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,a="busiYear=".concat(e.busiYear),t.next=5,e.$apis.apm.dailySetting.query(a);case 5:n=t.sent,e.tableData=[].concat(Object(c["a"])(e.tableData),Object(c["a"])(n.rows)),console.log("res1",e.tableData),e.getTobaccoProvOrgCode(),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),e.loading=!1,console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()},getTobaccoProvOrgCode:function(){this.loading=!0},handleSave:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){var a,n,o;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e.tableData,n={provs:a},t.prev=3,t.next=6,e.$apis.apm.dailySetting.save(n);case 6:o=t.sent,console.log("res3",o),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),e.loading=!1,console.log("err",t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()},handleClose:function(){this.getComparisonTable(),this.$router.back()},handleChange:function(e){console.log(e)}}}),s=l,u=a("2877"),b=Object(u["a"])(s,n,o,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d21e398.780efa77.js.map