{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/views/apm/daily/flow-setting/Index.vue?ab5f","webpack:///./src/views/apm/daily/flow-setting/FormModel.vue?883b","webpack:///src/views/apm/daily/flow-setting/FormModel.vue","webpack:///./src/views/apm/daily/flow-setting/FormModel.vue?4c4f","webpack:///./src/views/apm/daily/flow-setting/FormModel.vue","webpack:///src/views/apm/daily/flow-setting/Index.vue","webpack:///./src/views/apm/daily/flow-setting/Index.vue?002d","webpack:///./src/views/apm/daily/flow-setting/Index.vue"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","render","_vm","this","_h","$createElement","_c","_self","attrs","on","getTableData","onReset","scopedSlots","_u","fn","model","queryItems","callback","$$v","$set","expression","_l","item","_v","_s","label","proxy","id","type","$event","handleOpen","appearLoading","handleUpdateStatus","ref","cellStyle","loading","tableData","handlePagination","onSelTableData","row","getbusiTypeCodeLabel","ProcessTypeList","processType","busiTypeCodeList","busiTypeCode","enableFlag","busiYear","staticRenderFns","visible","curType","onClose","formData","formRules","saveLoading","handleSumbit","_e","name","props","default","data","processCode","roleCode","roleName","processStateCode","nextProcessCode","endStateCode","dispNo","required","message","computed","_api","methods","show","$ec","params","Add","then","finally","orgChange","querygetBusinessType","contTypeCode","rows","getTree","pid","title","children","root","console","component","components","FormModel","selectData","packagesTypes","statusList","mouldTypeList","deleteLoading","usingLoading","total","applyOrgCd","mouldName","mouldType","pageSize","pageNo","bizCode","pageNO","specState","query","content","msgTip","onOk","dtAuditProcessIds","UpdateStatus","dtAuditProcessId","list","textAlign"],"mappings":"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","file":"js/chunk-5e9134f2.3ebcd698.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-container',{attrs:{\"height\":\"100%\",\"title\":\"审核流程配置\",\"icon\":\"onetomany\",\"color-code\":\"001\"}},[_c('ec-container-body',[_c('ec-panel',{attrs:{\"auto\":false}},[_c('ec-panel-toolbar',[_c('ec-panel-item',[_c('ec-query-panel',{attrs:{\"defaultFold\":\"\"},on:{\"query\":_vm.getTableData,\"reset\":_vm.onReset},scopedSlots:_vm._u([{key:\"inner\",fn:function(){return [_c('ec-query-item',{attrs:{\"label\":\"状态\"}},[_c('ec-select',{attrs:{\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.specState),callback:function ($$v) {_vm.$set(_vm.queryItems, \"specState\", $$v)},expression:\"queryItems.specState\"}},_vm._l((_vm.statusList),function(item){return _c('a-select-option',{key:item.value},[_vm._v(_vm._s(item.label))])}),1)],1)]},proxy:true}])},[_c('ec-query-item',{attrs:{\"label\":\"业务类型\"}},[_c('a-select',{attrs:{\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.busiTypeCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"busiTypeCode\", $$v)},expression:\"queryItems.busiTypeCode\"}},_vm._l((_vm.busiTypeCodeList),function(item){return _c('a-select-option',{key:item.id},[_vm._v(_vm._s(item.label))])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"流程类型\"}},[_c('a-select',{attrs:{\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.processType),callback:function ($$v) {_vm.$set(_vm.queryItems, \"processType\", $$v)},expression:\"queryItems.processType\"}},_vm._l((_vm.ProcessTypeList),function(item){return _c('a-select-option',{key:item.id},[_vm._v(_vm._s(item.label))])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"角色名称\"}},[_c('ec-select',{attrs:{\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.roleName),callback:function ($$v) {_vm.$set(_vm.queryItems, \"roleName\", $$v)},expression:\"queryItems.roleName\"}},_vm._l((_vm.packagesTypes),function(type){return _c('a-select-option',{key:type.value},[_vm._v(\" \"+_vm._s(type.label)+\" \")])}),1)],1)],1)],1)],1),_c('ec-panel-toolbar',[_c('ec-panel-item-left',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleOpen('add', {})}}},[_vm._v(\"新增\")]),_c('a-button',{attrs:{\"loading\":_vm.appearLoading},on:{\"click\":function($event){return _vm.handleUpdateStatus(1)}}},[_vm._v(\"启用\")]),_c('a-button',{attrs:{\"loading\":_vm.appearLoading},on:{\"click\":function($event){return _vm.handleUpdateStatus(0)}}},[_vm._v(\"停用\")])],1)],1),_c('ec-panel-body',[_c('ec-table',{ref:\"table\",attrs:{\"height\":\"100%\",\"show-overflow\":\"\",\"header-align\":\"center\",\"align\":\"center\",\"cell-style\":_vm.cellStyle,\"auto\":false,\"loading\":_vm.loading,\"data\":_vm.tableData,\"pagination\":_vm.queryItems},on:{\"page-action\":_vm.handlePagination,\"checkbox-all\":_vm.onSelTableData,\"checkbox-change\":_vm.onSelTableData}},[_c('ec-table-col',{attrs:{\"width\":\"80\",\"type\":\"checkbox\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"title\":\"序号\",\"width\":\"80\",\"type\":\"seq\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"title\":\"流程编码\",\"field\":\"processCode\"}}),_c('ec-table-col',{attrs:{\"title\":\"角色代码\",\"field\":\"roleCode\"}}),_c('ec-table-col',{attrs:{\"title\":\"角色名称\",\"field\":\"roleName\"}}),_c('ec-table-col',{attrs:{\"title\":\"流程状态值\",\"field\":\"processStateCode\"}}),_c('ec-table-col',{attrs:{\"title\":\"流程类型\",\"field\":\"processType\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.getbusiTypeCodeLabel(_vm.ProcessTypeList, row.processType))+\" \")]}}])}),_c('ec-table-col',{attrs:{\"title\":\"业务类型\",\"field\":\"busiTypeCode\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.getbusiTypeCodeLabel(_vm.busiTypeCodeList, row.busiTypeCode))+\" \")]}}])}),_c('ec-table-col',{attrs:{\"title\":\"下一个流程编码\",\"field\":\"nextProcessCode\"}}),_c('ec-table-col',{attrs:{\"title\":\"结束状态值\",\"field\":\"endStateCode\"}}),_c('ec-table-col',{attrs:{\"title\":\"启用状态\",\"field\":\"enableFlag\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.enableFlag === '1' ? '已启用' : row.enableFlag === '0' ? '未启用' : '')+\" \")]}}])}),_c('ec-table-col',{attrs:{\"title\":\"操作\",\"field\":\"priceTagName\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-button',{attrs:{\"disabled\":row.enableFlag === '1',\"type\":\"link\"},on:{\"click\":function($event){return _vm.handleOpen('edit', row)}}},[_vm._v(\"编辑\")]),_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.handleOpen('view', row)}}},[_vm._v(\"详细\")])]}}])})],1)],1)],1),_c('FormModel',{ref:\"formRef\",attrs:{\"busiYear\":_vm.busiYear},on:{\"submitOK\":_vm.getTableData}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ec-drawer',{attrs:{\"visible\":_vm.visible,\"size\":\"large\",\"title\":_vm.curType === 'add' ? '新增' : _vm.curType === 'edit' ? '编辑' : '详情',\"is-confirm\":true},on:{\"close\":_vm.onClose}},[_c('ec-container',{attrs:{\"height\":\"auto\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',[_c('ec-panel',{attrs:{\"color-code\":\"001\"}},[_c('ec-panel-item',[_c('ec-form',{ref:\"formRef\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules}},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":12}},[_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"业务类型\",\"prop\":\"busiTypeCode\"}},[_c('a-select',{attrs:{\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.formData.busiTypeCode),callback:function ($$v) {_vm.$set(_vm.formData, \"busiTypeCode\", $$v)},expression:\"formData.busiTypeCode\"}},_vm._l((_vm.busiTypeCodeList),function(item){return _c('a-select-option',{key:item.id},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"流程编码\",\"prop\":\"processCode\"}},[_c('a-input',{model:{value:(_vm.formData.processCode),callback:function ($$v) {_vm.$set(_vm.formData, \"processCode\", $$v)},expression:\"formData.processCode\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"角色编码\",\"prop\":\"roleCode\"}},[_c('a-input',{model:{value:(_vm.formData.roleCode),callback:function ($$v) {_vm.$set(_vm.formData, \"roleCode\", $$v)},expression:\"formData.roleCode\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('a-input',{model:{value:(_vm.formData.roleName),callback:function ($$v) {_vm.$set(_vm.formData, \"roleName\", $$v)},expression:\"formData.roleName\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"流程类型\",\"prop\":\"processType\"}},[_c('a-select',{attrs:{\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.formData.processType),callback:function ($$v) {_vm.$set(_vm.formData, \"processType\", $$v)},expression:\"formData.processType\"}},_vm._l((_vm.ProcessTypeList),function(item){return _c('a-select-option',{key:item.id},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"流程状态值\",\"prop\":\"processStateCode\"}},[_c('a-input',{model:{value:(_vm.formData.processStateCode),callback:function ($$v) {_vm.$set(_vm.formData, \"processStateCode\", $$v)},expression:\"formData.processStateCode\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"下个流程\",\"prop\":\"nextProcessCode\"}},[_c('a-input',{model:{value:(_vm.formData.nextProcessCode),callback:function ($$v) {_vm.$set(_vm.formData, \"nextProcessCode\", $$v)},expression:\"formData.nextProcessCode\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"结束状态值\",\"prop\":\"endStateCode\"}},[_c('a-input',{model:{value:(_vm.formData.endStateCode),callback:function ($$v) {_vm.$set(_vm.formData, \"endStateCode\", $$v)},expression:\"formData.endStateCode\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"流程顺序\",\"prop\":\"dispNo\"}},[_c('a-input',{model:{value:(_vm.formData.dispNo),callback:function ($$v) {_vm.$set(_vm.formData, \"dispNo\", $$v)},expression:\"formData.dispNo\"}})],1)],1)],1)],1)],1)],1)],1),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[(_vm.curType !== 'view')?_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.saveLoading},on:{\"click\":_vm.handleSumbit}},[_vm._v(\"保存\")]):_vm._e(),_c('a-button',{on:{\"click\":_vm.onClose}},[_vm._v(\"关闭\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <ec-drawer\r\n      :visible=\"visible\"\r\n      size=\"large\"\r\n      :title=\"curType === 'add' ? '新增' : curType === 'edit' ? '编辑' : '详情'\"\r\n      :is-confirm=\"true\"\r\n      @close=\"onClose\"\r\n    >\r\n      <ec-container height=\"auto\" fixed=\"top bottom\" color-code=\"007\">\r\n        <ec-container-body>\r\n          <ec-panel color-code=\"001\">\r\n            <ec-panel-item>\r\n              <ec-form :model=\"formData\" :rules=\"formRules\" ref=\"formRef\">\r\n                <a-row type=\"flex\" :gutter=\"12\">\r\n                  <a-col :span=\"8\">\r\n                    <a-form-model-item label=\"业务类型\" prop=\"busiTypeCode\">\r\n                      <a-select allowClear v-model=\"formData.busiTypeCode\" placeholder=\"请选择\">\r\n                        <a-select-option v-for=\"item in busiTypeCodeList\" :key=\"item.id\">{{\r\n                          item.label\r\n                        }}</a-select-option>\r\n                      </a-select>\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n                  <a-col :span=\"8\">\r\n                    <a-form-model-item label=\"流程编码\" prop=\"processCode\">\r\n                      <a-input v-model=\"formData.processCode\"></a-input>\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n                  <a-col :span=\"8\">\r\n                    <a-form-model-item label=\"角色编码\" prop=\"roleCode\">\r\n                      <a-input v-model=\"formData.roleCode\"></a-input>\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n                  <a-col :span=\"8\">\r\n                    <a-form-model-item label=\"角色名称\" prop=\"roleName\">\r\n                      <a-input v-model=\"formData.roleName\"></a-input>\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n\r\n                  <a-col :span=\"8\">\r\n                    <a-form-model-item label=\"流程类型\" prop=\"processType\">\r\n                      <a-select allowClear v-model=\"formData.processType\" placeholder=\"请选择\">\r\n                        <a-select-option v-for=\"item in ProcessTypeList\" :key=\"item.id\">{{\r\n                          item.label\r\n                        }}</a-select-option>\r\n                      </a-select>\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n                  <a-col :span=\"8\">\r\n                    <a-form-model-item label=\"流程状态值\" prop=\"processStateCode\">\r\n                      <a-input v-model=\"formData.processStateCode\"></a-input>\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n                  <a-col :span=\"8\">\r\n                    <a-form-model-item label=\"下个流程\" prop=\"nextProcessCode\">\r\n                      <a-input v-model=\"formData.nextProcessCode\"></a-input>\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n\r\n                  <a-col :span=\"8\">\r\n                    <a-form-model-item label=\"结束状态值\" prop=\"endStateCode\">\r\n                      <a-input v-model=\"formData.endStateCode\"></a-input>\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n\r\n                  <a-col :span=\"8\">\r\n                    <a-form-model-item label=\"流程顺序\" prop=\"dispNo\">\r\n                      <a-input v-model=\"formData.dispNo\"></a-input>\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n                </a-row>\r\n              </ec-form>\r\n            </ec-panel-item>\r\n          </ec-panel>\r\n        </ec-container-body>\r\n        <ec-container-footer fixed>\r\n          <a-space>\r\n            <a-button\r\n              v-if=\"curType !== 'view'\"\r\n              type=\"primary\"\r\n              :loading=\"saveLoading\"\r\n              @click=\"handleSumbit\"\r\n              >保存</a-button\r\n            >\r\n            <a-button @click=\"onClose\">关闭</a-button>\r\n          </a-space>\r\n        </ec-container-footer>\r\n      </ec-container>\r\n    </ec-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'formmodel',\r\n  props: {\r\n    busiYear: {\r\n      type: Number,\r\n      default: 2022,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      curType: null,\r\n      visible: false,\r\n      saveLoading: false,\r\n      formData: {\r\n        processType: '',\r\n        busiTypeCode: '',\r\n        processCode: '',\r\n        roleCode: '',\r\n        roleName: '',\r\n        processStateCode: '',\r\n        nextProcessCode: '',\r\n        endStateCode: '',\r\n        dispNo: '',\r\n      },\r\n      formRules: {\r\n        processCode: { required: true, message: '请输入流程编码' },\r\n        roleCode: { required: true, message: '请输入角色编码' },\r\n        roleName: { required: true, message: '请输入角色名称' },\r\n        processType: { required: true, message: '请选择流程类型' },\r\n        processStateCode: { required: true, message: '请输入流程状态值' },\r\n        busiTypeCode: { required: true, message: '请选择业务类型' },\r\n      },\r\n      // options\r\n      ProcessTypeList: [\r\n        { id: '1', label: '开始节点' },\r\n        { id: '-1', label: '结束节点' },\r\n        { id: '2', label: '过程节点' },\r\n      ],\r\n      busiTypeCodeList: [\r\n        { id: '1', label: '日常交易省级审核流程' },\r\n        { id: '2', label: '日常交易国家局审核流程' },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    _api() {\r\n      return this.$apis.apm.dailyFlowSetting;\r\n    },\r\n  },\r\n  methods: {\r\n    show(type, row) {\r\n      if (type !== 'add') {\r\n        Object.assign(this.formData, row);\r\n      }\r\n      this.curType = type;\r\n      this.visible = true;\r\n    },\r\n    handleSumbit() {\r\n      this.$refs.formRef.validate((valid) => {\r\n        if (valid) {\r\n          this.saveLoading = true;\r\n          $ec.showLoading();\r\n          const params = { ...this.formData };\r\n          params.busiYear = this.busiYear;\r\n          this._api\r\n            .Add(params)\r\n            .then(({ result }) => {\r\n              const msg = this.curType === 'add' ? '新增成功' : '编辑成功';\r\n              if (result) {\r\n                this.$message.success(`${msg}成功`);\r\n                this.$emit('submitOK');\r\n                this.onClose();\r\n              } else {\r\n                this.$message.error('操作失败');\r\n              }\r\n            })\r\n            .finally(() => {\r\n              this.saveLoading = false;\r\n              $ec.hideLoading();\r\n            });\r\n        }\r\n      });\r\n    },\r\n    orgChange(data) {\r\n      const { title } = data.selectOption;\r\n      this.formData.applyOrgName = title;\r\n    },\r\n    onClose() {\r\n      this.formData = {};\r\n      this.$refs.formRef.resetFields();\r\n      this.visible = false;\r\n    },\r\n    querygetBusinessType() {\r\n      // 业务类型\r\n      this.$apis.common.index.queryContType({ contTypeCode: '2' }).then(({ rows }) => {\r\n        this.apprTypeCodeListed = rows;\r\n        this.apprTypeCodeList = this.getTree(\r\n          rows,\r\n          'higherContTypeCode',\r\n          'contTypeCode',\r\n          'contTypeName',\r\n          'children',\r\n          '0',\r\n        );\r\n      });\r\n    },\r\n    // 获取业务类型\r\n    getTree(rows, pid, id, title, children, root) {\r\n      // 递归 161202 次 5ms左右时间\r\n      console.time();\r\n      const list2tree1 = (list, topid) => {\r\n        return list.filter((item) => {\r\n          if (item[pid] === topid) {\r\n            (item.value = item[id])((item.label = item[title]))(\r\n              (item[children] = list2tree1(list, item[id])),\r\n            );\r\n            return true;\r\n          }\r\n          return false;\r\n        });\r\n      };\r\n      const tree = list2tree1(rows, root);\r\n      console.timeEnd();\r\n      return tree;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormModel.vue?vue&type=template&id=e3741332&scoped=true&\"\nimport script from \"./FormModel.vue?vue&type=script&lang=js&\"\nexport * from \"./FormModel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e3741332\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <ec-container height=\"100%\" title=\"审核流程配置\" icon=\"onetomany\" color-code=\"001\">\r\n    <ec-container-body>\r\n      <ec-panel :auto=\"false\">\r\n        <ec-panel-toolbar>\r\n          <ec-panel-item>\r\n            <ec-query-panel defaultFold @query=\"getTableData\" @reset=\"onReset\">\r\n              <ec-query-item label=\"业务类型\">\r\n                <a-select allowClear v-model=\"queryItems.busiTypeCode\" placeholder=\"请选择\">\r\n                  <a-select-option v-for=\"item in busiTypeCodeList\" :key=\"item.id\">{{\r\n                    item.label\r\n                  }}</a-select-option>\r\n                </a-select>\r\n              </ec-query-item>\r\n              <ec-query-item label=\"流程类型\">\r\n                <a-select allowClear v-model=\"queryItems.processType\" placeholder=\"请选择\">\r\n                  <a-select-option v-for=\"item in ProcessTypeList\" :key=\"item.id\">{{\r\n                    item.label\r\n                  }}</a-select-option>\r\n                </a-select>\r\n              </ec-query-item>\r\n              <ec-query-item label=\"角色名称\">\r\n                <ec-select allowClear placeholder=\"请选择\" v-model=\"queryItems.roleName\">\r\n                  <a-select-option v-for=\"type in packagesTypes\" :key=\"type.value\">\r\n                    {{ type.label }}\r\n                  </a-select-option>\r\n                </ec-select>\r\n              </ec-query-item>\r\n              <template #inner>\r\n                <ec-query-item label=\"状态\">\r\n                  <ec-select allowClear placeholder=\"请选择\" v-model=\"queryItems.specState\">\r\n                    <a-select-option v-for=\"item in statusList\" :key=\"item.value\">{{\r\n                      item.label\r\n                    }}</a-select-option>\r\n                  </ec-select>\r\n                </ec-query-item>\r\n              </template>\r\n            </ec-query-panel>\r\n          </ec-panel-item>\r\n        </ec-panel-toolbar>\r\n        <ec-panel-toolbar>\r\n          <ec-panel-item-left>\r\n            <a-button type=\"primary\" @click=\"handleOpen('add', {})\">新增</a-button>\r\n            <a-button :loading=\"appearLoading\" @click=\"handleUpdateStatus(1)\">启用</a-button>\r\n            <a-button :loading=\"appearLoading\" @click=\"handleUpdateStatus(0)\">停用</a-button>\r\n          </ec-panel-item-left>\r\n        </ec-panel-toolbar>\r\n        <ec-panel-body>\r\n          <ec-table\r\n            ref=\"table\"\r\n            height=\"100%\"\r\n            show-overflow\r\n            header-align=\"center\"\r\n            align=\"center\"\r\n            :cell-style=\"cellStyle\"\r\n            :auto=\"false\"\r\n            :loading=\"loading\"\r\n            :data=\"tableData\"\r\n            :pagination=\"queryItems\"\r\n            @page-action=\"handlePagination\"\r\n            @checkbox-all=\"onSelTableData\"\r\n            @checkbox-change=\"onSelTableData\"\r\n          >\r\n            <ec-table-col width=\"80\" type=\"checkbox\" align=\"center\"></ec-table-col>\r\n            <ec-table-col title=\"序号\" width=\"80\" type=\"seq\" align=\"center\"></ec-table-col>\r\n            <ec-table-col title=\"流程编码\" field=\"processCode\"></ec-table-col>\r\n            <ec-table-col title=\"角色代码\" field=\"roleCode\"></ec-table-col>\r\n            <ec-table-col title=\"角色名称\" field=\"roleName\"></ec-table-col>\r\n            <ec-table-col title=\"流程状态值\" field=\"processStateCode\"></ec-table-col>\r\n            <ec-table-col title=\"流程类型\" field=\"processType\" #default=\"{ row }\">\r\n              {{ getbusiTypeCodeLabel(ProcessTypeList, row.processType) }}\r\n            </ec-table-col>\r\n            <ec-table-col title=\"业务类型\" field=\"busiTypeCode\" #default=\"{ row }\">\r\n              {{ getbusiTypeCodeLabel(busiTypeCodeList, row.busiTypeCode) }}\r\n            </ec-table-col>\r\n            <ec-table-col title=\"下一个流程编码\" field=\"nextProcessCode\"></ec-table-col>\r\n            <ec-table-col title=\"结束状态值\" field=\"endStateCode\"></ec-table-col>\r\n\r\n            <ec-table-col title=\"启用状态\" field=\"enableFlag\" #default=\"{ row }\">\r\n              {{ row.enableFlag === '1' ? '已启用' : row.enableFlag === '0' ? '未启用' : '' }}\r\n            </ec-table-col>\r\n            <ec-table-col title=\"操作\" field=\"priceTagName\" align=\"center\">\r\n              <template #default=\"{ row }\">\r\n                <a-button\r\n                  :disabled=\"row.enableFlag === '1'\"\r\n                  type=\"link\"\r\n                  @click=\"handleOpen('edit', row)\"\r\n                  >编辑</a-button\r\n                >\r\n                <a-button type=\"link\" @click=\"handleOpen('view', row)\">详细</a-button>\r\n              </template>\r\n            </ec-table-col>\r\n          </ec-table>\r\n        </ec-panel-body>\r\n      </ec-panel>\r\n      <FormModel ref=\"formRef\" :busiYear=\"busiYear\" @submitOK=\"getTableData\" />\r\n    </ec-container-body>\r\n  </ec-container>\r\n</template>\r\n<script>\r\nimport FormModel from './FormModel.vue';\r\n\r\nexport default {\r\n  name: 'MaterialApply',\r\n  components: {\r\n    FormModel,\r\n  },\r\n  data() {\r\n    return {\r\n      // options\r\n      selectData: [],\r\n      ProcessTypeList: [\r\n        { id: '1', label: '开始节点' },\r\n        { id: '-1', label: '结束节点' },\r\n        { id: '2', label: '过程节点' },\r\n      ],\r\n      busiTypeCodeList: [\r\n        { id: '1', label: '日常交易省级审核流程' },\r\n        { id: '2', label: '日常交易国家局审核流程' },\r\n      ],\r\n      packagesTypes: [\r\n        { label: '省经办人', value: '1' },\r\n        { label: '省业务复核', value: '2' },\r\n        { label: '省业务主管', value: '3' },\r\n        { label: '省分管副总', value: '4' },\r\n        { label: '省总经理', value: '5' },\r\n        { label: '中国烟叶公司经办人', value: '6' },\r\n        { label: '中国烟叶公司业务复核', value: '7' },\r\n        { label: '中国烟叶公司业务主管', value: '8' },\r\n        { label: '中国烟叶公司分管副总', value: '9' },\r\n        { label: '中国烟叶公司总经理', value: '10' },\r\n      ],\r\n      statusList: [\r\n        { label: '已上报', value: '1' },\r\n        { label: '已退回', value: '2' },\r\n        { label: '未上报', value: '0' },\r\n      ],\r\n      mouldTypeList: [\r\n        { name: '模板类型1', id: '1' },\r\n        { name: '模板类型2', id: '2' },\r\n      ],\r\n      appearLoading: false,\r\n      saveLoading: false,\r\n      deleteLoading: false,\r\n      usingLoading: false,\r\n      visible: false,\r\n      loading: false,\r\n\r\n      formData: {},\r\n      tableData: [],\r\n      total: 0,\r\n      queryItems: {\r\n        total: 0,\r\n        applyOrgCd: undefined,\r\n        mouldName: undefined,\r\n        mouldType: undefined,\r\n        pageSize: 10,\r\n        pageNo: 1,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    bizCode() {\r\n      return this.$store.getters.getAppConfig.bizCode;\r\n    },\r\n    busiYear() {\r\n      return this.$store.getters.getAppConfig?.yearValueMap?.DAILY_YEAR;\r\n    },\r\n    _api() {\r\n      return this.$apis.apm.dailyFlowSetting;\r\n    },\r\n  },\r\n  methods: {\r\n    // 分页查询\r\n    handlePagination(pageNO, pageSize) {\r\n      this.queryItems.pageNo = pageNO;\r\n      this.queryItems.pageSize = pageSize;\r\n      this.getTableData();\r\n    },\r\n    // 重置\r\n    onReset() {\r\n      this.selectData = [];\r\n      this.queryItems = {\r\n        total: 0,\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        busiTypeCode: undefined,\r\n        processType: undefined,\r\n        roleName: undefined,\r\n        specState: undefined,\r\n      };\r\n      this.handlePagination();\r\n    },\r\n    // 主表list\r\n    getTableData() {\r\n      this.selectData = [];\r\n      this.loading = true;\r\n      const { ...params } = this.queryItems;\r\n      this._api\r\n        .query(params)\r\n        .then((res) => {\r\n          this.tableData = res?.rows;\r\n          this.queryItems.total = res?.totalRows;\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    // 启用/停用\r\n    handleUpdateStatus(type) {\r\n      if (!this.selectData.length) {\r\n        return this.$message.error('请先选择数据');\r\n      }\r\n      // 对停用做判断\r\n      // for (const item of this.selectData) {\r\n      //   const { specState } = item;\r\n      //   if (specState !== '0') {\r\n      //     return this.$message.error('只有未上报的数据才能上报');\r\n      //   }\r\n      // }\r\n      const msgTip = type === 1 ? '启用' : '停用';\r\n      this.$confirm({\r\n        title: '是否执行该操作?',\r\n        content: () => (\r\n          <div style=\"color:red;\">\r\n            是否确认{msgTip}选中的数据，确认请点击'确认'按钮，取消点击'取消'按钮。\r\n          </div>\r\n        ),\r\n        onOk: () => {\r\n          this.appearLoading = true;\r\n          $ec.showLoading();\r\n          const dtAuditProcessIds = this.selectData?.map((item) => item.dtAuditProcessId).join('');\r\n          const params = {\r\n            dtAuditProcessIds,\r\n            enableFlag: type,\r\n          };\r\n          this._api\r\n            .UpdateStatus(params)\r\n            .then(({ result }) => {\r\n              if (result) {\r\n                this.$message.error('操作成功');\r\n                this.selectData = [];\r\n                this.handlePagination();\r\n              } else {\r\n                this.$message.error('操作失败');\r\n              }\r\n            })\r\n            .finally(() => {\r\n              this.appearLoading = false;\r\n              $ec.hideLoading();\r\n            });\r\n        },\r\n      });\r\n    },\r\n    // 弹框\r\n    handleOpen(type, { dtAuditProcessId }) {\r\n      if (type !== 'add') {\r\n        this._api.queryAlone({ dtAuditProcessId }).then((res) => {\r\n          this.$refs.formRef.show(type, res);\r\n        });\r\n      } else {\r\n        this.$refs.formRef.show(type, {});\r\n      }\r\n    },\r\n    // 选中行\r\n    onSelTableData({ records }) {\r\n      this.selectData = records;\r\n    },\r\n    // 匹配\r\n    getbusiTypeCodeLabel(list, id) {\r\n      return list?.find((item) => item.id === id)?.label || '';\r\n    },\r\n    // 单元格居右\r\n    cellStyle({ $columnIndex }) {\r\n      if ($columnIndex === 2 || $columnIndex === 3 || $columnIndex === 4 || $columnIndex === 7) {\r\n        return { textAlign: 'left' };\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=8699edca&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}