{"version":3,"sources":["webpack:///./src/views/pcm/inventory/Receive.vue?7d18","webpack:///./src/components/TreePicker/src/OrgTree.vue?a763","webpack:///src/components/TreePicker/src/OrgTree.vue","webpack:///./src/components/TreePicker/src/OrgTree.vue?dd69","webpack:///./src/components/TreePicker/src/OrgTree.vue","webpack:///./src/components/TreePicker/src/DivisionPicker.vue?6ba2","webpack:///src/components/TreePicker/src/DivisionPicker.vue","webpack:///./src/components/TreePicker/src/DivisionPicker.vue?e579","webpack:///./src/components/TreePicker/src/DivisionPicker.vue","webpack:///./src/components/TreePicker/src/DivisionTree.vue?cedc","webpack:///src/components/TreePicker/src/DivisionTree.vue","webpack:///./src/components/TreePicker/src/DivisionTree.vue?b70b","webpack:///./src/components/TreePicker/src/DivisionTree.vue","webpack:///./src/views/pcm/inventory/Receive.vue?3b0a","webpack:///src/views/pcm/inventory/Receive.vue","webpack:///./src/views/pcm/inventory/Receive.vue?5e0c","webpack:///./src/views/pcm/inventory/Receive.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_g","_b","ref","attrs","lazy","join","search","activeFirst","initLevel","fetchGetTree","fetchGetTreeById","fetchGetTreeByName","replaceFields","valueField","isShowParent","on","onSelectTreeData","$attrs","$listeners","slot","_t","staticRenderFns","inheritAttrs","name","components","TreeSearch","props","baseUrl","type","default","treeApi","treeApiById","treeApiByName","placeholder","multiple","allowClear","limitLevel","pkey","title","key","children","data","otherParams","methods","params","orgUniqueCode","$ec","send","orgLevelNum","then","resolve","catch","reject","finally","console","orgName","Object","selectedKeys","selectOption","treeData","onRefreshTree","onSelectTreeFn","keys","component","value","disabled","SelectPicker","model","prop","event","width","height","top","centered","divisionUniqueCode","divisionLevelNum","divisionName","_v","_s","queryItems","tranYear","getLabelName","leafTypeCode","leafTypeList","leafFormCode","leafFormList","totalData","realApplyNum","applyNum","colCount","onQuery","onReset","scopedSlots","_u","fn","leafTypeChange","callback","$$v","$set","expression","_l","leafTypeEk","leafTypeName","item","leafFormName","material","enumKey","proxy","selectOrg","storeCode","storeName","staticStyle","weightUnit","weight","weightUnitCd","weightUnitName","orgInfo","length","pagination","tableData","loading","handlePagination","row","$event","onDetails","visible","staticClass","detailsTableData","detailsLoading","OrgPicker","computed","_api","applyOrgCode","materialList","topInfo","storesList","objectData","busiYear","applyOrgCodes","areaUnit","nowYear","leafTypeCd","oldDataRow","oldTotalData","isNullData","workSubmitState","id","workAuditState","workOptType","weightUnitList","isSelected","orgCodeList","pageNumber","pageSize","total","created","appCode","code","applyType","barcodeApplyId","queryDetail","getCurrentUserOrg","dataState","getCmTStoreByOrgCode","orgCode","handleGetLeafTypeList","res","leafTypeCodes","pageNo","pageConfCp","onExport"],"mappings":"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","file":"js/chunk-3e69f6aa.10f7639b.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Receive.vue?vue&type=style&index=0&id=661f175c&prod&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TreeSearch',_vm._g(_vm._b({ref:\"org\",attrs:{\"lazy\":_vm.lazy,\"join\":_vm.join,\"search\":_vm.search,\"activeFirst\":_vm.activeFirst,\"initLevel\":_vm.initLevel,\"fetchData\":_vm.fetchGetTree,\"fetchDataById\":_vm.fetchGetTreeById,\"fetchDataByName\":_vm.fetchGetTreeByName,\"replaceFields\":_vm.replaceFields,\"valueField\":_vm.valueField,\"isShowParent\":_vm.isShowParent},on:{\"select\":_vm.onSelectTreeData}},'TreeSearch',_vm.$attrs,false),_vm.$listeners),[_c('template',{slot:\"title\"},[_vm._t(\"title\")],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <TreeSearch\r\n    ref=\"org\"\r\n    v-bind=\"$attrs\"\r\n    :lazy=\"lazy\"\r\n    :join=\"join\"\r\n    :search=\"search\"\r\n    :activeFirst=\"activeFirst\"\r\n    :initLevel=\"initLevel\"\r\n    :fetchData=\"fetchGetTree\"\r\n    :fetchDataById=\"fetchGetTreeById\"\r\n    :fetchDataByName=\"fetchGetTreeByName\"\r\n    :replaceFields=\"replaceFields\"\r\n    :valueField=\"valueField\"\r\n    :isShowParent=\"isShowParent\"\r\n    v-on=\"$listeners\"\r\n    @select=\"onSelectTreeData\"\r\n  >\r\n    <template slot=\"title\"><slot name=\"title\"></slot></template>\r\n  </TreeSearch>\r\n</template>\r\n<script>\r\nimport TreeSearch from './TreeSearch.vue';\r\nimport { treeFormatList } from '@/components/_utils';\r\n\r\nexport default {\r\n  inheritAttrs: false,\r\n  name: 'OrgTree',\r\n  components: {\r\n    TreeSearch,\r\n  },\r\n  props: {\r\n    baseUrl: {\r\n      type: String,\r\n      default: '/dts/bim',\r\n    },\r\n    treeApi: {\r\n      type: String,\r\n      default: '/q/cmTOrgMain/getCmTOrgMainTreeDataList/v1',\r\n    },\r\n    treeApiById: {\r\n      type: String,\r\n      default: '/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgUniqueCode/v1',\r\n    },\r\n    treeApiByName: {\r\n      type: String,\r\n      default: '/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgName/v1',\r\n    },\r\n    // 选择框默认文字\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择关键词搜索',\r\n    },\r\n    // 是否支持多选\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    isShowParent: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    activeFirst: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否支持清除\r\n    allowClear: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    initLevel: {\r\n      type: [Number, null],\r\n      default: 2,\r\n    },\r\n    // 树加载层级\r\n    limitLevel: {\r\n      type: [Number, String, null],\r\n      default: null,\r\n    },\r\n    replaceFields: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          pkey: 'pkey',\r\n          title: 'title',\r\n          key: 'key',\r\n          children: 'children',\r\n        };\r\n      },\r\n    },\r\n    valueField: {\r\n      type: String,\r\n      default: 'key',\r\n    },\r\n    join: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    search: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    lazy: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      otherParams: {},\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取树\r\n    fetchGetTree(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const orgUniqueCode = params?.code;\r\n\r\n        orgUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApi, {\r\n            orgLevelNum: this.limitLevel,\r\n            orgUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeById(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const orgUniqueCode = params?.code;\r\n        orgUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiById, {\r\n            orgLevelNum: this.limitLevel,\r\n            orgUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeByName(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const orgName = params?.name;\r\n        orgName && Reflect.deleteProperty(params, 'name');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiByName, {\r\n            orgLevelNum: this.limitLevel,\r\n            orgName,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 从树中获取数据,临时存储\r\n    onSelectTreeData({ treeSelectedKeys, treeData, selectOption }) {\r\n      Object.assign(this, {\r\n        selectedKeys: treeSelectedKeys,\r\n        selectOption,\r\n        treeData,\r\n      });\r\n    },\r\n    // 刷新树\r\n    onRefreshTree(params) {\r\n      this.otherParams = params;\r\n      this.$refs.org && this.$refs.org.handleTreeData(params);\r\n    },\r\n    // 手动触发select节点事件\r\n    onSelectTreeFn(keys) {\r\n      this.$refs.org && this.$refs.org.onSelectTreeFn(keys);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\"></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrgTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrgTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrgTree.vue?vue&type=template&id=eeec6864&\"\nimport script from \"./OrgTree.vue?vue&type=script&lang=js&\"\nexport * from \"./OrgTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SelectPicker',_vm._g(_vm._b({attrs:{\"title\":_vm.title,\"value\":_vm.value,\"search\":_vm.search,\"allow-clear\":_vm.allowClear,\"placeholder\":_vm.placeholder,\"multiple\":_vm.multiple,\"disabled\":_vm.disabled,\"valueField\":_vm.valueField,\"fetchData\":_vm.fetchGetTree,\"fetchDataById\":_vm.fetchGetTreeById,\"fetchDataByName\":_vm.fetchGetTreeByName}},'SelectPicker',_vm.$attrs,false),_vm.$listeners))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <SelectPicker\r\n    v-bind=\"$attrs\"\r\n    :title=\"title\"\r\n    :value=\"value\"\r\n    :search=\"search\"\r\n    :allow-clear=\"allowClear\"\r\n    :placeholder=\"placeholder\"\r\n    :multiple=\"multiple\"\r\n    :disabled=\"disabled\"\r\n    :valueField=\"valueField\"\r\n    :fetchData=\"fetchGetTree\"\r\n    :fetchDataById=\"fetchGetTreeById\"\r\n    :fetchDataByName=\"fetchGetTreeByName\"\r\n    v-on=\"$listeners\"\r\n  />\r\n</template>\r\n<script>\r\nimport SelectPicker from './SelectPicker.vue';\r\nimport { treeFormatList } from '@/components/_utils';\r\n\r\nexport default {\r\n  inheritAttrs: false,\r\n  name: 'DivisionPicker',\r\n  components: {\r\n    SelectPicker,\r\n  },\r\n  model: {\r\n    prop: 'value',\r\n    event: 'change',\r\n  },\r\n  props: {\r\n    value: {\r\n      type: [String, Array, null],\r\n      default: null,\r\n    },\r\n    baseUrl: {\r\n      type: String,\r\n      default: '/dts/bim',\r\n    },\r\n    treeApi: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeDataList/v1',\r\n    },\r\n    treeApiById: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentById/v1',\r\n    },\r\n    treeApiByName: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentByIName/v1',\r\n    },\r\n    // 选择框默认文字\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择关键词搜索',\r\n    },\r\n    // 是否支持多选\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否支持清除\r\n    allowClear: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否禁用\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 选择器弹窗标题\r\n    title: {\r\n      type: String,\r\n      default: '行政区域选择器',\r\n    },\r\n    search: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // 选择器弹窗的宽度 单位 px/%/vw (仅数字则视为 px)，默认560px\r\n    width: {\r\n      type: [String, Number],\r\n      default: '425px',\r\n    },\r\n    // 选择器弹窗的高度 单位 px/%/vh (仅数字则视为 px)，默认500px\r\n    height: {\r\n      type: [String, Number],\r\n      default: '370px',\r\n    },\r\n    // 选择器弹窗距页面顶部的距离 单位 px/%/vh (仅数字则视为 px)，默认100px\r\n    top: {\r\n      type: [String, Number],\r\n      default: '100px',\r\n    },\r\n    // 选择器弹窗是否垂直居中展示，默认 false\r\n    centered: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    initLevel: {\r\n      type: [Number, null],\r\n      default: 2,\r\n    },\r\n    limitLevel: {\r\n      type: [Number, null],\r\n      default: null,\r\n    },\r\n    replaceFields: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          pkey: 'pkey',\r\n          title: 'title',\r\n          key: 'key',\r\n          children: 'children',\r\n        };\r\n      },\r\n    },\r\n    valueField: {\r\n      type: String,\r\n      default: 'key',\r\n    },\r\n    join: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    lazy: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  methods: {\r\n    // 获取树\r\n    fetchGetTree(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApi, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeById(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiById, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeByName(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionName = params?.name;\r\n        divisionName && Reflect.deleteProperty(params, 'name');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiByName, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionName,\r\n            ...params,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\"></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DivisionPicker.vue?vue&type=template&id=69513891&\"\nimport script from \"./DivisionPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./DivisionPicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TreeSearch',_vm._g(_vm._b({ref:\"division\",attrs:{\"lazy\":_vm.lazy,\"join\":_vm.join,\"search\":_vm.search,\"activeFirst\":_vm.activeFirst,\"initLevel\":_vm.initLevel,\"fetchData\":_vm.fetchGetTree,\"fetchDataById\":_vm.fetchGetTreeById,\"fetchDataByName\":_vm.fetchGetTreeByName,\"replaceFields\":_vm.replaceFields,\"valueField\":_vm.valueField,\"isShowParent\":_vm.isShowParent},on:{\"select\":_vm.onSelectTreeData}},'TreeSearch',_vm.$attrs,false),_vm.$listeners),[_c('template',{slot:\"title\"},[_vm._t(\"title\")],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <TreeSearch\r\n    ref=\"division\"\r\n    v-bind=\"$attrs\"\r\n    :lazy=\"lazy\"\r\n    :join=\"join\"\r\n    :search=\"search\"\r\n    :activeFirst=\"activeFirst\"\r\n    :initLevel=\"initLevel\"\r\n    :fetchData=\"fetchGetTree\"\r\n    :fetchDataById=\"fetchGetTreeById\"\r\n    :fetchDataByName=\"fetchGetTreeByName\"\r\n    :replaceFields=\"replaceFields\"\r\n    :valueField=\"valueField\"\r\n    :isShowParent=\"isShowParent\"\r\n    v-on=\"$listeners\"\r\n    @select=\"onSelectTreeData\"\r\n  >\r\n    <template slot=\"title\"><slot name=\"title\"></slot></template>\r\n  </TreeSearch>\r\n</template>\r\n<script>\r\nimport TreeSearch from './TreeSearch.vue';\r\nimport { treeFormatList } from '@/components/_utils';\r\n\r\nexport default {\r\n  inheritAttrs: false,\r\n  name: 'DivisionTree',\r\n  components: {\r\n    TreeSearch,\r\n  },\r\n  props: {\r\n    baseUrl: {\r\n      type: String,\r\n      default: '/dts/bim',\r\n    },\r\n    treeApi: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeDataList/v1',\r\n    },\r\n    treeApiById: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentById/v1',\r\n    },\r\n    treeApiByName: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentByIName/v1',\r\n    },\r\n    // 选择框默认文字\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择关键词搜索',\r\n    },\r\n    // 是否支持多选\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    isShowParent: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    activeFirst: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否支持清除\r\n    allowClear: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    initLevel: {\r\n      type: [Number, null],\r\n      default: 2,\r\n    },\r\n    // 树加载层级\r\n    limitLevel: {\r\n      type: [Number, String, null],\r\n      default: null,\r\n    },\r\n    replaceFields: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          pkey: 'pkey',\r\n          title: 'title',\r\n          key: 'key',\r\n          children: 'children',\r\n        };\r\n      },\r\n    },\r\n    valueField: {\r\n      type: String,\r\n      default: 'key',\r\n    },\r\n    join: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    search: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    lazy: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      otherParams: {},\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取树\r\n    fetchGetTree(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApi, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeById(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiById, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeByName(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionName = params?.name;\r\n        divisionName && Reflect.deleteProperty(params, 'name');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiByName, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionName,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 从树中获取数据,临时存储\r\n    onSelectTreeData({ treeSelectedKeys, treeData, selectOption }) {\r\n      Object.assign(this, {\r\n        selectedKeys: treeSelectedKeys,\r\n        selectOption,\r\n        treeData,\r\n      });\r\n    },\r\n    // 刷新树\r\n    onRefreshTree(params) {\r\n      this.otherParams = params;\r\n      this.$refs.division && this.$refs.division.handleTreeData(params);\r\n    },\r\n    // 手动触发select节点事件\r\n    onSelectTreeFn(keys) {\r\n      this.$refs.division && this.$refs.division.onSelectTreeFn(keys);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\"></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DivisionTree.vue?vue&type=template&id=6b88db6e&\"\nimport script from \"./DivisionTree.vue?vue&type=script&lang=js&\"\nexport * from \"./DivisionTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-container',{attrs:{\"height\":\"100%\"}},[_c('ec-container-header',[_c('ec-panel-item',[_c('ec-panel-item-left',[_c('ec-header',{attrs:{\"title\":\"历史陈烟码包分配领用\",\"icon\":\"onetomany\",\"color-code\":\"008\"}})],1)],1)],1),_c('ec-container-body',{attrs:{\"auto\":false}},[_c('ec-v-layout',[_c('ec-v-item',[_c('ec-panel',[_c('ec-panel-body',[_c('a-descriptions',{attrs:{\"bordered\":\"\",\"column\":4}},[_c('a-descriptions-item',{attrs:{\"label\":\"调拨年度\"}},[_vm._v(\" \"+_vm._s(_vm.queryItems.tranYear)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"烟叶类型\"}},[_vm._v(\" \"+_vm._s(_vm.getLabelName( _vm.queryItems.leafTypeCode, this.leafTypeList, 'leafTypeCode', 'leafTypeName' )))]),_c('a-descriptions-item',{attrs:{\"label\":\"烟叶形态\"}},[_vm._v(\" \"+_vm._s(_vm.getLabelName( _vm.queryItems.leafFormCode, this.leafFormList, 'leafFormCode', 'leafFormName' ))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"申请码包数量\"}},[_vm._v(\" \"+_vm._s(_vm.totalData.realApplyNum)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"申请量\"}},[_vm._v(\" \"+_vm._s(_vm.totalData.applyNum)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"分配码包数量\"}}),_c('a-descriptions-item',{attrs:{\"label\":\"领用码包数量\"}}),_c('a-descriptions-item',{attrs:{\"label\":\"\"}})],1)],1)],1),_c('ec-panel',[_c('ec-panel-toolbar',[_c('ec-query-panel',{attrs:{\"colCount\":_vm.colCount,\"defaultFold\":true},on:{\"query\":_vm.onQuery,\"reset\":_vm.onReset},scopedSlots:_vm._u([{key:\"inner\",fn:function(){return [_c('ec-query-item',{attrs:{\"label\":\"烟叶类型\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},on:{\"select\":_vm.leafTypeChange},model:{value:(_vm.queryItems.leafTypeCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"leafTypeCode\", $$v)},expression:\"queryItems.leafTypeCode\"}},_vm._l((_vm.leafTypeList),function(leafTypeEk){return _c('a-select-option',{key:leafTypeEk.leafTypeCode,attrs:{\"value\":leafTypeEk.leafTypeCode}},[_vm._v(\" \"+_vm._s(leafTypeEk.leafTypeName)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"烟叶形态\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.leafFormCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"leafFormCode\", $$v)},expression:\"queryItems.leafFormCode\"}},_vm._l((_vm.leafFormList),function(item){return _c('a-select-option',{key:item.leafFormCode,attrs:{\"value\":item.leafFormCode}},[_vm._v(_vm._s(item.leafFormName))])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"物料\"}},[_c('ec-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.materialCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"materialCode\", $$v)},expression:\"queryItems.materialCode\"}},_vm._l((_vm.materialList),function(material){return _c('a-select-option',{key:material.enumKey},[_vm._v(\" \"+_vm._s(material.name)+\" \")])}),1)],1)]},proxy:true}])},[_c('ec-query-item',{attrs:{\"label\":\"调拨年度\"}},[_c('a-input-number',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.queryItems.tranYear),callback:function ($$v) {_vm.$set(_vm.queryItems, \"tranYear\", $$v)},expression:\"queryItems.tranYear\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"领用单位\"}},[_c('org-picker',{attrs:{\"placeholder\":\"请选择\"},on:{\"ok\":_vm.selectOrg},model:{value:(_vm.queryItems.applyOrgCodes),callback:function ($$v) {_vm.$set(_vm.queryItems, \"applyOrgCodes\", $$v)},expression:\"queryItems.applyOrgCodes\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"仓库\"}},[_c('a-select',{attrs:{\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.storeCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"storeCode\", $$v)},expression:\"queryItems.storeCode\"}},_vm._l((_vm.storesList),function(item){return _c('a-select-option',{key:item.storeCode,attrs:{\"value\":item.storeCode}},[_vm._v(_vm._s(item.storeName))])}),1)],1)],1),_c('ec-divider')],1),_c('ec-panel-body',{attrs:{\"height\":\"100%\"}},[_c('ec-v-layout',[_c('ec-v-item',[_c('ec-panel-item',[_c('ec-panel-item-left'),_c('ec-panel-item-right',[_c('a-space',{attrs:{\"size\":15}},[_c('span',[_vm._v(\"重量单位：\"),_c('ec-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.weightUnit),callback:function ($$v) {_vm.weightUnit=$$v},expression:\"weightUnit\"}},_vm._l((_vm.weightUnitList),function(weight){return _c('a-select-option',{key:weight.weightUnitCd,attrs:{\"value\":weight.weightUnitCd}},[_vm._v(\" \"+_vm._s(weight.weightUnitName)+\" \")])}),1)],1)])],1)],1)],1),_c('ec-v-item'),_c('ec-v-item',[_c('ec-table',{ref:\"table\",attrs:{\"border\":\"\",\"pagination\":!Object.keys(_vm.orgInfo).length ? {} : _vm.pagination,\"data\":_vm.tableData,\"loading\":_vm.loading,\"highlight-current-row\":\"\"},on:{\"page-action\":_vm.handlePagination}},[_c('ec-table-col',{attrs:{\"type\":\"checkbox\",\"width\":\"50\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"title\":\"序号\",\"type\":\"seq\",\"width\":\"70\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"tranYear\",\"title\":\"调拨年度\",\"align\":\"left\",\"width\":\"200\"}}),_c('ec-table-col',{attrs:{\"field\":\"applyOrgName\",\"title\":\"领用单位\",\"align\":\"left\",\"width\":\"200\"}}),_c('ec-table-col',{attrs:{\"field\":\"storeName\",\"title\":\"仓库\",\"align\":\"left\",\"width\":\"200\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeName\",\"title\":\"烟叶类型\",\"align\":\"left\",\"min-width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafFormName\",\"title\":\"烟叶形态\",\"align\":\"left\",\"min-width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"applyNum\",\"title\":\"申请码包数\",\"align\":\"left\",\"min-width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"applyNum\",\"title\":\"申请量\",\"align\":\"left\",\"min-width\":\"150\"}}),_c('ec-table-col',{attrs:{\"title\":\"操作\",\"fixed\":\"right\",\"scopedSlots\":\"\",\"align\":\"center\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.onDetails(row)}}},[_vm._v(\"详细\")])]}}])})],1)],1)],1)],1)],1)],1)],1),_c('ec-drawer',{attrs:{\"title\":\"详细\",\"is-confirm\":true,\"size\":\"small\",\"visible\":_vm.visible},on:{\"close\":function($event){_vm.visible = false}}},[_c('ec-container',{attrs:{\"height\":\"auto\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',[_c('ec-panel',{staticClass:\"prodDrawer\",attrs:{\"color-code\":\"001\",\"title\":\"分配明细\"}},[_c('ec-panel-item',[_c('ec-panel-item-right',[_c('a-space',{staticStyle:{\"margin-right\":\"15px\"},attrs:{\"size\":15}},[_vm._v(\"调拨年度: \"+_vm._s(_vm.queryItems.tranYear))]),_c('a-space',{attrs:{\"size\":15}},[_vm._v(\"重量单位: \"+_vm._s('担'))])],1)],1),_c('ec-panel-item',[_c('ec-table',{ref:\"table\",attrs:{\"border\":\"\",\"data\":_vm.detailsTableData,\"loading\":_vm.detailsLoading}},[_c('ec-table-col',{attrs:{\"title\":\"序号\",\"type\":\"seq\",\"width\":\"70\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"min-width\":\"150\",\"field\":\"leafTypeName\",\"title\":\"烟叶类型\",\"align\":\"left\"}}),_c('ec-table-col',{attrs:{\"min-width\":\"150\",\"field\":\"leafFormName\",\"title\":\"烟叶形态\",\"align\":\"left\"}}),_c('ec-table-col',{attrs:{\"min-width\":\"150\",\"field\":\"packType\",\"title\":\"包装类型\",\"align\":\"left\"}}),_c('ec-table-col',{attrs:{\"field\":\"spec\",\"title\":\"规格 (KG/件)\",\"align\":\"left\",\"min-width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"allotNum\",\"title\":\"分配码包数量\",\"align\":\"left\",\"min-width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"collectNum\",\"title\":\"领用码包数量\",\"align\":\"left\",\"min-width\":\"150\"}})],1)],1)],1)],1),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[_c('a-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"关闭\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-container height=\"100%\">\r\n    <ec-container-header>\r\n      <ec-panel-item>\r\n        <ec-panel-item-left>\r\n          <ec-header title=\"历史陈烟码包分配领用\" icon=\"onetomany\" color-code=\"008\" />\r\n        </ec-panel-item-left>\r\n      </ec-panel-item>\r\n    </ec-container-header>\r\n    <ec-container-body :auto=\"false\">\r\n      <ec-v-layout>\r\n        <ec-v-item>\r\n          <ec-panel>\r\n            <ec-panel-body>\r\n              <a-descriptions bordered :column=\"4\">\r\n                <a-descriptions-item label=\"调拨年度\">\r\n                  {{ queryItems.tranYear }}\r\n                </a-descriptions-item>\r\n                <a-descriptions-item label=\"烟叶类型\">\r\n                  {{\r\n                    getLabelName(\r\n                      queryItems.leafTypeCode,\r\n                      this.leafTypeList,\r\n                      'leafTypeCode',\r\n                      'leafTypeName',\r\n                    )\r\n                  }}</a-descriptions-item\r\n                >\r\n                <a-descriptions-item label=\"烟叶形态\">\r\n                  {{\r\n                    getLabelName(\r\n                      queryItems.leafFormCode,\r\n                      this.leafFormList,\r\n                      'leafFormCode',\r\n                      'leafFormName',\r\n                    )\r\n                  }}\r\n                </a-descriptions-item>\r\n                <a-descriptions-item label=\"申请码包数量\">\r\n                  {{ totalData.realApplyNum }}\r\n                </a-descriptions-item>\r\n\r\n                <a-descriptions-item label=\"申请量\">\r\n                  {{ totalData.applyNum }}\r\n                </a-descriptions-item>\r\n                <a-descriptions-item label=\"分配码包数量\"> </a-descriptions-item>\r\n                <a-descriptions-item label=\"领用码包数量\"> </a-descriptions-item>\r\n                <a-descriptions-item label=\"\"> </a-descriptions-item>\r\n              </a-descriptions>\r\n            </ec-panel-body>\r\n          </ec-panel>\r\n          <ec-panel>\r\n            <ec-panel-toolbar>\r\n              <ec-query-panel\r\n                :colCount=\"colCount\"\r\n                @query=\"onQuery\"\r\n                @reset=\"onReset\"\r\n                :defaultFold=\"true\"\r\n              >\r\n                <ec-query-item label=\"调拨年度\">\r\n                  <a-input-number\r\n                    placeholder=\"请输入\"\r\n                    v-model=\"queryItems.tranYear\"\r\n                  ></a-input-number>\r\n                </ec-query-item>\r\n                <ec-query-item label=\"领用单位\">\r\n                  <org-picker\r\n                    @ok=\"selectOrg\"\r\n                    v-model=\"queryItems.applyOrgCodes\"\r\n                    placeholder=\"请选择\"\r\n                  />\r\n                </ec-query-item>\r\n                <ec-query-item label=\"仓库\">\r\n                  <a-select allowClear v-model=\"queryItems.storeCode\" placeholder=\"请选择\">\r\n                    <a-select-option\r\n                      v-for=\"item in storesList\"\r\n                      :key=\"item.storeCode\"\r\n                      :value=\"item.storeCode\"\r\n                      >{{ item.storeName }}</a-select-option\r\n                    >\r\n                  </a-select>\r\n                  <!-- <org-picker v-model=\"orgCodeList\" placeholder=\"请选择\" /> -->\r\n                </ec-query-item>\r\n                <template #inner>\r\n                  <ec-query-item label=\"烟叶类型\">\r\n                    <ec-select\r\n                      @select=\"leafTypeChange\"\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"queryItems.leafTypeCode\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"leafTypeEk in leafTypeList\"\r\n                        :key=\"leafTypeEk.leafTypeCode\"\r\n                        :value=\"leafTypeEk.leafTypeCode\"\r\n                      >\r\n                        {{ leafTypeEk.leafTypeName }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </ec-query-item>\r\n                  <ec-query-item label=\"烟叶形态\">\r\n                    <ec-select\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"queryItems.leafFormCode\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"item in leafFormList\"\r\n                        :key=\"item.leafFormCode\"\r\n                        :value=\"item.leafFormCode\"\r\n                        >{{ item.leafFormName }}</a-select-option\r\n                      >\r\n                    </ec-select>\r\n                  </ec-query-item>\r\n                  <ec-query-item label=\"物料\">\r\n                    <ec-select placeholder=\"请选择\" v-model=\"queryItems.materialCode\">\r\n                      <a-select-option v-for=\"material in materialList\" :key=\"material.enumKey\">\r\n                        {{ material.name }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </ec-query-item>\r\n                </template>\r\n              </ec-query-panel>\r\n              <ec-divider />\r\n            </ec-panel-toolbar>\r\n\r\n            <ec-panel-body height=\"100%\">\r\n              <ec-v-layout>\r\n                <!-- 表格工具栏 -->\r\n                <ec-v-item>\r\n                  <ec-panel-item>\r\n                    <ec-panel-item-left>\r\n                      <!-- <a-button @click=\"onExport\">导出</a-button> -->\r\n                    </ec-panel-item-left>\r\n                    <ec-panel-item-right>\r\n                      <a-space :size=\"15\">\r\n                        <!-- </ec-query-item> -->\r\n\r\n                        <!-- <ec-query-item label=\"面积单位\"> -->\r\n                        <span\r\n                          >重量单位：<ec-select\r\n                            showSearch\r\n                            allowClear\r\n                            placeholder=\"请选择\"\r\n                            v-model=\"weightUnit\"\r\n                            style=\"width: 150px\"\r\n                          >\r\n                            <a-select-option\r\n                              v-for=\"weight in weightUnitList\"\r\n                              :key=\"weight.weightUnitCd\"\r\n                              :value=\"weight.weightUnitCd\"\r\n                            >\r\n                              {{ weight.weightUnitName }}\r\n                            </a-select-option>\r\n                          </ec-select></span\r\n                        >\r\n\r\n                        <!-- </ec-query-item> -->\r\n                      </a-space>\r\n                    </ec-panel-item-right>\r\n                  </ec-panel-item>\r\n                </ec-v-item>\r\n                <ec-v-item> </ec-v-item>\r\n                <!-- 列表 -->\r\n                <ec-v-item>\r\n                  <ec-table\r\n                    ref=\"table\"\r\n                    border\r\n                    @page-action=\"handlePagination\"\r\n                    :pagination=\"!Object.keys(orgInfo).length ? {} : pagination\"\r\n                    :data=\"tableData\"\r\n                    :loading=\"loading\"\r\n                    highlight-current-row\r\n                  >\r\n                    <ec-table-col type=\"checkbox\" width=\"50\" align=\"center\"></ec-table-col>\r\n                    <ec-table-col title=\"序号\" type=\"seq\" width=\"70\" align=\"center\" />\r\n                    <ec-table-col field=\"tranYear\" title=\"调拨年度\" align=\"left\" width=\"200\" />\r\n                    <ec-table-col field=\"applyOrgName\" title=\"领用单位\" align=\"left\" width=\"200\" />\r\n                    <!-- <ec-table-col field=\"applyDate\" title=\"申请日期\" align=\"left\" width=\"200\" /> -->\r\n                    <!-- <ec-table-col field=\"applyOrgName\" title=\"申请单位\" align=\"left\" width=\"200\" /> -->\r\n                    <ec-table-col field=\"storeName\" title=\"仓库\" align=\"left\" width=\"200\" />\r\n                    <ec-table-col\r\n                      field=\"leafTypeName\"\r\n                      title=\"烟叶类型\"\r\n                      align=\"left\"\r\n                      min-width=\"150\"\r\n                    />\r\n                    <ec-table-col\r\n                      field=\"leafFormName\"\r\n                      title=\"烟叶形态\"\r\n                      align=\"left\"\r\n                      min-width=\"150\"\r\n                    />\r\n                    <ec-table-col\r\n                      field=\"applyNum\"\r\n                      title=\"申请码包数\"\r\n                      align=\"left\"\r\n                      min-width=\"150\"\r\n                    />\r\n                    <ec-table-col field=\"applyNum\" title=\"申请量\" align=\"left\" min-width=\"150\" />\r\n                    <ec-table-col\r\n                      title=\"操作\"\r\n                      fixed=\"right\"\r\n                      scopedSlots\r\n                      align=\"center\"\r\n                      min-width=\"150\"\r\n                    >\r\n                      <template #default=\"{ row }\">\r\n                        <a-button type=\"link\" @click=\"onDetails(row)\">详细</a-button>\r\n                      </template>\r\n                    </ec-table-col>\r\n                  </ec-table>\r\n                </ec-v-item>\r\n              </ec-v-layout>\r\n            </ec-panel-body>\r\n          </ec-panel>\r\n        </ec-v-item>\r\n      </ec-v-layout>\r\n      <!-- <execution-manage-form @onQuery=\"onQuery\" ref=\"ExecutionManageForm\"></execution-manage-form>\r\n      <detail ref=\"Detail\"> </detail> -->\r\n      <ec-drawer\r\n        title=\"详细\"\r\n        :is-confirm=\"true\"\r\n        size=\"small\"\r\n        :visible=\"visible\"\r\n        @close=\"visible = false\"\r\n      >\r\n        <ec-container height=\"auto\" fixed=\"top bottom\" color-code=\"007\">\r\n          <ec-container-body>\r\n            <ec-panel class=\"prodDrawer\" color-code=\"001\" title=\"分配明细\">\r\n              <ec-panel-item>\r\n                <ec-panel-item-right>\r\n                  <a-space :size=\"15\" style=\"margin-right: 15px\"\r\n                    >调拨年度: {{ queryItems.tranYear }}</a-space\r\n                  >\r\n                  <a-space :size=\"15\">重量单位: {{ '担' }}</a-space>\r\n                </ec-panel-item-right>\r\n              </ec-panel-item>\r\n              <ec-panel-item>\r\n                <ec-table ref=\"table\" border :data=\"detailsTableData\" :loading=\"detailsLoading\">\r\n                  <ec-table-col title=\"序号\" type=\"seq\" width=\"70\" align=\"center\" />\r\n                  <ec-table-col\r\n                    min-width=\"150\"\r\n                    field=\"leafTypeName\"\r\n                    title=\"烟叶类型\"\r\n                    align=\"left\"\r\n                  />\r\n                  <ec-table-col\r\n                    min-width=\"150\"\r\n                    field=\"leafFormName\"\r\n                    title=\"烟叶形态\"\r\n                    align=\"left\"\r\n                  />\r\n                  <ec-table-col min-width=\"150\" field=\"packType\" title=\"包装类型\" align=\"left\" />\r\n                  <ec-table-col field=\"spec\" title=\"规格 (KG/件)\" align=\"left\" min-width=\"150\" />\r\n                  <ec-table-col\r\n                    field=\"allotNum\"\r\n                    title=\"分配码包数量\"\r\n                    align=\"left\"\r\n                    min-width=\"150\"\r\n                  />\r\n                  <ec-table-col\r\n                    field=\"collectNum\"\r\n                    title=\"领用码包数量\"\r\n                    align=\"left\"\r\n                    min-width=\"150\"\r\n                  />\r\n                </ec-table>\r\n              </ec-panel-item>\r\n            </ec-panel>\r\n          </ec-container-body>\r\n          <ec-container-footer fixed>\r\n            <a-space>\r\n              <a-button @click=\"visible = false\">关闭</a-button>\r\n            </a-space>\r\n          </ec-container-footer>\r\n        </ec-container>\r\n      </ec-drawer>\r\n    </ec-container-body>\r\n  </ec-container>\r\n</template>\r\n\r\n<script>\r\n// import ExecutionManageForm from './ExecutionManageForm.vue';\r\n// import Detail from './Detail.vue';\r\nimport { OrgPicker } from '@/components/TreePicker';\r\n\r\nexport default {\r\n  name: 'inventoryReceive',\r\n  components: {\r\n    // ExecutionManageForm,\r\n    // Detail,\r\n    OrgPicker,\r\n  },\r\n  computed: {\r\n    _api() {\r\n      return this.$apis.pcm.penatly.apply;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      applyOrgCode: '',\r\n      materialList: [],\r\n      topInfo: {},\r\n      orgInfo: {},\r\n      storesList: [],\r\n      objectData: {},\r\n      leafFormList: [],\r\n      busiYear: '',\r\n      detailsTableData: [],\r\n      detailsLoading: false,\r\n      queryItems: {\r\n        applyOrgCodes: [],\r\n        storeCode: '',\r\n        tranYear: undefined,\r\n        leafTypeCode: undefined,\r\n        busiYear: undefined,\r\n        leafFormCode: undefined,\r\n      },\r\n      weightUnit: 50,\r\n      areaUnit: 1,\r\n      colCount: 5,\r\n      nowYear: '',\r\n      loading: false,\r\n      leafTypeCd: '',\r\n      leafTypeList: [],\r\n      oldDataRow: [], // 拷贝的旧数据，单位切换的时候要在旧的数据上转换\r\n      oldTotalData: [], // 拷贝的旧上级数据，单位切换的时候要在旧的数据上转换\r\n      totalData: {}, // 合计的数据\r\n      isNullData: [],\r\n      workSubmitState: [\r\n        { id: '', name: '全部' },\r\n        { id: '0', name: '未提交' },\r\n        { id: '1', name: '已提交' },\r\n      ],\r\n      workAuditState: [\r\n        { id: '', name: '全部' },\r\n        { id: '0', name: '未审批' },\r\n        { id: '1', name: '处长审批' },\r\n        { id: '2', name: '副总经理审批' },\r\n        { id: '3', name: '完成' },\r\n      ],\r\n      workOptType: [\r\n        { id: '', name: '全部' },\r\n        { id: '0', name: '调减' },\r\n        { id: '1', name: '调增' },\r\n      ],\r\n      weightUnitList: [\r\n        // { weightUnitCd: 1, weightUnitName: '公斤', isSelected: false },\r\n        { weightUnitCd: 50, weightUnitName: '担', isSelected: false },\r\n      ],\r\n\r\n      orgCodeList: [],\r\n      pagination: {\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n      tableData: [],\r\n    };\r\n  },\r\n  async created() {\r\n    const { appCode } = this.$router.history.current.query;\r\n    this.appCode = appCode || 'CM'; // 获取当前登入信息\r\n    await this.getCurrentUserOrg();\r\n    await this.handleGetLeafTypeList();\r\n    await this.leafTypeChange(this.queryItems.leafTypeCode);\r\n    await this.onQuery();\r\n  },\r\n  methods: {\r\n    selectOrg(data) {\r\n      const { selectOption } = data;\r\n      console.log(this.queryItems.applyOrgCode);\r\n      this.getCmTStoreByOrgCode(this.queryItems.applyOrgCode);\r\n      this.queryItems.orgName = selectOption.length ? selectOption[0].title : '';\r\n    },\r\n    getLabelName(code, array = [], key, labelName) {\r\n      if (!code || !array.length) return '';\r\n      const obj = array.find((item) => item[key] === code);\r\n      return obj[labelName] || '';\r\n    },\r\n    onDetails(row) {\r\n      this.detailsLoading = true;\r\n      this.queryItems.applyOrgCode = this.queryItems.applyOrgCodes\r\n        ? this.queryItems.applyOrgCodes.join('')\r\n        : '';\r\n      const data = {\r\n        applyType: 'INVENTORY_CP',\r\n        barcodeApplyId: row.barcodeApplyId,\r\n        ...this.queryItems,\r\n      };\r\n      this._api\r\n        .queryDetail(data)\r\n        .then((res) => {\r\n          this.detailsTableData = res || [];\r\n        })\r\n        .finally(() => {\r\n          this.detailsLoading = false;\r\n        });\r\n      this.visible = true;\r\n    },\r\n\r\n    async handlePagination(pageNumber, pageSize) {\r\n      this.pagination.pageNumber = pageNumber;\r\n      this.pagination.pageSize = pageSize;\r\n      this.onQuery();\r\n    },\r\n    // 获取当期用户信息\r\n    getCurrentUserOrg() {\r\n      this._api.getCurrentUserOrg({ dataState: 1 }).then((data) => {\r\n        this.orgInfo = data || {};\r\n        this.queryItems.applyOrgCodes = data ? [data.orgUniqueCode] : undefined;\r\n        this.queryItems.applyOrgCode = this.queryItems.applyOrgCodes\r\n          ? this.queryItems.applyOrgCodes.join('')\r\n          : '';\r\n        this.getCmTStoreByOrgCode(this.queryItems.applyOrgCode);\r\n        // this.queryItems.orgName = data.orgName;\r\n      });\r\n    },\r\n\r\n    // 获取仓库\r\n    async getCmTStoreByOrgCode(orgCode = undefined) {\r\n      this._api\r\n        .getCmTStoreByOrgCode({ dataState: 1, orgCode })\r\n        .then((data) => {\r\n          this.storesList = data.rows || [];\r\n        })\r\n        .finally(() => {\r\n          this.storesList.unshift({\r\n            storeName: '全部',\r\n            storeCode: '',\r\n          });\r\n          this.queryItems.storeCode = '';\r\n        });\r\n    },\r\n    // 获取烟叶类型数据\r\n    async handleGetLeafTypeList() {\r\n      this.queryItems.tranYear = new Date().getFullYear();\r\n      if (!this.leafTypeList?.length) {\r\n        const res = await this.$apis.bpm.executionEnter.queryLeafType({});\r\n        this.leafTypeList = res?.rows || [];\r\n        this.leafTypeList.some((item) => {\r\n          if (item.leafTypeName === '烤烟') {\r\n            this.leafTypeCd = item.leafTypeCode;\r\n            this.queryItems.leafTypeCode = item.leafTypeCode;\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n      // this.onQuery();\r\n    },\r\n    async leafTypeChange(data) {\r\n      await this._api.spinnerLeafForm({ leafTypeCodes: [data] }).then((info) => {\r\n        this.leafFormList = info?.rows;\r\n        this.leafFormList.some((item) => {\r\n          if (item.leafFormName === '片烟') {\r\n            // this.leafTypeCd = item.leafTypeCode;\r\n            this.queryItems.leafFormCode = item.leafFormCode;\r\n            console.log(this.queryItems.leafFormCode);\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      });\r\n    },\r\n    // 数据初始化\r\n    async onQuery() {\r\n      this.loading = true;\r\n      this.queryItems.applyOrgCode = this.queryItems.applyOrgCodes\r\n        ? this.queryItems.applyOrgCodes.join('')\r\n        : '';\r\n      const data = {\r\n        applyType: 'INVENTORY_CP',\r\n        pageNo: this.pagination.pageNumber,\r\n        pageSize: this.pagination.pageSize,\r\n        ...this.queryItems,\r\n      };\r\n      console.log(data);\r\n      this._api\r\n        .pageConfCp(data)\r\n        .then((res) => {\r\n          const rows = res.rows || [];\r\n          this.pagination.total = res.totalRows;\r\n          this.oldDataRow = JSON.parse(JSON.stringify(rows));\r\n          this.tableData = rows;\r\n          console.log(`列表的数据：${JSON.stringify(this.tableData)}`);\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n          this.selectedRows = [];\r\n        });\r\n      this._api.queryHead(data).then((info) => {\r\n        this.topInfo = { ...info };\r\n      });\r\n    },\r\n\r\n    // 导出\r\n    onExport() {\r\n      // const data = this.handleData();\r\n      // data.type = 'add';\r\n      // this.$refs.ExecutionEnterAdjustForm.show(data);\r\n    },\r\n\r\n    // 重置\r\n    async onReset() {\r\n      let leafTypeCode;\r\n      this.leafTypeList.some((item) => {\r\n        if (item.leafTypeName === '烤烟') {\r\n          this.leafTypeCd = item.leafTypeCode;\r\n          leafTypeCode = item.leafTypeCode;\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n      this.queryItems = {\r\n        applyOrgCodes: this.orgInfo ? [this.orgInfo.orgUniqueCode] : undefined,\r\n        applyOrgCode: this.queryItems.applyOrgCodes ? this.queryItems.applyOrgCodes.join('') : '',\r\n        tranYear: new Date().getFullYear(),\r\n        leafTypeCode,\r\n        storeCode: '',\r\n        leafFormCode: undefined,\r\n      };\r\n      console.log(this.orgInfo);\r\n      this.queryItems.leafTypeCode = this.leafTypeList.length\r\n        ? this.leafTypeList[0].leafTypeCode\r\n        : '';\r\n      await this.leafTypeChange(this.queryItems.leafTypeCode);\r\n      this.queryItems.orgName = '';\r\n\r\n      this.$refs.table.pageAction(1);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.year {\r\n  font-size: 18px;\r\n  line-height: 22px;\r\n\r\n  color: #18191a;\r\n  font-weight: 700;\r\n  padding-top: 18px;\r\n  padding-right: 50px;\r\n  font-family: '微软雅黑 Bold', '微软雅黑', 'Microsoft YaHei', sans-serif;\r\n}\r\n.paddingTop {\r\n  padding-top: 15px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Receive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Receive.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Receive.vue?vue&type=template&id=661f175c&scoped=true&\"\nimport script from \"./Receive.vue?vue&type=script&lang=js&\"\nexport * from \"./Receive.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Receive.vue?vue&type=style&index=0&id=661f175c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"661f175c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}