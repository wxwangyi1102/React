{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/views/centre/confirm/Index.vue?78d7","webpack:///./src/views/centre/confirm/Details.vue?e225","webpack:///src/views/centre/confirm/Details.vue","webpack:///./src/views/centre/confirm/Details.vue?3d4e","webpack:///./src/views/centre/confirm/Details.vue","webpack:///src/views/centre/confirm/Index.vue","webpack:///./src/views/centre/confirm/Index.vue?c962","webpack:///./src/views/centre/confirm/Index.vue","webpack:///./src/views/centre/confirm/Details.vue?20c1","webpack:///./src/components/_utils.js","webpack:///./src/views/centre/confirm/Index.vue?3a23","webpack:///./src/utils/utils.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","busiYear","on","init","resetHandle","scopedSlots","_u","fn","model","queryItems","callback","$$v","$set","expression","getfetchData","$event","handlepickerValue","supplyOrgCode_temporary","demandOrgCode_temporary","statusValOptions","proxy","businessTypeOptions","_l","s","id","label","staticClass","unitstr","name","stopPropagation","handleAgree","handleBack","_e","ref","height","tableData","pagination","queryPagination","selectRowChange","onDetailsList","row","onGetStatuslabel","circleSate","handleOpendetails","cellStyle","FocusDealDetailData","footerMethod","findlabel","apprTypeCode","leafTypeCode","handlerWeightcalculate","supplyWeight","demandWeight","finalWeight","staticRenderFns","visible","cancel","state","billNo","useGetname","supplyOrgCode","supplyProvOrgCode","supplyCreateDate","supplyUploadTime","supplyProvAuditTime","supplyProvAuditState","demandOrgCode","demandProvOrgCode","demandCreateDate","demandUploadTime","demandProvAuditTime","demandProvAuditState","finalAuditTime","finalAuditState","class","istabletotabs","onGetapprTypeCode","data","modeltag","weightUnitName","methods","show","response","type","list","sumNum","field","count","columns","val","num","unit","textAlign","component","components","Details","SelectPicker","bizCode","orgType","orgCode","appCode","islock","code","records","children","unitstrOptions","brandId","statusVal","treeData","treeParams","orgTypeEk","orgLevelEk","paramMap","isCorporation","statusList","pageNumber","pageSize","searchType","total","rules","computed","_apply","_confirm","appConfig","created","$ec","params","query","then","finally","asFocusDealMasIds","confirmOK","Reject","asFocusDealMasId","res","e","index","querySelectRows","treeGetlist","fields","pkey","title","resolve","onGetuserinfo","A","listFormatTree","replace","option","Array","isArray","console","error","child","parentId","parent","parentTmp","String","cloneDeep","Reflect","deleteProperty","root","every","item","n","treeFormatList","clone","stack","node","shift","filterList","filterFn","uniqueArrayBy","arr","prop","isPlainObject","from","Set","map","Map","Error","set","size","values","getExpandedKeys","selected","paths","select","add","isLeaf","delete","reverse","getSelectedBy","by","getNodeBy","getNameBy","dicList","prototype","toString","document","addEventListener","removeEventListener","weightMatching","k","includes","DownloadA","url","filename","link","createElement","style","display","href","setAttribute","body","appendChild","click","removeChild"],"mappings":"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","file":"js/chunk-89a714b4.d59d0f34.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-container',{attrs:{\"height\":\"auto\"}},[_c('ec-container-header',[_c('ec-panel-toolbar',[_c('ec-panel-item-left',[_c('ec-header',{attrs:{\"title\":\"交易衔接量确认\",\"icon\":\"onetomany\",\"color-code\":\"003\"}})],1),_c('ec-panel-item-right',[_c('div',[_vm._v(\"集中交易年度：\"+_vm._s(_vm.busiYear)+\"年\")])])],1)],1),_c('ec-container-body',[_c('ec-panel',[_c('ec-panel-toolbar',[_c('ec-query-panel',{attrs:{\"defaultFold\":true},on:{\"query\":_vm.init,\"reset\":_vm.resetHandle},scopedSlots:_vm._u([{key:\"inner\",fn:function(){return [_c('ec-query-item',{attrs:{\"label\":\"单据编号\"}},[_c('a-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.queryItems.billNo),callback:function ($$v) {_vm.$set(_vm.queryItems, \"billNo\", $$v)},expression:\"queryItems.billNo\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"供方单位\"}},[_c('select-picker',{attrs:{\"title\":\"选择单位\",\"lazy\":false,\"search\":false,\"fetchData\":_vm.getfetchData},on:{\"ok\":function($event){return _vm.handlepickerValue($event, 'supplyOrgCode')}},model:{value:(_vm.supplyOrgCode_temporary),callback:function ($$v) {_vm.supplyOrgCode_temporary=$$v},expression:\"supplyOrgCode_temporary\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"需方单位\"}},[_c('select-picker',{attrs:{\"title\":\"选择单位\",\"lazy\":false,\"search\":false,\"fetchData\":_vm.getfetchData},on:{\"ok\":function($event){return _vm.handlepickerValue($event, 'demandOrgCode')}},model:{value:(_vm.demandOrgCode_temporary),callback:function ($$v) {_vm.demandOrgCode_temporary=$$v},expression:\"demandOrgCode_temporary\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"烟叶类型\"}},[_c('a-cascader',{attrs:{\"options\":_vm.statusValOptions,\"change-on-select\":\"\",\"placeholder\":\"\"},model:{value:(_vm.queryItems.leafTypeCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"leafTypeCode\", $$v)},expression:\"queryItems.leafTypeCode\"}})],1)]},proxy:true}])},[_c('ec-query-item',{attrs:{\"label\":\"业务类型\"}},[_c('a-cascader',{attrs:{\"options\":_vm.businessTypeOptions,\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.apprTypeCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"apprTypeCode\", $$v)},expression:\"queryItems.apprTypeCode\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"状态\"}},[_c('a-select',{attrs:{\"showSearch\":\"\",\"allow-clear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.circleSate),callback:function ($$v) {_vm.$set(_vm.queryItems, \"circleSate\", $$v)},expression:\"queryItems.circleSate\"}},_vm._l((_vm.statusList),function(s){return _c('a-select-option',{key:s.id},[_vm._v(\" \"+_vm._s(s.label)+\" \")])}),1)],1),_c('ec-query-item',{staticClass:\"org\",attrs:{\"label\":\"计量单位\"}},[_c('a-select',{attrs:{\"allow-clear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.unitstr),callback:function ($$v) {_vm.unitstr=$$v},expression:\"unitstr\"}},_vm._l((_vm.unitstrOptions),function(s){return _c('a-select-option',{key:s.id},[_vm._v(\" \"+_vm._s(s.name)+\" \")])}),1)],1)],1),_c('ec-divider')],1),_c('ec-panel-item',[(_vm.islock)?_c('ec-panel-item-left',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleAgree($event)}}},[_vm._v(\"同意\")]),_c('a-button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.handleBack($event)}}},[_vm._v(\"退回\")])],1):_vm._e()],1),_c('ec-panel-body',[_c('ec-v-layout',[_c('ec-v-item',[_c('ec-table',{ref:\"xTable1\",attrs:{\"show-overflow\":\"\",\"height\":!_vm.height ? 200 : 300,\"data\":_vm.tableData,\"header-align\":\"center\",\"align\":\"center\",\"pagination\":_vm.pagination},on:{\"page-action\":_vm.queryPagination,\"checkbox-all\":_vm.selectRowChange,\"checkbox-change\":_vm.selectRowChange,\"cell-click\":_vm.onDetailsList}},[_c('ec-table-col',{attrs:{\"type\":\"checkbox\",\"width\":\"60\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"type\":\"seq\",\"title\":\"序号\",\"width\":\"50\"}}),_c('ec-table-col',{attrs:{\"field\":\"billNo\",\"title\":\"单据编号\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"supplyOrgName\",\"title\":\"供方单位\"}}),_c('ec-table-col',{attrs:{\"field\":\"demandOrgName\",\"title\":\"需方单位\"}}),_c('ec-table-col',{attrs:{\"field\":\"circleSate\",\"title\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm.onGetStatuslabel(row.circleSate)))]}}])}),_c('ec-table-col',{attrs:{\"title\":\"操作\",\"width\":\"190\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleOpendetails(row, 'main')}}},[_vm._v(\"详细\")])]}}])})],1)],1),_c('ec-v-item',[_c('h2',{staticClass:\"details-bg\"},[_vm._v(\"计划量详细\")]),_c('ec-table',{ref:\"xTable2\",attrs:{\"show-overflow\":\"\",\"show-footer\":\"\",\"height\":\"216\",\"header-align\":\"center\",\"align\":\"center\",\"cell-style\":_vm.cellStyle,\"data\":_vm.FocusDealDetailData,\"footer-method\":_vm.footerMethod}},[_c('ec-table-col',{attrs:{\"type\":\"seq\",\"title\":\"序号\",\"width\":\"50\"}}),_c('ec-table-col',{attrs:{\"field\":\"apprTypeCode\",\"title\":\"业务类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.findlabel(row.apprTypeCode, _vm.businessTypeOptions)))]}}])}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeCode\",\"title\":\"烟叶类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.findlabel(row.leafTypeCode, _vm.statusValOptions)))]}}])}),_c('ec-table-col',{attrs:{\"field\":\"leafFormName\",\"title\":\"烟叶形态\"}}),_c('ec-table-col',{attrs:{\"field\":\"supplyWeight\",\"title\":\"供方提报量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm.handlerWeightcalculate(row.supplyWeight, _vm.unitstr)))]}}])}),_c('ec-table-col',{attrs:{\"field\":\"demandWeight\",\"title\":\"需方提报量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm.handlerWeightcalculate(row.demandWeight, _vm.unitstr)))]}}])}),_c('ec-table-col',{attrs:{\"field\":\"finalWeight\",\"title\":\"总公司审核量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm.handlerWeightcalculate(row.finalWeight, _vm.unitstr)))]}}])}),_c('ec-table-col',{attrs:{\"title\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.apprTypeCode === 'HT1104')?_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.handleOpendetails(row, 'basedetails')}}},[_vm._v(\"详细\")]):_vm._e()]}}])})],1)],1)],1)],1)],1),_c('Details',{ref:\"detailsRef\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":\"详细\",\"visible\":_vm.visible,\"size\":\"large\"},on:{\"close\":_vm.cancel}},[_c('ec-container',{attrs:{\"height\":\"auto\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',[(_vm.istabletotabs)?[_c('a-descriptions',{attrs:{\"bordered\":\"\",\"size\":\"small\",\"title\":\"主信息\",\"column\":2}},[_c('a-descriptions-item',{attrs:{\"label\":\"单据编号\"}},[_vm._v(\" \"+_vm._s(_vm.state.billNo)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"交易集中年度\"}},[_vm._v(\" \"+_vm._s(_vm.busiYear)+\" \")])],1),_c('a-descriptions',{attrs:{\"bordered\":\"\",\"size\":\"small\",\"title\":\"供方资料区\"}},[_c('a-descriptions-item',{attrs:{\"label\":\"供方市\"}},[_vm._v(\" \"+_vm._s(_vm.useGetname(_vm.state.supplyOrgCode))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"供方省\"}},[_vm._v(\" \"+_vm._s(_vm.useGetname(_vm.state.supplyProvOrgCode))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"录入日期\"}},[_vm._v(_vm._s(_vm.state.supplyCreateDate)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"上报日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.supplyUploadTime)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"确认日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.supplyProvAuditTime)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"确认状态\"}},[_vm._v(\" \"+_vm._s(_vm.state.supplyProvAuditState === '0' ? '未确认' : _vm.state.supplyProvAuditState === '1' ? '已确认' : '')+\" \")])],1),_c('a-descriptions',{attrs:{\"bordered\":\"\",\"size\":\"small\",\"title\":\"需方资料区\"}},[_c('a-descriptions-item',{attrs:{\"label\":\"需方市\"}},[_vm._v(\" \"+_vm._s(_vm.useGetname(_vm.state.demandOrgCode))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"需方省\"}},[_vm._v(\" \"+_vm._s(_vm.useGetname(_vm.state.demandProvOrgCode))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"录入日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.demandCreateDate)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"上报日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.demandUploadTime)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"确认日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.demandProvAuditTime)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"确认状态\"}},[_vm._v(\" \"+_vm._s(_vm.state.demandProvAuditState === '0' ? '未确认' : _vm.state.demandProvAuditState === '1' ? '已确认' : '')+\" \")])],1),_c('a-descriptions',{attrs:{\"bordered\":\"\",\"size\":\"small\",\"title\":\"总公司资料区\"}},[_c('a-descriptions-item',{attrs:{\"label\":\"总公司\"}},[_vm._v(\" 中国烟叶公司\")]),_c('a-descriptions-item',{attrs:{\"label\":\"审核日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.finalAuditTime)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"审核状态\"}},[_vm._v(\" \"+_vm._s(_vm.state.finalAuditState === '0' ? '未审核' : _vm.state.finalAuditState === '1' ? '已审核' : '')+\" \")])],1)]:_vm._e(),_c('ec-panel-toolbar',[_c('ec-panel-item-left',[_c('span',{class:{ 'vxetable-title': _vm.istabletotabs }},[_vm._v(\"明细信息\")])]),_c('ec-panel-item-right',[(_vm.istabletotabs)?_c('span',{staticClass:\"vxetable-title\"},[_vm._v(\"计量单位：\"+_vm._s(_vm.unitstr === '50' ? '担' : '万担'))]):_c('span',[_vm._v(\"集中交易年度：\"+_vm._s(_vm.busiYear)+\" 计量单位：\"+_vm._s(_vm.unitstr === '50' ? '担' : '万担'))])])],1),_c('vxe-table',{ref:\"xTable\",staticClass:\"editable-footer\",attrs:{\"border\":\"\",\"show-footer\":\"\",\"show-overflow\":\"\",\"highlight-hover-row\":\"\",\"height\":\"300\",\"header-align\":\"center\",\"align\":\"center\",\"cell-style\":_vm.cellStyle,\"footer-method\":_vm.footerMethod,\"data\":_vm.tableData}},[_c('vxe-column',{attrs:{\"width\":\"60\",\"type\":\"seq\",\"title\":\"序号\",\"align\":\"center\"}}),_c('vxe-column',{attrs:{\"title\":\"业务类型\",\"field\":\"apprTypeCode\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.onGetapprTypeCode(row.apprTypeCode)))]}}])}),_c('vxe-column',{attrs:{\"title\":\"基地单元名称\",\"field\":\"baseCellName\"}}),_c('vxe-column',{attrs:{\"title\":\"烟叶类型\",\"field\":\"leafTypeCode\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(row.leafTypeCode === '20' ? '晾晒烟' : row.leafTypeCode === '10' ? '烤烟' : '雪茄烟叶'))]}}])}),_c('vxe-column',{attrs:{\"title\":\"烟叶形态\",\"field\":\"leafFormName\"}}),_c('vxe-column',{attrs:{\"title\":\"供方提报量\",\"field\":\"supplyWeight\"}}),_c('vxe-column',{attrs:{\"title\":\"需方提报量\",\"field\":\"demandWeight\"}}),_c('vxe-column',{attrs:{\"title\":\"总公司审核量\",\"field\":\"finalWeight\"}})],1)],2),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"关闭\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer title=\"详细\" :visible=\"visible\" size=\"large\" @close=\"cancel\" class=\"ec-draw-form\">\r\n    <ec-container height=\"auto\" fixed=\"top bottom\" color-code=\"007\">\r\n      <ec-container-body>\r\n        <template v-if=\"istabletotabs\">\r\n          <a-descriptions bordered size=\"small\" title=\"主信息\" :column=\"2\">\r\n            <a-descriptions-item label=\"单据编号\"> {{ state.billNo }} </a-descriptions-item>\r\n            <a-descriptions-item label=\"交易集中年度\"> {{ busiYear }} </a-descriptions-item>\r\n          </a-descriptions>\r\n          <a-descriptions bordered size=\"small\" title=\"供方资料区\">\r\n            <a-descriptions-item label=\"供方市\">\r\n              {{ useGetname(state.supplyOrgCode) }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"供方省\">\r\n              {{ useGetname(state.supplyProvOrgCode) }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"录入日期\"\r\n              >{{ state.supplyCreateDate }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"上报日期\">\r\n              {{ state.supplyUploadTime }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"确认日期\">\r\n              {{ state.supplyProvAuditTime }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"确认状态\">\r\n              {{\r\n                state.supplyProvAuditState === '0'\r\n                  ? '未确认'\r\n                  : state.supplyProvAuditState === '1'\r\n                  ? '已确认'\r\n                  : ''\r\n              }}\r\n            </a-descriptions-item>\r\n          </a-descriptions>\r\n          <a-descriptions bordered size=\"small\" title=\"需方资料区\">\r\n            <a-descriptions-item label=\"需方市\">\r\n              {{ useGetname(state.demandOrgCode) }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"需方省\">\r\n              {{ useGetname(state.demandProvOrgCode) }}\r\n            </a-descriptions-item>\r\n\r\n            <a-descriptions-item label=\"录入日期\">\r\n              {{ state.demandCreateDate }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"上报日期\">\r\n              {{ state.demandUploadTime }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"确认日期\">\r\n              {{ state.demandProvAuditTime }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"确认状态\">\r\n              {{\r\n                state.demandProvAuditState === '0'\r\n                  ? '未确认'\r\n                  : state.demandProvAuditState === '1'\r\n                  ? '已确认'\r\n                  : ''\r\n              }}\r\n            </a-descriptions-item>\r\n          </a-descriptions>\r\n          <a-descriptions bordered size=\"small\" title=\"总公司资料区\">\r\n            <a-descriptions-item label=\"总公司\"> 中国烟叶公司</a-descriptions-item>\r\n            <a-descriptions-item label=\"审核日期\"> {{ state.finalAuditTime }} </a-descriptions-item>\r\n            <a-descriptions-item label=\"审核状态\">\r\n              {{\r\n                state.finalAuditState === '0'\r\n                  ? '未审核'\r\n                  : state.finalAuditState === '1'\r\n                  ? '已审核'\r\n                  : ''\r\n              }}\r\n            </a-descriptions-item>\r\n          </a-descriptions>\r\n        </template>\r\n        <ec-panel-toolbar>\r\n          <ec-panel-item-left>\r\n            <span :class=\"{ 'vxetable-title': istabletotabs }\">明细信息</span></ec-panel-item-left\r\n          >\r\n          <ec-panel-item-right\r\n            ><span v-if=\"istabletotabs\" class=\"vxetable-title\"\r\n              >计量单位：{{ unitstr === '50' ? '担' : '万担' }}</span\r\n            >\r\n            <span v-else\r\n              >集中交易年度：{{ busiYear }} 计量单位：{{ unitstr === '50' ? '担' : '万担' }}</span\r\n            >\r\n          </ec-panel-item-right>\r\n        </ec-panel-toolbar>\r\n        <vxe-table\r\n          border\r\n          show-footer\r\n          show-overflow\r\n          highlight-hover-row\r\n          ref=\"xTable\"\r\n          height=\"300\"\r\n          header-align=\"center\"\r\n          align=\"center\"\r\n          :cell-style=\"cellStyle\"\r\n          class=\"editable-footer\"\r\n          :footer-method=\"footerMethod\"\r\n          :data=\"tableData\"\r\n        >\r\n          <vxe-column width=\"60\" type=\"seq\" title=\"序号\" align=\"center\"></vxe-column>\r\n          <vxe-column title=\"业务类型\" field=\"apprTypeCode\">\r\n            <template #default=\"{ row }\"> {{ onGetapprTypeCode(row.apprTypeCode) }}</template>\r\n          </vxe-column>\r\n          <vxe-column title=\"基地单元名称\" field=\"baseCellName\"></vxe-column>\r\n          <vxe-column title=\"烟叶类型\" field=\"leafTypeCode\">\r\n            <template #default=\"{ row }\">{{\r\n              row.leafTypeCode === '20' ? '晾晒烟' : row.leafTypeCode === '10' ? '烤烟' : '雪茄烟叶'\r\n            }}</template>\r\n          </vxe-column>\r\n          <vxe-column title=\"烟叶形态\" field=\"leafFormName\"></vxe-column>\r\n          <vxe-column title=\"供方提报量\" field=\"supplyWeight\"></vxe-column>\r\n          <vxe-column title=\"需方提报量\" field=\"demandWeight\"></vxe-column>\r\n          <vxe-column title=\"总公司审核量\" field=\"finalWeight\"></vxe-column>\r\n        </vxe-table>\r\n      </ec-container-body>\r\n      <ec-container-footer fixed>\r\n        <a-button @click=\"cancel\">关闭</a-button>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n<script>\r\nimport { weightMatching } from '@/utils/utils';\r\n\r\nexport default {\r\n  name: 'confirmDetail',\r\n  data() {\r\n    return {\r\n      modeltag: null,\r\n      busiYear: null,\r\n      unitstr: null,\r\n      state: null,\r\n      istabletotabs: false,\r\n      weightUnitName: '50',\r\n      tableData: [],\r\n      visible: false,\r\n      businessTypeOptions: [\r\n        { label: '工商普通购销', value: 'HT1101' },\r\n        { label: '出口备货普通购销', value: 'HT1201' },\r\n        { label: '基地烟', value: 'HT1104' },\r\n        { label: '国内合计', value: 'HT11' },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    // 数据初始化\r\n    // 显示推窗\r\n    show(response, type) {\r\n      let list = [];\r\n      this.state = response;\r\n      this.istabletotabs = true;\r\n      this.modeltag = type;\r\n      this.busiYear = response.busiYear;\r\n      this.unitstr = response.unitstr;\r\n      list = response.pcTAsFocusDealDetlDTOList;\r\n      if (type === 'basedetails') {\r\n        this.istabletotabs = false;\r\n        list = response.rows;\r\n      }\r\n      this.tableData = weightMatching(\r\n        ['supplyWeight', 'demandWeight', 'finalWeight'],\r\n        list,\r\n        response.unitstr,\r\n        '/',\r\n      );\r\n      this.visible = true;\r\n    },\r\n    // 关闭\r\n    cancel() {\r\n      this.tableData = [];\r\n      this.visible = false;\r\n    },\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        count += Number(item[field]);\r\n      });\r\n      return count;\r\n    },\r\n    footerMethod({ columns, data }) {\r\n      return [\r\n        columns.map((column, columnIndex) => {\r\n          if (columnIndex === 2) {\r\n            return '合计';\r\n          }\r\n          if (['finalWeight', 'supplyWeight', 'demandWeight'].includes(column.property)) {\r\n            return this.sumNum(data, column.property);\r\n          }\r\n          return null;\r\n        }),\r\n      ];\r\n    },\r\n    onGetapprTypeCode(val) {\r\n      const list = [...this.businessTypeOptions];\r\n      return list.find((item) => item.value === val)?.label;\r\n    },\r\n    useGetname(key) {\r\n      const { treeData } = this.state;\r\n      return treeData.find((item) => item.key === key)?.title || '';\r\n    },\r\n    // 单位换算\r\n    handlerWeightcalculate(num, unit) {\r\n      return num / unit;\r\n    },\r\n    cellStyle({ $columnIndex }) {\r\n      if ($columnIndex === 7 || $columnIndex === 5 || $columnIndex === 6) {\r\n        return { textAlign: 'right' };\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n/deep/.ant-modal-header {\r\n  padding: 8px 24px;\r\n}\r\n/deep/.ant-modal-body {\r\n  padding: 0;\r\n}\r\n.ec-container .ec-container-body {\r\n  background-color: transparent;\r\n}\r\n.ant-descriptions:not(:last-child) {\r\n  margin-bottom: 15px;\r\n}\r\n/deep/.ant-descriptions-title {\r\n  margin-bottom: 20px;\r\n  color: rgba(24, 144, 255, 1);\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  line-height: 1;\r\n}\r\n.vxetable-title {\r\n  margin-bottom: 10px;\r\n  color: rgba(24, 144, 255, 1);\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n  line-height: 2.4;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Details.vue?vue&type=template&id=5e478f82&scoped=true&\"\nimport script from \"./Details.vue?vue&type=script&lang=js&\"\nexport * from \"./Details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Details.vue?vue&type=style&index=0&id=5e478f82&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e478f82\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <ec-container height=\"auto\">\r\n    <ec-container-header>\r\n      <ec-panel-toolbar>\r\n        <ec-panel-item-left>\r\n          <ec-header title=\"交易衔接量确认\" icon=\"onetomany\" color-code=\"003\" />\r\n        </ec-panel-item-left>\r\n        <ec-panel-item-right>\r\n          <div>集中交易年度：{{ busiYear }}年</div>\r\n        </ec-panel-item-right>\r\n      </ec-panel-toolbar>\r\n    </ec-container-header>\r\n    <ec-container-body>\r\n      <ec-panel>\r\n        <ec-panel-toolbar>\r\n          <ec-query-panel :defaultFold=\"true\" @query=\"init\" @reset=\"resetHandle\">\r\n            <ec-query-item label=\"业务类型\">\r\n              <a-cascader\r\n                v-model=\"queryItems.apprTypeCode\"\r\n                :options=\"businessTypeOptions\"\r\n                placeholder=\"请选择\"\r\n              />\r\n            </ec-query-item>\r\n            <ec-query-item label=\"状态\">\r\n              <a-select showSearch allow-clear placeholder=\"请选择\" v-model=\"queryItems.circleSate\">\r\n                <a-select-option v-for=\"s in statusList\" :key=\"s.id\">\r\n                  {{ s.label }}\r\n                </a-select-option>\r\n              </a-select>\r\n            </ec-query-item>\r\n            <ec-query-item label=\"计量单位\" class=\"org\">\r\n              <a-select allow-clear placeholder=\"请选择\" v-model=\"unitstr\">\r\n                <a-select-option v-for=\"s in unitstrOptions\" :key=\"s.id\">\r\n                  {{ s.name }}\r\n                </a-select-option>\r\n              </a-select>\r\n            </ec-query-item>\r\n            <template #inner>\r\n              <ec-query-item label=\"单据编号\">\r\n                <a-input v-model=\"queryItems.billNo\" placeholder=\"\" />\r\n              </ec-query-item>\r\n              <ec-query-item label=\"供方单位\">\r\n                <select-picker\r\n                  title=\"选择单位\"\r\n                  :lazy=\"false\"\r\n                  :search=\"false\"\r\n                  v-model=\"supplyOrgCode_temporary\"\r\n                  :fetchData=\"getfetchData\"\r\n                  @ok=\"handlepickerValue($event, 'supplyOrgCode')\"\r\n                />\r\n              </ec-query-item>\r\n              <ec-query-item label=\"需方单位\">\r\n                <select-picker\r\n                  title=\"选择单位\"\r\n                  :lazy=\"false\"\r\n                  :search=\"false\"\r\n                  v-model=\"demandOrgCode_temporary\"\r\n                  :fetchData=\"getfetchData\"\r\n                  @ok=\"handlepickerValue($event, 'demandOrgCode')\"\r\n                />\r\n              </ec-query-item>\r\n              <ec-query-item label=\"烟叶类型\">\r\n                <a-cascader\r\n                  :options=\"statusValOptions\"\r\n                  v-model=\"queryItems.leafTypeCode\"\r\n                  change-on-select\r\n                  placeholder=\"\"\r\n                />\r\n              </ec-query-item>\r\n            </template>\r\n          </ec-query-panel>\r\n          <ec-divider />\r\n        </ec-panel-toolbar>\r\n        <ec-panel-item>\r\n          <!-- 表格工具栏 -->\r\n          <ec-panel-item-left v-if=\"islock\">\r\n            <a-button type=\"primary\" @click.stop=\"handleAgree\">同意</a-button>\r\n            <a-button @click.stop=\"handleBack\">退回</a-button>\r\n          </ec-panel-item-left>\r\n        </ec-panel-item>\r\n        <ec-panel-body>\r\n          <ec-v-layout>\r\n            <!-- 主列表 -->\r\n            <ec-v-item>\r\n              <ec-table\r\n                ref=\"xTable1\"\r\n                show-overflow\r\n                :height=\"!height ? 200 : 300\"\r\n                :data=\"tableData\"\r\n                header-align=\"center\"\r\n                align=\"center\"\r\n                :pagination=\"pagination\"\r\n                @page-action=\"queryPagination\"\r\n                @checkbox-all=\"selectRowChange\"\r\n                @checkbox-change=\"selectRowChange\"\r\n                @cell-click=\"onDetailsList\"\r\n              >\r\n                <ec-table-col type=\"checkbox\" width=\"60\" align=\"center\"></ec-table-col>\r\n                <ec-table-col type=\"seq\" title=\"序号\" width=\"50\" />\r\n                <ec-table-col field=\"billNo\" title=\"单据编号\" width=\"150\" />\r\n                <ec-table-col field=\"supplyOrgName\" title=\"供方单位\" />\r\n                <ec-table-col field=\"demandOrgName\" title=\"需方单位\" />\r\n                <ec-table-col field=\"circleSate\" title=\"状态\">\r\n                  <template #default=\"{ row }\">{{ onGetStatuslabel(row.circleSate) }}</template>\r\n                </ec-table-col>\r\n                <ec-table-col title=\"操作\" width=\"190\">\r\n                  <template #default=\"{ row }\">\r\n                    <a-button type=\"link\" @click.stop=\"handleOpendetails(row, 'main')\"\r\n                      >详细</a-button\r\n                    >\r\n                  </template>\r\n                </ec-table-col>\r\n              </ec-table>\r\n            </ec-v-item>\r\n            <!-- //  详情列表 -->\r\n            <ec-v-item>\r\n              <h2 class=\"details-bg\">计划量详细</h2>\r\n              <ec-table\r\n                ref=\"xTable2\"\r\n                show-overflow\r\n                show-footer\r\n                height=\"216\"\r\n                header-align=\"center\"\r\n                align=\"center\"\r\n                :cell-style=\"cellStyle\"\r\n                :data=\"FocusDealDetailData\"\r\n                :footer-method=\"footerMethod\"\r\n              >\r\n                <ec-table-col type=\"seq\" title=\"序号\" width=\"50\" />\r\n                <ec-table-col field=\"apprTypeCode\" title=\"业务类型\"\r\n                  ><template #default=\"{ row }\">\r\n                    {{ findlabel(row.apprTypeCode, businessTypeOptions) }}</template\r\n                  >\r\n                </ec-table-col>\r\n                <ec-table-col field=\"leafTypeCode\" title=\"烟叶类型\">\r\n                  <template #default=\"{ row }\">\r\n                    {{ findlabel(row.leafTypeCode, statusValOptions) }}</template\r\n                  >\r\n                </ec-table-col>\r\n                <ec-table-col field=\"leafFormName\" title=\"烟叶形态\" />\r\n                <ec-table-col field=\"supplyWeight\" title=\"供方提报量\">\r\n                  <template #default=\"{ row }\">{{\r\n                    handlerWeightcalculate(row.supplyWeight, unitstr)\r\n                  }}</template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"demandWeight\" title=\"需方提报量\">\r\n                  <template #default=\"{ row }\">{{\r\n                    handlerWeightcalculate(row.demandWeight, unitstr)\r\n                  }}</template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"finalWeight\" title=\"总公司审核量\">\r\n                  <template #default=\"{ row }\">{{\r\n                    handlerWeightcalculate(row.finalWeight, unitstr)\r\n                  }}</template>\r\n                </ec-table-col>\r\n                <ec-table-col title=\"操作\"\r\n                  ><template #default=\"{ row }\">\r\n                    <a-button\r\n                      v-if=\"row.apprTypeCode === 'HT1104'\"\r\n                      type=\"link\"\r\n                      @click=\"handleOpendetails(row, 'basedetails')\"\r\n                      >详细</a-button\r\n                    >\r\n                  </template>\r\n                </ec-table-col>\r\n              </ec-table>\r\n            </ec-v-item>\r\n          </ec-v-layout>\r\n        </ec-panel-body>\r\n      </ec-panel>\r\n      <Details ref=\"detailsRef\" />\r\n    </ec-container-body>\r\n  </ec-container>\r\n</template>\r\n\r\n<script>\r\nimport Details from './Details.vue';\r\nimport { SelectPicker } from '@euler-material/ecm-ui';\r\nimport { treeFormatList, cloneDeep } from '@euler-material/ecm-utils';\r\n\r\nexport default {\r\n  name: 'AdminOrgManage',\r\n  components: {\r\n    Details,\r\n    SelectPicker,\r\n  },\r\n  data() {\r\n    return {\r\n      // 初始化数据\r\n      demandOrgCode_temporary: '',\r\n      supplyOrgCode_temporary: '',\r\n      demandOrgCode: '',\r\n      supplyOrgCode: '',\r\n      bizCode: '',\r\n      orgType: '', // I 代表需方,O代表供方\r\n      orgCode: '',\r\n      appCode: '',\r\n\r\n      unitstr: '50',\r\n      islock: true,\r\n      height: true,\r\n      name: '',\r\n      code: '',\r\n      // store\r\n      records: [],\r\n      // 烟叶options\r\n      statusValOptions: [\r\n        {\r\n          value: '10',\r\n          label: '烤烟',\r\n        },\r\n        {\r\n          value: '20',\r\n          label: '晾晒烟',\r\n          children: [\r\n            {\r\n              value: '2013',\r\n              label: '雪茄烟叶',\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      // 业务类型\r\n      businessTypeOptions: [\r\n        {\r\n          value: '0',\r\n          label: '业务类型',\r\n          children: [\r\n            {\r\n              value: '1',\r\n              label: '购销',\r\n              children: [\r\n                {\r\n                  value: '1-1',\r\n                  label: '工商购销',\r\n                  children: [\r\n                    { value: 'HT1101', label: '工商普通购销' },\r\n                    { value: 'HT1104', label: '基地烟' },\r\n                  ],\r\n                },\r\n                {\r\n                  value: '1-2',\r\n                  label: '出口备货购销',\r\n                  children: [{ value: 'HT1201', label: '出口备货普通购销' }],\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      unitstrOptions: [\r\n        { name: '担', id: '50' },\r\n        { name: '万担', id: '500000' },\r\n      ],\r\n\r\n      brandId: undefined,\r\n      statusVal: undefined,\r\n      treeData: null,\r\n      treeParams: {\r\n        bizCode: '11000001000000000000',\r\n        orgTypeEk: 'EXPORT,INDUSTRY,TOBACCO',\r\n        orgLevelEk: '3',\r\n        paramMap: {\r\n          isCorporation: '1',\r\n        },\r\n      },\r\n      statusList: [\r\n        { id: '1', name: '省公司待确认' },\r\n        { id: '3', name: '省公司已确认' },\r\n        { id: '4', name: '总公司待审核' },\r\n        { id: '6', name: '总公司已审核' },\r\n      ],\r\n      queryItems: {\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        leafTypeCode: ['10'],\r\n        searchType: 'provType',\r\n      },\r\n      pagination: {\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n      rules: {},\r\n      tableData: [],\r\n      FocusDealDetailData: [],\r\n    };\r\n  },\r\n  computed: {\r\n    _apply() {\r\n      return this.$apis.centre.apply;\r\n    },\r\n    _confirm() {\r\n      return this.$apis.centre.confirm;\r\n    },\r\n    appConfig() {\r\n      return this.$store.getters.getAppConfig;\r\n    },\r\n    busiYear() {\r\n      return this.$store.getters.getAppConfig?.yearValueMap?.CENTER_YEAR;\r\n    },\r\n  },\r\n  created() {\r\n    this.onGetuserinfo();\r\n  },\r\n  methods: {\r\n    // 数据初始化\r\n    init() {\r\n      $ec.showLoading();\r\n      this.records = [];\r\n      this.FocusDealDetailData = []; // 清空详细数据\r\n      // 构造请求参数\r\n      const params = { ...this.queryItems };\r\n      params.orgCode = this.orgCode;\r\n      params.busiYear = this.busiYear;\r\n      // 树级选择框 值为数组改为最后一个元素\r\n      if (params.apprTypeCode && params.apprTypeCode?.length !== 0)\r\n        params.apprTypeCode = params.apprTypeCode.reverse()[0];\r\n      if (params.leafTypeCode && params.leafTypeCode?.length !== 0)\r\n        params.leafTypeCode = params.leafTypeCode.reverse()[0];\r\n      this._apply\r\n        .query(params)\r\n        .then((res) => {\r\n          this.tableData = res.rows;\r\n          this.pagination.total = res.totalRows;\r\n        })\r\n        .finally(() => {\r\n          $ec.hideLoading();\r\n        });\r\n    },\r\n    // 重置\r\n    resetHandle() {\r\n      this.queryItems = {\r\n        searchType: 'provType',\r\n      };\r\n      this.init();\r\n    },\r\n    // 同意\r\n    handleAgree() {\r\n      if (this.records.length === 0) {\r\n        this.$message.error('请选中数据后再进行操作!');\r\n        return false;\r\n      }\r\n      $ec.showLoading();\r\n      const params = {\r\n        busiYear: this.busiYear,\r\n        asFocusDealMasIds: this.records.map((item) => item.asFocusDealMasId) || [],\r\n      };\r\n      this._confirm\r\n        .confirmOK(params)\r\n        .then((res) => {\r\n          if (res.ifCanAudit) {\r\n            this.$message.success(res.returnMess);\r\n          } else {\r\n            this.$message.error(res.returnMess);\r\n          }\r\n        })\r\n        .finally(() => {\r\n          $ec.hideLoading();\r\n        });\r\n    },\r\n    // 返回\r\n    handleBack() {\r\n      if (this.records.length === 0) {\r\n        this.$message.error('请选中数据后再进行操作!');\r\n        return false;\r\n      }\r\n      $ec.showLoading();\r\n      const params = {\r\n        busiYear: this.busiYear,\r\n        asFocusDealMasIds: this.records.map((item) => item.asFocusDealMasId) || [],\r\n      };\r\n      this._confirm\r\n        .Reject(params)\r\n        .then((res) => {\r\n          if (res) {\r\n            this.$message.success('操作成功');\r\n          } else {\r\n            this.$message.error('操作失败');\r\n          }\r\n        })\r\n        .finally(() => {\r\n          $ec.hideLoading();\r\n        });\r\n    },\r\n    // 双详情\r\n    handleOpendetails(row, type) {\r\n      // 主详情\r\n      if (type === 'main') {\r\n        const { demandOrgCode, supplyOrgCode } = row;\r\n        const params = {\r\n          demandOrgCode,\r\n          supplyOrgCode,\r\n          orgType: 'prov',\r\n          asFocusDealMasId: row.asFocusDealMasId,\r\n        };\r\n        this._confirm.getDetails(params).then((res) => {\r\n          const objparams = {\r\n            ...res,\r\n            treeData: this.treeData,\r\n            unitstr: this.unitstr,\r\n            busiYear: this.busiYear,\r\n          };\r\n          this.$refs.detailsRef.show(objparams, type);\r\n        });\r\n      } else {\r\n        // 明细表详情\r\n        const params = {\r\n          orgType: 'prov',\r\n          busiYear: this.busiYear,\r\n          demandOrgCode: this.demandOrgCode,\r\n          supplyOrgCode: this.supplyOrgCode,\r\n        };\r\n        this._confirm.onGetdetails(params).then((res) => {\r\n          const objparams = {\r\n            ...res,\r\n            treeData: this.treeData,\r\n            unitstr: this.unitstr,\r\n            busiYear: this.busiYear,\r\n          };\r\n          this.$refs.detailsRef.show(objparams, type);\r\n        });\r\n      }\r\n    },\r\n    // 分页\r\n    queryPagination(pageNumber, pageSize) {\r\n      this.queryItems.pageNumber = pageNumber;\r\n      this.queryItems.pageSize = pageSize;\r\n      this.init();\r\n    },\r\n    // 主列表 checkbox\r\n    selectRowChange({ records }) {\r\n      this.records = records;\r\n    },\r\n    // 组织单位change\r\n    handlepickerValue(e, index) {\r\n      const { val } = e.selectOption;\r\n      this.queryItems[index] = val;\r\n    },\r\n    // 选中行 获取详情list\r\n    onDetailsList({ row }) {\r\n      $ec.showLoading();\r\n      const params = {\r\n        demandOrgCode: row.demandOrgCode,\r\n        supplyOrgCode: row.supplyOrgCode,\r\n        asFocusDealMasId: row.asFocusDealMasId,\r\n        busiYear: this.busiYear,\r\n        orgType: 'prov', //\r\n      };\r\n      this._apply\r\n        .querySelectRows(params)\r\n        .then((res) => {\r\n          this.demandOrgCode = row.demandOrgCode;\r\n          this.supplyOrgCode = row.supplyOrgCode;\r\n          this.FocusDealDetailData = res.rows || [];\r\n        })\r\n        .finally(() => {\r\n          $ec.hideLoading();\r\n        });\r\n    },\r\n    // 获取组织树数据\r\n    async treeGetlist() {\r\n      const fields = {\r\n        pkey: 'parentOrgUniqueCode',\r\n        title: 'orgName',\r\n        key: 'orgUniqueCode',\r\n        children: 'children',\r\n      };\r\n      this.treeParams.bizCode = this.appConfig?.bizCode;\r\n      const response = await this._apply.getreeDate(this.treeParams);\r\n      this.treeData = treeFormatList(response?.rows, fields);\r\n    },\r\n    // 渲染组织树数据\r\n    getfetchData() {\r\n      return new Promise((resolve) => {\r\n        const list = cloneDeep(this.treeData);\r\n        resolve(list);\r\n      });\r\n    },\r\n    // 登陆数据初始化\r\n    async onGetuserinfo() {\r\n      // 供需方字段orgTypeEk\r\n      const { orgCode, orgTypeEk, bizCode } = await this.$apis.bpm.executionEnter.getOrgCode({});\r\n      this.orgCode = orgCode; // 登陆单位\r\n      this.bizCode = bizCode;\r\n      this.orgType = orgTypeEk === 'TOBACCO' ? 'O' : 'I';\r\n      this.treeParams.bizYear = this.busiYear;\r\n      await this.treeGetlist();\r\n      this.init();\r\n    },\r\n    // utils\r\n    // 字段匹配\r\n    onGetStatuslabel(id) {\r\n      const list = [...this.statusList];\r\n      return list.find((item) => item.id === id)?.name;\r\n    },\r\n    // 获取烟叶类型 业务类型\r\n    findlabel(key, list) {\r\n      let label;\r\n      fn(list, key);\r\n      function fn(A, k) {\r\n        A.forEach((item) => {\r\n          if (item.value === k) {\r\n            label = item.label;\r\n            return false;\r\n          } else if ('children' in item) {\r\n            fn(item.children, k);\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n      return label;\r\n    },\r\n    // 合计栏\r\n    footerMethod({ columns, data }) {\r\n      return [\r\n        columns.map((column, columnIndex) => {\r\n          if (columnIndex === 1) {\r\n            return '合计';\r\n          }\r\n          if (['demandWeight', 'supplyWeight', 'finalWeight'].includes(column.property)) {\r\n            return this.sumNum(data, column.property);\r\n          }\r\n          return null;\r\n        }),\r\n      ];\r\n    },\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        count += Number(item[field]);\r\n      });\r\n      return count;\r\n    },\r\n    // 单位换算\r\n    handlerWeightcalculate(num, unit) {\r\n      return num / unit;\r\n    },\r\n    cellStyle({ $columnIndex }) {\r\n      if ($columnIndex === 4 || $columnIndex === 5 || $columnIndex === 6) {\r\n        return { textAlign: 'right' };\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.btn-other {\r\n  border: 1px solid #0070d2;\r\n  color: #0070d2;\r\n}\r\n\r\n.table-bar-icon-btn {\r\n  width: 32px;\r\n\r\n  > i {\r\n    margin-left: -4px;\r\n  }\r\n}\r\n\r\n/deep/.ant-modal-body {\r\n  padding: 6px 24px;\r\n}\r\n/deep/.org.ec-query-item-inline .ec-query-item__control {\r\n  min-width: 76px;\r\n}\r\n.details-bg {\r\n  background-color: rgba(248, 248, 249, 1);\r\n  color: rgb(48, 48, 48);\r\n  font-weight: 600;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=375af78c&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=375af78c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"375af78c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=style&index=0&id=5e478f82&prod&lang=less&scoped=true&\"","import cloneDeep from 'lodash/cloneDeep';\r\nimport isPlainObject from 'lodash/isPlainObject';\r\n/**\r\n * 平铺树结构转换标注树结构\r\n * @param {Array} list 平铺类型数据\r\n * @param {Object | Null} replace 替换属性名称，key原来属性，value新属性\r\n * @param {Object} option 对应replace中的key字段，pkey和children必填\r\n * @returns treeData树结构\r\n */\r\nexport function listFormatTree(\r\n  list = [],\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title', children: 'children' },\r\n  option = { pkey: 'pkey', children: 'children' },\r\n) {\r\n  if (!Array.isArray(list)) {\r\n    return console.error('请传入一个list数组');\r\n  }\r\n  list.forEach((child) => {\r\n    const parentId = child[option.pkey];\r\n    if (parentId) {\r\n      list.forEach((parent) => {\r\n        const parentTmp = parent;\r\n        // 替换属性\r\n        if (replace) {\r\n          for (const key in replace) {\r\n            // 新旧属性不一致的替换\r\n            if (String(key) !== String(replace[key])) {\r\n              if (\r\n                Array.isArray(parentTmp[replace[key]]) ||\r\n                parentTmp[replace[key]] instanceof Object\r\n              ) {\r\n                parentTmp[key] = cloneDeep(parentTmp[replace[key]]);\r\n              } else {\r\n                parentTmp[key] = parentTmp[replace[key]];\r\n              }\r\n              Reflect.deleteProperty(parentTmp, replace[key]);\r\n            }\r\n          }\r\n        }\r\n        if (parentTmp && parentTmp.key === parentId) {\r\n          parentTmp[option.children] = parentTmp[option.children] || [];\r\n          parentTmp[option.children].push(child);\r\n        }\r\n      });\r\n    }\r\n  });\r\n  const root = list.every((item) => item[replace.pkey]);\r\n  if (root) {\r\n    return console.error('至少有一个根节点pid为null数组或传入一个空数组', list);\r\n  }\r\n  return list.filter((n) => !n[option.pkey]);\r\n}\r\n\r\n/**\r\n * 树转换为扁平树结构\r\n * @param {Array} treeData 树结构\r\n * @param {Object | Null} replace 替换属性名称，value要替换的属性名，null 不替换\r\n * @param {String} children 对应replace中children字段\r\n * @returns\r\n */\r\nexport function treeFormatList(\r\n  treeData = [],\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title' },\r\n  children = 'children',\r\n) {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  const list = [];\r\n  const clone = cloneDeep(treeData);\r\n  const stack = [...clone];\r\n  while (stack.length) {\r\n    const node = stack.shift();\r\n    const child = node[children];\r\n    if (child) {\r\n      stack.push(...child);\r\n    }\r\n    // 如果存在replace那就依次更换属性名称\r\n    if (replace) {\r\n      for (const key in replace) {\r\n        if (String(key) !== String(replace[key])) {\r\n          if (Array.isArray(node[replace[key]]) || node[replace[key]] instanceof Object) {\r\n            node[key] = cloneDeep(node[replace[key]]);\r\n          } else {\r\n            node[key] = node[replace[key]];\r\n          }\r\n          Reflect.deleteProperty(node, replace[key]);\r\n        }\r\n      }\r\n    }\r\n    // 删除空children属性\r\n    Reflect.deleteProperty(node, children);\r\n    list.push(node);\r\n  }\r\n  // 如果本身是list就返回本身\r\n  return list.length === 0 ? treeData : list;\r\n}\r\n\r\n/**\r\n * 过滤树，并保留原有的结构\r\n * @param {Array} treeData\r\n * @param {Function} filterFn 回调函数值判断来过滤，默认true不过滤\r\n * @param {String} children 子节点字段属性名称\r\n * @returns\r\n */\r\nexport function filterTree(treeData = [], filterFn = () => true, children = 'children') {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  function filter(treeDatas) {\r\n    if (!treeDatas?.length) {\r\n      return treeDatas;\r\n    }\r\n    return treeDatas.filter((data) => {\r\n      const item = data;\r\n      if (!filterFn(item)) {\r\n        return false;\r\n      }\r\n      item[children] = filter(item[children]);\r\n      return true;\r\n    });\r\n  }\r\n\r\n  return filter(treeData) || [];\r\n}\r\n\r\n/**\r\n * 树转为list并且过滤返回过滤的列表\r\n * @param {Array} treeData 树结构数据\r\n * @param {Function} filterFn 回调函数值判断来过滤，默认true不过滤\r\n * @param {Object | Null} replace 替换属性名称，value要替换的属性名，null 不替换\r\n * @returns 过滤后的数据\r\n */\r\nexport function filterList(\r\n  treeData,\r\n  filterFn = () => true,\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title' },\r\n) {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  const clone = cloneDeep(treeData);\r\n  const list = treeFormatList(clone, replace);\r\n  return list.filter((item) => {\r\n    if (!filterFn(item)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  });\r\n}\r\n\r\n/**\r\n * 数组去重\r\n * @param {Array} arr 存在重复数组对象\r\n * @param {String} prop 依据该属性判断唯一\r\n * @returns\r\n */\r\nexport function uniqueArrayBy(arr = [], prop = 'key') {\r\n  if (!Array.isArray(arr)) {\r\n    return console.error('请传入一个数组');\r\n  }\r\n  if (arr && arr.length !== 0 && isPlainObject(arr[0])) {\r\n    const map = new Map();\r\n    arr.forEach((item) => {\r\n      if (item[prop]) {\r\n        map.set(item[prop], item);\r\n      } else {\r\n        throw new Error('prop参数不匹配，在节点找不到对应的值');\r\n      }\r\n    });\r\n    if (map.size !== 0) {\r\n      return Array.from(map.values());\r\n    }\r\n  } else {\r\n    return Array.from(new Set(arr));\r\n  }\r\n}\r\n\r\n/**\r\n * 获取选中节点展开的keys\r\n * @param {Array} treeData 树data\r\n * @param {String} selected 选中的节点\r\n * @param {Object | Null} replace 替换属性名称，value要替换的属性名，null 不替换\r\n * @param {Object} option 默认配置\r\n * @returns {Array} 路径数组\r\n */\r\nexport function getExpandedKeys(\r\n  treeData,\r\n  selected,\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title' },\r\n  option = { pkey: 'pkey', key: 'key' },\r\n) {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  const paths = new Set();\r\n  const data = treeFormatList(treeData, replace);\r\n  function fn(list, select) {\r\n    list.forEach((node) => {\r\n      if (String(node[option.key]) === String(select)) {\r\n        paths.add(node[option.key]);\r\n        // 移除叶子节点\r\n        if (node.isLeaf) {\r\n          paths.delete(node[option.key]);\r\n        }\r\n        fn(list, node[option.pkey]);\r\n      }\r\n    });\r\n  }\r\n  fn(data, selected);\r\n  return Array.from(paths)\r\n    .reverse()\r\n    .filter((item) => item !== selected);\r\n}\r\n\r\n/**\r\n * 获取选中节点选择的keys\r\n * @param {Array} treeData 树data\r\n * @param {String} selected 选中的节点\r\n * @param {String} by 依据by字段取值，默认配置'key'\r\n * @param {Object | Null} replace 替换属性名称，value要替换的属性名，null 不替换\r\n * @param {Object} option 默认配置\r\n * @returns {Array} 路径数组\r\n */\r\nexport function getSelectedBy(\r\n  treeData,\r\n  selected,\r\n  by = 'key',\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title' },\r\n  option = { pkey: 'pkey', key: 'key' },\r\n) {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  const keys = new Set();\r\n  const data = treeFormatList(treeData, replace);\r\n  function fn(list, select) {\r\n    list.forEach((node) => {\r\n      if (String(node[option.key]) === String(select)) {\r\n        keys.add(node[by]);\r\n        fn(list, node[option.pkey]);\r\n      }\r\n    });\r\n  }\r\n  fn(data, selected);\r\n  return Array.from(keys).reverse();\r\n}\r\n\r\n/**\r\n * 根据选中的属性获取节点node\r\n * @param {Array} treeData 树data\r\n * @param {String} selected 选中的节点值\r\n * @param {String} by 属性名称\r\n * @param {Object | Null} replace 替换属性名称，key原来属性，value新属性\r\n * @returns {Object} 选中的节点对象\r\n */\r\nexport function getNodeBy(\r\n  treeData,\r\n  selected,\r\n  by = 'key',\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title' },\r\n) {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  const data = treeFormatList(treeData, replace);\r\n  const node = data.filter((n) => {\r\n    return String(n[by]) === String(selected);\r\n  });\r\n  return Array.isArray(node) && node.length === 1 ? node[0] : null;\r\n}\r\n\r\n/**\r\n * 根据选中的属性获取对应的name名称\r\n * @param {Array} dicList 字典列表\r\n * @param {String} value 节点值\r\n * @param {String} option 字典中key和label字典对应字段名称\r\n * @returns {String} 值对应的属性\r\n */\r\nexport function getNameBy(dicList, value, option = { key: 'key', label: 'title' }) {\r\n  if (!Array.isArray(dicList)) {\r\n    return console.error('请传入一个字典数组');\r\n  }\r\n  const node = dicList.filter((n) => {\r\n    return String(n[option.key]) === String(value);\r\n  });\r\n  // console.log(node)\r\n  if (node && node.length !== 0) {\r\n    return node[0][option.label];\r\n  }\r\n  return '';\r\n}\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=375af78c&prod&lang=less&scoped=true&\"","const { toString } = Object.prototype;\r\n// 公共组件沉淀方法库导入导出\r\nexport * from '@/components/_utils';\r\nexport const isArray = (value) => {\r\n  if (typeof Array.isArray === 'function') {\r\n    return Array.isArray(value);\r\n  } else {\r\n    return toString.call(value) === '[object Array]';\r\n  }\r\n};\r\nexport const isObject = (value) => {\r\n  return toString.call(value) === '[object Object]';\r\n};\r\n\r\nexport const isNull = (value) => {\r\n  return value === null;\r\n};\r\n\r\nexport const isUndefined = (value) => {\r\n  return value === undefined;\r\n};\r\n\r\nexport const isString = (value) => {\r\n  return typeof value === 'string';\r\n};\r\n\r\nexport const isEmpty = (value) => {\r\n  if (isArray(value)) {\r\n    return value.length === 0;\r\n  }\r\n\r\n  if (isObject(value)) {\r\n    return Object.keys(value).length === 0;\r\n  }\r\n\r\n  return value === '' || isUndefined(value) || isNull(value);\r\n};\r\n\r\nexport const last = (data) => {\r\n  if (isEmpty(data)) return;\r\n\r\n  if (isArray(data) || isString(data)) {\r\n    return data[data.length - 1];\r\n  }\r\n};\r\n\r\n/**\r\n * @param {HTMLElement} element\r\n * @param {string} event\r\n * @param {function} handler\r\n */\r\nexport const on = (() => {\r\n  if (document.addEventListener) {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.addEventListener(event, handler, false);\r\n      }\r\n    };\r\n  } else {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.attachEvent(`on${event}`, handler);\r\n      }\r\n    };\r\n  }\r\n})();\r\n/**\r\n * @param {HTMLElement} element\r\n * @param {string} event\r\n * @param {function} handler\r\n */\r\nexport const off = (() => {\r\n  if (document.removeEventListener) {\r\n    return function (element, event, handler) {\r\n      if (element && event) {\r\n        element.removeEventListener(event, handler, false);\r\n      }\r\n    };\r\n  } else {\r\n    return function (element, event, handler) {\r\n      if (element && event) {\r\n        element.detachEvent(`on${event}`, handler);\r\n      }\r\n    };\r\n  }\r\n})();\r\n\r\n/**\r\n * @param {HTMLElement} el\r\n * @param {string} event\r\n * @param {function} fn\r\n */\r\nexport const once = (el, event, fn) => {\r\n  const listener = function (...args) {\r\n    if (fn) {\r\n      fn.apply(this, args);\r\n    }\r\n    off(el, event, listener);\r\n  };\r\n  on(el, event, listener);\r\n};\r\n\r\n/**\r\n * @param {array} list\r\n * @param {*} predicate\r\n * @returns {array}\r\n */\r\nexport const uniqBy = (list, predicate) => {\r\n  if (isEmpty(list)) return [];\r\n\r\n  const cb = typeof predicate === 'function' ? predicate : (o) => o[predicate];\r\n  return [\r\n    ...list\r\n      .reduce((map, item) => {\r\n        const key = isEmpty(item) ? item : cb(item);\r\n        map.has(key) || map.set(key, item);\r\n        return map;\r\n      }, new Map())\r\n      .values(),\r\n  ];\r\n};\r\n\r\n/**\r\n * 防抖\r\n * @param {function} fn\r\n * @param {number} delay\r\n * @returns\r\n */\r\nexport const debounce = (fn, delay) => {\r\n  let timer = null;\r\n\r\n  return function (...args) {\r\n    const context = this;\r\n\r\n    if (timer) {\r\n      clearTimeout(timer);\r\n\r\n      timer = setTimeout(() => {\r\n        fn.apply(context, args);\r\n      }, delay);\r\n    } else {\r\n      timer = setTimeout(() => {\r\n        fn.apply(context, args);\r\n      }, delay);\r\n    }\r\n  };\r\n};\r\n/**\r\n * @description 由于现在看到基本上接口树状数据都是统一这种结构 `{main:object,children:object[]}` 在这里统一处理成`{[key:string]:any,children:object[]}[]`\r\n * @param {{main:object,children:object[]} | {main:object,children:object[]}[]} data\r\n * @param {{children: string;title: string;key: string;value: string;}} props\r\n * @param {number?} level\r\n * @returns {{[key:string]:any,children:object[]}[]}\r\n * @example tree组件渲染只需要修改replaceFields\r\n * js\r\n *  import { deepTree } from \"@/utils/utils\";\r\n *  this.treeData = deepTree(res.orgTreeDate)\r\n * html\r\n *  <a-tree\r\n *    :tree-data=\"treeData\"\r\n *    :replaceFields=\"{\r\n *      key: 'orgUniqueCd',\r\n *      title: 'orgName',\r\n *  }\"\r\n *  />\r\n */\r\nconst deepTreeProps = {\r\n  children: 'children',\r\n  title: 'title',\r\n  key: 'key',\r\n  value: 'value',\r\n};\r\nexport const deepTree = (data = [], props = {}, level = 1) => {\r\n  const nProps = {\r\n    ...deepTreeProps,\r\n    ...props,\r\n  };\r\n  if (isEmpty(data)) return [];\r\n  const list = (isObject(data) ? [data] : data) || [];\r\n  const len = list.length;\r\n  const result = [];\r\n  for (let i = 0; i < len; i++) {\r\n    const item = list[i];\r\n    const children = item[nProps.children] ?? [];\r\n    const isLeaf = !children.length;\r\n\r\n    const nItem = {\r\n      _level: level,\r\n      ...item.main,\r\n      isLeaf,\r\n    };\r\n\r\n    nItem.key = nItem[nProps.key];\r\n    nItem.title = nItem[nProps.title];\r\n    nItem.value = nItem[nProps.value];\r\n\r\n    if (!isLeaf) {\r\n      nItem.children = deepTree(children, nProps, level + 1);\r\n    }\r\n    result.push(nItem);\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const fileSaveAs = (file, name) => {\r\n  if (!file) return;\r\n  const url = window.URL.createObjectURL(file);\r\n  const link = document.createElement('a');\r\n  link.style.display = 'none';\r\n  link.href = url;\r\n  link.setAttribute('download', name);\r\n  document.body.appendChild(link);\r\n  link.click();\r\n};\r\nexport const weightMatching = (fields, data, unit, type) => {\r\n  // 重量匹配\r\n  return data?.map((item) => {\r\n    const obj = { ...item };\r\n    for (const k in item) {\r\n      if (fields.includes(k)) {\r\n        if (type === '/') {\r\n          obj[k] /= unit;\r\n        } else {\r\n          obj[k] *= unit;\r\n        }\r\n      }\r\n    }\r\n    return obj;\r\n  });\r\n};\r\n// 判断是否是字符串数字\r\nexport const isNumber = (str) => !isNaN(Number(str));\r\n\r\n/**\r\n * 下载文件\r\n * @param url\r\n * @param filename\r\n */\r\nexport const DownloadA = (url, filename) => {\r\n  if (!url) return;\r\n  const link = document.createElement('a'); //  创建a标签\r\n  link.style.display = 'none'; //  使其隐藏\r\n  link.href = url; // 赋予文件下载地址\r\n  link.setAttribute('download', filename); // 设置下载属性 以及文件名\r\n  document.body.appendChild(link); // a标签插至页面中\r\n  link.click(); //  强制触发a标签事件\r\n  document.body.removeChild(link);\r\n};\r\n"],"sourceRoot":""}