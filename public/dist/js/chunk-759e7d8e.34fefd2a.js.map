{"version":3,"sources":["webpack:///./node_modules/@euler-material/ecm-ui/lib/org-tree/index.js","webpack:///./node_modules/@euler-material/ecm-ui/lib/division-picker/index.js","webpack:///./src/views/apm/demand/submit/Index.vue?a44e","webpack:///./src/views/apm/demand/submit/Detail.vue?7d92","webpack:///src/views/apm/demand/submit/Detail.vue","webpack:///./src/views/apm/demand/submit/Detail.vue?97fc","webpack:///./src/views/apm/demand/submit/Detail.vue","webpack:///./src/views/apm/demand/submit/DemandSubmitEdit.vue?ea4d","webpack:///src/views/apm/demand/submit/DemandSubmitEdit.vue","webpack:///./src/views/apm/demand/submit/DemandSubmitEdit.vue?a67c","webpack:///./src/views/apm/demand/submit/DemandSubmitEdit.vue","webpack:///./src/views/apm/demand/submit/DemandSubmitAdd.vue?ba27","webpack:///src/views/apm/demand/submit/DemandSubmitAdd.vue","webpack:///./src/views/apm/demand/submit/DemandSubmitAdd.vue?8e09","webpack:///./src/views/apm/demand/submit/DemandSubmitAdd.vue","webpack:///src/views/apm/demand/submit/Index.vue","webpack:///./src/views/apm/demand/submit/Index.vue?8847","webpack:///./src/views/apm/demand/submit/Index.vue"],"names":["e","483","t","a","r","i","s","l","n","c","o","options","render","staticRenderFns","_compiled","functional","_scopeId","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","h","d","beforeCreate","concat","exports","Z","51","H_","Qb","componentPrefix","classPrefix","prototype","657","default","p","_self","_c","staticClass","_t","isSearch","style","padding","searchPadding","staticStyle","width","attrs","value","selectedValue","placeholder","on","search","onSelectSearch","select","onSelectChange","rightClick","oRightClick","_l","selectOption","key","title","span","isShowParent","_v","_s","color","getNameBy","tmpSearchOption","pkey","_e","margin","spinning","fetching","lazy","_b","ref","blockNode","multiple","checkedKeys","treeCheckedKeys","checkable","selectable","expandedKeys","treeExpandedKeys","selectedKeys","treeSelectedKeys","loadedKeys","treeLoadedKeys","treeData","loadData","handleLoadLazyData","onSelectTree","check","onCheckTree","expand","onExpandTree","load","onLazyLoad","scopedSlots","_u","fn","id","treeType","action","$attrs","replaceFields","Array","isArray","length","inheritAttrs","name","components","Select","Row","Col","Divider","Spin","Empty","Tree","props","type","String","Boolean","join","Object","children","activeFirst","beforeSelect","Function","beforeCheck","initLevel","Number","fetchData","required","fetchDataById","fetchDataByName","valueField","params","data","debounce","computed","watch","handler","isRefEqual","handleTreeData","deep","immediate","methods","then","cloneDeep","filter","listFormatTree","map","includes","$emit","onSelectTreeFn","handleTreeByCode","setTimeout","onScrollIntoView","finally","push","code","Promise","all","treeFormatList","flattenDeep","uniqueBy","handleLoadMore","forEach","getExpandedKeys","from","Set","dataRef","test","handlerSearch","catch","indexOf","filterList","handleReturnValue","assign","getNodeBy","event","selected","node","$nextTick","document","querySelector","scrollIntoView","behavior","block","getElementById","getSelectedBy","joinSelectOption","checkOption","y","install","component","632","require","142","defineProperty","enumerable","get","hasOwnProperty","_g","fetchGetTree","fetchGetTreeById","fetchGetTreeByName","onSelectTreeData","$listeners","slot","SelectTree","baseUrl","treeApi","treeApiById","treeApiByName","allowClear","limitLevel","validator","otherParams","Reflect","deleteProperty","$ec","http","send","orgLevelNum","bizCode","rows","orgName","onRefreshTree","$refs","org","module","338","u","compact","mode","disabled","maxTagCount","change","onChange","size","icon","click","onOpenModal","wrapClassName","visible","widthed","height","bodyStyle","parseInt","top","centered","keyboard","cancel","onCancel","ok","onOk","treeSelectOption","closable","close","onRemoveOption","Modal","Tag","Input","Button","model","prop","beforeOk","match","handleListByCode","handleTreeByName","$ref","$set","$message","info","SelectPicker","divisionLevelNum","divisionUniqueCode","divisionName","_vm","_h","$createElement","$event","table","pageAction","onReset","queryItems","callback","$$v","expression","item","batchName","onFetchBusinessOrgList","onAdd","onDel","onUpload","businessYear","weightUnitName","pagination","tableData","loading","footerMethod","handlePagination","selectAllEvent","selectRowChange","weight1Title","weight2Title","weight3Title","weight4Title","row","auditState","onEdit","onDetail","onQuery","formData","rules","supplyOrgName","busiYear","formatDate","createTime","validRules","filterOption","handleGetLeafLevel","leafTypeCode","leafTypeName","handleLeafLevelCode","leafLevelCode","leafLevelName","handleNoValue","OrgPicker","OrgTree","DivisionPicker","moment","isDisableYear","isEdit","rowData","checked","ruleForm","yearDemandList","leafTypeList","totalLeafLevelList","orgCodeList","weightUnit","tableConfig","needYearListFormat","needGatherYear","weightColunm","oldTableData","mergeTableData","currentLeafLevelList","message","trigger","createDate","input","option","field","rowObj","show","needGatherYearArr","selectedRows","supplyOrgCode","weightTitleObj","console","handleMergeDetData","detlList","mergeLevelArr","detlObj","detl","leafTypeArr","leafLevelArr","obj","leafLevelList","detDataList","totalWeight","handleUnitParse","newTableData","handleOlDataRow","handleGetLeafTypeList","res","pageNo","pageSize","addRow","record","weight1","weight2","weight3","weight4","dataState","index","columns","sumNum","list","count","handleBeforeSaveData","tabelData","saveData","weight","needYear","pcTNeedCollectDetlDTOS","onSave","$table","errMap","valid","Date","showStatus","handleLeafLevelList","saving","businessOrgList","handleQueryBusinessOrgList","orgTypeEk","orgLevelEk","parentBizCode","resolve","save","handleSupplyData","handleGetLeafLevelList","needCollectBatchId","checkDate","Detail","DemandSubmitEdit","DemandSubmitAdd","orgCode","yearDisable","defaultBatchName","defaultNeedGatherYear","batchList","mergeDataList","pageNumber","total","auditStateList","created","appConfig","cellStyle","handleGetYear","orgObj","appCode","yearTypeCode","businessYearObj","batchParam","respone","handleNeedYearColumn","that","query","handleToViewData","queryLevel","weightUnitObj","content","idList","upload","needCollectMasIds","delete","JSON"],"mappings":"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WA9F,GAAA,kDACA,+BACAgG,2BAEA/E,0EACA,mBACAJ,EAAAb,aACAa,uBACA,+BACA,OACA,+DArBA,+CA6BA7C,QA7GA,WA6GA,0JACAhL,EAAA,CACAkP,+BACAC,+BACA/D,mCACA2C,yCACArE,iCACAmB,oCAGAoD,wDACA,aACA,yBACAgF,MAAAjT,GACAU,MAAA,YACA,aACA,+CACA,+BACA,uBACA,iBAIA,8BACA,wBAEA2B,OAAA,YACA,aACA4L,kBA5BA,8CAiCAC,mBA9IA,SA8IAzI,GAAA,WAqBA,OApBAwI,4DACAxI,uBACA,QACA,6DACA,uBACA,eACAoI,uBACA,QACA,2BACA,OACA,IACAc,uBACA,4BACAC,2BAIAtC,wBAGA,GAGAuC,gBAtKA,SAsKApJ,GAAA,WACA,KACA,IAEAsJ,uBACA,QACAN,+DACAA,+DACAA,+DACAA,+DACAK,aAEA,uBAGAlF,MArLA,WAqLA,WACA,4CACA,qBACA,iEACA,mDACA,oCACA5J,4CACAA,kCACAA,uBACAA,uCACAA,uBACAiO,eACA,wCAEA,kCAKAlD,SAxMA,SAwMAH,GACA,wCACA5K,qCACAA,sCACA,2BAGA8K,OA/MA,SA+MAF,GAAA,WACA,iBACA,iEACA,mDACA,oCACA5K,qCACAA,sCACAA,uBACAA,uCACAA,uBAEA,qCAIAkT,iBA9NA,SA8NAtI,EAAA9L,GAAA,WACA,OACA,GACA+N,2BACA7C,oCAEA,mBACAgJ,mBAEA,yBACA,mCACA,kBACA,IAHA,eAGArD,GACA,WACA,yBACAwD,WAAA,CACAjE,SACAC,aACAzD,8BAEAhL,MAAA,YACA,oCAEAA,MAAA,WACA,iBACAsS,uBAbA,wBAiBAlF,yCApBA,GAwBA,OACAtD,+BACAC,+BACAC,+BACAC,gCAEA,0BAEA,GACAyI,gBACArJ,0CACA+D,eACAE,iBACAjB,qBAEAjO,QAEA,UAGAgL,SAnRA,WAmRA,iCACA,mDACA,sCADA,CAIA,sEACAmE,4CACA,EACA,uCAGA,eACA/S,iBACAmY,mBAAA,sBACA,cADA,0CAKA9L,gBACA,aAEA,IADA,SACA,gCACA+L,2CAEA,yBACAC,OAAA,CAAAC,sBACA9S,MAAA,YACAuN,+BACA,UACA,aACA,4BACA,6BAEA,aACA,6BAGA5L,OAAA,YACA,aACA,EACA,oCAEA,iCAQAwH,MArUA,WAqUA,iCACA,mDACA,sCADA,CAIA,8BACA,gFAEAoE,4CACA,EACA,0CAGA,eACA/S,iBACAmY,mBAAA,sBACA,cADA,0CAKA9L,gBACA,aAEA,IADA,SACA,gCACA+L,2CAEA,yBACAG,OAAA,CAAAD,sBACA9S,MAAA,YACAuN,+BACA,UACA,aACA,4BACA,6BAEA,aACA,6BAGA5L,OAAA,YACA,aACA,EACA,oCAEA,iCAQA+G,QAzXA,WA0XA,8BACA,gDACA,qCACA,gCAIAyG,OAjYA,SAiYAC,EAAApC,GACA,QAIA,OAHAoC,uBACAC,sBAEA,cAGA3F,aAzYA,YAyYA,uBAAI,EAAJ,OACA,OACAwF,qBACA,aACA,KAEA,+DACA,uBAEA,UAMAtF,eAxZA,YAwZA,gBAAI,EAAJ,UACA2D,gFACA,qBAIA1D,gBA9ZA,YA8ZA,gBAAI,EAAJ,UACA0D,sBACA1B,EADA,uCACAmH,oBAEA,uBChpB+Z,ICO3Z,EAAY,eACd,EACAjc,EACAC,GACA,EACA,KACA,KACA,MAIa,e","file":"js/chunk-759e7d8e.34fefd2a.js","sourcesContent":["(function(){\"use strict\";var e={483:function(e,t,a){function r(e,t,a,r,i,s,l,n){var c,o=\"function\"===typeof e?e.options:e;if(t&&(o.render=t,o.staticRenderFns=a,o._compiled=!0),r&&(o.functional=!0),s&&(o._scopeId=\"data-v-\"+s),l?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||\"undefined\"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},o._ssrRegister=c):i&&(c=n?function(){i.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(o.functional){o._injectStyles=c;var h=o.render;o.render=function(e,t){return c.call(t),h(e,t)}}else{var d=o.beforeCreate;o.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:o}}a.d(t,{Z:function(){return r}})},51:function(e,t,a){a.d(t,{H_:function(){return s},Qb:function(){return l}});const r=\"Ecm\",i=\"$ecm\",s=e=>e?.componentPrefix??r,l=(e,t)=>{const a=e;t&&t.classPrefix&&(a.prototype[i]={...a.prototype[i]??{},classPrefix:t.classPrefix})}},657:function(e,t,a){a.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tree-search\"},[e._t(\"title\"),e.isSearch?t(\"div\",{staticClass:\"tree-search-select\",style:{padding:e.searchPadding}},[t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{\"show-search\":\"\",value:e.selectedValue,placeholder:e.placeholder,\"default-active-first-option\":!1,\"show-arrow\":!1,\"filter-option\":!1,\"not-found-content\":null},on:{search:e.onSelectSearch,select:e.onSelectChange,rightClick:e.oRightClick}},e._l(e.selectOption,(function(a){return t(\"a-select-option\",{key:a.key,attrs:{value:a.key,title:`${a.title}`}},[t(\"a-row\",[t(\"a-col\",{staticClass:\"ellipsis\",attrs:{span:e.isShowParent?18:24,title:a.title}},[e._v(e._s(a.title))]),t(\"a-col\",{staticClass:\"ellipsis\",staticStyle:{color:\"#ccc\",\"font-size\":\"12px\"},attrs:{span:e.isShowParent?6:0,title:e.getNameBy(e.tmpSearchOption,a.pkey)}},[e._v(e._s(e.getNameBy(e.tmpSearchOption,a.pkey)))])],1)],1)})),1)],1):e._e(),e.isSearch?t(\"a-divider\",{staticStyle:{margin:\"8px 0\"}}):e._e(),t(\"div\",{staticClass:\"tree-search-tree\"},[t(\"a-spin\",{staticClass:\"spin\",attrs:{spinning:e.fetching}}),e.lazy?t(\"a-tree\",e._b({ref:\"treeRef\",attrs:{blockNode:!0,multiple:e.multiple,checkedKeys:e.treeCheckedKeys,checkable:e.checkable,selectable:e.selectable,expandedKeys:e.treeExpandedKeys,selectedKeys:e.treeSelectedKeys,loadedKeys:e.treeLoadedKeys,\"tree-data\":e.treeData,loadData:e.handleLoadLazyData},on:{select:e.onSelectTree,check:e.onCheckTree,expand:e.onExpandTree,load:e.onLazyLoad,rightClick:e.oRightClick},scopedSlots:e._u([{key:\"title\",fn:function(a){return[t(\"span\",{attrs:{id:`${e.treeType}_${a.key}`}},[e._v(e._s(a.title))]),e._t(\"action\",null,{action:a})]}}],null,!0)},\"a-tree\",e.$attrs,!1)):t(\"a-tree\",e._b({ref:\"treeRef\",attrs:{blockNode:!0,checkable:e.checkable,selectable:e.selectable,multiple:e.multiple,checkedKeys:e.treeCheckedKeys,expandedKeys:e.treeExpandedKeys,selectedKeys:e.treeSelectedKeys,\"tree-data\":e.treeData,replaceFields:e.replaceFields},on:{select:e.onSelectTree,check:e.onCheckTree,expand:e.onExpandTree},scopedSlots:e._u([{key:\"title\",fn:function(a){return[t(\"span\",{attrs:{id:`${e.treeType}_${a.key}`}},[e._v(e._s(a.title))]),e._t(\"action\",null,{action:a})]}}],null,!0)},\"a-tree\",e.$attrs,!1)),e.fetching||e.treeData&&(!Array.isArray(e.treeData)||0!==e.treeData.length)?e._e():t(\"a-empty\",{staticClass:\"spin\"})],1)],2)},i=[],s=a(632),l=a(142),n={inheritAttrs:!1,name:\"SelectTree\",components:{[l.Select.name]:l.Select,[l.Row.name]:l.Row,[l.Col.name]:l.Col,[l.Divider.name]:l.Divider,[l.Spin.name]:l.Spin,[l.Empty.name]:l.Empty,[l.Tree.name]:l.Tree},props:{treeType:{type:String,default:\"st\"},selectedKeys:{type:Array,default:null},checkedKeys:{type:Array,default:null},expandedKeys:{type:Array,default:null},lazy:{type:Boolean,default:!0},selectable:{type:Boolean,default:!0},checkable:{type:Boolean,default:!1},searchPadding:{type:String,default:\"12px 12px 6px\"},placeholder:{type:String,default:\"\"},multiple:{type:Boolean,default:!1},join:{type:[String,Boolean],default:\",\"},isShowParent:{type:Boolean,default:!1},replaceFields:{type:Object,default:()=>({pkey:\"pkey\",title:\"title\",key:\"key\",children:\"children\"})},search:{type:Boolean,default:!0},activeFirst:{type:Boolean,default:!1},beforeSelect:{type:Function,default:null},beforeCheck:{type:Function,default:null},initLevel:{type:Number,default:2},fetchData:{type:Function,required:!0},fetchDataById:{type:Function},fetchDataByName:{type:Function},valueField:{type:String,default:\"key\"},params:{type:Object,default:()=>({})}},data(){return this.onSelectSearch=(0,s.debounce)(this.onSelectSearch,500),{fetching:!1,selectedValue:void 0,treeCheckedKeys:[],treeSelectedKeys:[],treeExpandedKeys:[],treeLoadedKeys:[],treeData:[],selectOption:[],tmpSearchOption:[]}},computed:{isSearch(){return this.search&&(this.treeData||Array.isArray(this.treeData)&&0!==this.treeData.length)}},watch:{params:{handler(e,t){(0,s.isRefEqual)(e,t)||this.handleTreeData(e)},deep:!0,immediate:!0},checkedKeys:{handler(e){this.treeCheckedKeys=e},deep:!0,immediate:!0},selectedKeys:{handler(e){this.treeSelectedKeys=e},deep:!0,immediate:!0},expandedKeys:{handler(e){this.treeExpandedKeys=e},deep:!0,immediate:!0}},methods:{getNameBy:s.getNameBy,handleTreeData(e){this.fetching=!0,this.treeLoadedKeys=[],this.treeExpandedKeys=[],this.treeData=[];try{this.fetchData(e).then((async e=>{const t=(0,s.cloneDeep)(e).filter((e=>!e.pkey))[0];this.treeData=(0,s.listFormatTree)(e,this.replaceFields);const a=e.map((e=>e.key)).filter((e=>e)),r=(this.selectedKeys||[]).filter((e=>!a.includes(e)));Array.isArray(this.treeData)&&0!==this.treeData.length&&(this.treeExpandedKeys=[t.key],this.$emit(\"expand\",this.treeExpandedKeys),this.activeFirst&&this.onSelectTreeFn(t.key)),0!==r.length&&await this.handleTreeByCode(r),Array.isArray(this.treeSelectedKeys)&&0!==this.treeSelectedKeys.length&&setTimeout((()=>{this.onScrollIntoView(this.treeSelectedKeys[0])}),500)})).finally((()=>{this.fetching=!1}))}catch{this.treeData=[]}},async handleTreeByCode(e){const t=Array.isArray(e)?e:[e];this.fetching=!0;try{if(this.lazy){const e=[];for(const s of t)s&&e.push(this.fetchDataById({...this.params,code:s}));const a=await Promise.all(e),r=(0,s.treeFormatList)(this.treeData,this.replaceFields),i=(0,s.flattenDeep)(a),l=r.map((e=>e.key)).filter((e=>e)),n=i.filter((e=>!l.includes(e.key))),c=n.map((e=>e.pkey)),o=(0,s.uniqueBy)(c);0!==o.length&&await this.handleLoadMore(o)}t.forEach((e=>{const t=(0,s.getExpandedKeys)(this.treeData,e,this.replaceFields);this.treeExpandedKeys=Array.from(new Set([...t,...this.treeExpandedKeys]))}))}catch{}this.fetching=!1},async handleLoadMore(e){this.fetching=!0;const t=[];for(const s of e)s&&t.push(this.fetchData({...this.params,code:s}));const a=await Promise.all(t),r=(0,s.flattenDeep)(a),i=(0,s.treeFormatList)(this.treeData),l=(0,s.uniqueBy)([...i,...r]);this.treeData=(0,s.listFormatTree)(l,this.replaceFields),this.fetching=!1},handleLoadLazyData(e){const t=e;return new Promise((e=>{t.dataRef.children?e():this.fetchData({...this.params,code:t.dataRef.key}).then((a=>{const r=(0,s.uniqueBy)(a,\"key\");t.dataRef.children=[...r],this.treeData=[...this.treeData],e(r)})).finally((()=>{this.fetching=!1}))}))},onSelectSearch(e){/^\\s*$/.test(e)||(this.handlerSearch(e),this.$emit(\"search\",e))},async handlerSearch(e){if(this.lazy){const t=await this.fetchDataByName({...this.params,name:e}).catch((e=>{})),a=(0,s.uniqueBy)(t,\"key\");this.tmpSearchOption=(0,s.cloneDeep)(a)||[],this.selectOption=a.filter((t=>String(t?.title).indexOf(e)>-1))}else this.selectOption=(0,s.filterList)(this.treeData,(t=>String(t?.title).indexOf(e)>-1),this.replaceFields)},handleReturnValue(e){return Array.isArray(e)&&this.multiple?e:Array.isArray(e)&&0!==e.length?e[0]:Array.isArray(e)&&0===e.length?this.multiple?e:null:e},async onSelectChange(e){const t=Array.isArray(e)?e:[e],a=(0,s.cloneDeep)(this.selectOption).filter((e=>t.includes(e.key)));if(this.lazy){const e=(0,s.treeFormatList)(this.treeData,this.replaceFields),t=e.map((e=>e.key)).filter((e=>e)),a=this.tmpSearchOption.filter((e=>!t.includes(e.key))),r=a.map((e=>e.pkey));0!==r.length&&await this.handleLoadMore(r)}const r=(0,s.getExpandedKeys)(this.treeData,Array.isArray(e)&&0!==e.length?e[0]:e,this.replaceFields);this.multiple?!this.treeSelectedKeys.includes(t)&&this.treeSelectedKeys.push(...t):this.treeSelectedKeys=t,Object.assign(this,{selectedValue:t,treeExpandedKeys:r,selectOption:a,fetching:!1}),this.onSelectTreeFn(e)},onExpandTree(e,t){this.treeExpandedKeys=Array.isArray(e)?e:[e],this.$emit(\"expand\",this.treeExpandedKeys,t)},async onSelectTreeFn(e){const t=Array.isArray(e)?e:[e],a=Array.isArray(e)&&0!==e.length?e[0]:e,r=(0,s.treeFormatList)(this.treeData,this.replaceFields),i=r.map((e=>e.key)).filter((e=>e));if(!i.includes(a)){const e=await this.fetchDataById({code:a}),t=await(0,s.uniqueBy)([...r,...e]);this.treeData=await(0,s.listFormatTree)(t)}const l=(0,s.getNodeBy)(this.treeData,a),n=(0,s.getExpandedKeys)(this.treeData,a),c=Array.from(new Set(this.multiple?[...this.treeSelectedKeys,...t]:t));this.expandedKeys=[...this.expandedKeys,...n],this.onSelectTree(c,{event:\"select\",selected:!0,node:{dataRef:l}})},onScrollIntoView(e){this.$nextTick((()=>{const t=document.querySelector(\".select-picker-modal\");t?document.querySelector(`.select-picker-modal #${this.treeType}_${e}`)?.scrollIntoView({behavior:\"smooth\",block:\"center\"}):document.getElementById(`${this.treeType}_${e}`)?.scrollIntoView({behavior:\"smooth\",block:\"center\"})}))},async onSelectTree(e,t){this.beforeSelect&&await this.beforeSelect(e,t);const a=Array.isArray(e)?e:[e],r=t.node.dataRef.key;Object.assign(this,{treeSelectedKeys:a});const i=(0,s.uniqueBy)((0,s.filterList)(this.treeData,(e=>this.treeSelectedKeys.includes(e.key)),this.replaceFields));let l=[];this.join&&(l=i.map((e=>{const t={};for(const a in e)a&&(t[a]=(0,s.getSelectedBy)(this.treeData,r,a,this.replaceFields).join(\"string\"===typeof this.join?this.join:\",\"));return t})));const n=i.map((e=>e[this.valueField])),c=this.handleReturnValue(n),o=this.handleReturnValue(i),h=this.handleReturnValue(l);this.$emit(\"select\",{treeSelectedKeys:c,selectOption:o,joinSelectOption:h,treeData:(0,s.cloneDeep)(this.treeData)},t),Array.isArray(this.selectedValue)&&0!==this.selectedValue.length&&this.selectedValue[0]!==r&&(this.selectedValue=void 0,this.selectOption=[]),this.onScrollIntoView(r)},async onCheckTree(e,t){this.beforeCheck&&await this.beforeCheck(e,t);const a=Array.isArray(e)?e:[e],r=t.node.dataRef.key;Object.assign(this,{treeCheckedKeys:a});const i=(0,s.uniqueBy)((0,s.filterList)(this.treeData,(e=>this.treeCheckedKeys.includes(e.key)),this.replaceFields)),l=i.map((e=>e[this.valueField]));this.$emit(\"check\",{treeCheckedKeys:l,checkOption:i,treeData:(0,s.cloneDeep)(this.treeData)},t),Array.isArray(this.selectedValue)&&0!==this.selectedValue.length&&this.selectedValue[0]!==r&&(this.selectedValue=void 0,this.selectOption=[]),this.onScrollIntoView(r)},oRightClick(e){this.$emit(\"rightClick\",e)},onLazyLoad(e){this.treeLoadedKeys=e}}},c=n,o=a(483),h=(0,o.Z)(c,r,i,!1,null,null,null),d=h.exports,y=a(51);d.install=function(e,t){(0,y.Qb)(e,t);const a=(0,y.H_)(t);e.component(a+d.name,d)};var p=d},632:function(e){e.exports=require(\"@euler-material/ecm-utils\")},142:function(e){e.exports=require(\"ant-design-vue\")}},t={};function a(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}!function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var r={};!function(){a.d(r,{default:function(){return y}});var e=function(){var e=this,t=e._self._c;return t(\"SelectTree\",e._g(e._b({ref:\"org\",attrs:{treeType:\"ort\",lazy:e.lazy,join:e.join,search:e.search,activeFirst:e.activeFirst,multiple:e.multiple,initLevel:e.initLevel,fetchData:e.fetchGetTree,fetchDataById:e.fetchGetTreeById,fetchDataByName:e.fetchGetTreeByName,replaceFields:e.replaceFields,valueField:e.valueField,isShowParent:e.isShowParent,params:e.params},on:{select:e.onSelectTreeData}},\"SelectTree\",e.$attrs,!1),e.$listeners),[t(\"template\",{slot:\"title\"},[e._t(\"title\")],2)],2)},t=[],i=a(657),s=a(632),l={inheritAttrs:!1,name:\"OrgTree\",components:{SelectTree:i[\"default\"]},props:{baseUrl:{type:String,default:\"/dts/bim\"},treeApi:{type:String,default:\"/q/cmTOrgMain/getCmTOrgMainTreeDataList/v1\"},treeApiById:{type:String,default:\"/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgUniqueCode/v1\"},treeApiByName:{type:String,default:\"/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgName/v1\"},placeholder:{type:String,default:\"\"},multiple:{type:Boolean,default:!1},isShowParent:{type:Boolean,default:!1},activeFirst:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},initLevel:{type:[Number,null],default:2},limitLevel:{type:[Number,String,null],validator(e){return[1,2,3,4,5,6].includes(Number(e))},default:null},replaceFields:{type:Object,default:()=>({pkey:\"pkey\",title:\"title\",key:\"key\",children:\"children\"})},valueField:{type:String,default:\"key\"},join:{type:[String,Boolean],default:!1},search:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0},params:{type:Object,default:()=>{}}},data(){return{otherParams:{}}},methods:{fetchGetTree(e){return new Promise(((t,a)=>{const r=e?.code;r&&Reflect.deleteProperty(e,\"code\"),$ec.http.send(this.baseUrl+this.treeApi,{orgLevelNum:this.limitLevel,bizCode:r,...e,...this.otherParams}).then((({rows:e})=>{const a=(0,s.treeFormatList)(e,this.replaceFields);t(a)})).catch((e=>{a(e)})).finally((()=>{}))}))},fetchGetTreeById(e){return new Promise(((t,a)=>{const r=e?.code;r&&Reflect.deleteProperty(e,\"code\"),$ec.http.send(this.baseUrl+this.treeApiById,{orgLevelNum:this.limitLevel,bizCode:r,...e,...this.otherParams}).then((({rows:e})=>{const a=(0,s.treeFormatList)(e,this.replaceFields);t(a)})).catch((e=>{a(e)})).finally((()=>{}))}))},fetchGetTreeByName(e){return new Promise(((t,a)=>{const r=e?.name;r&&Reflect.deleteProperty(e,\"name\"),$ec.http.send(this.baseUrl+this.treeApiByName,{orgLevelNum:this.limitLevel,orgName:r,...e,...this.otherParams}).then((({rows:e})=>{const a=(0,s.treeFormatList)(e,this.replaceFields);t(a)})).catch((e=>{a(e)})).finally((()=>{}))}))},onSelectTreeData({treeSelectedKeys:e,treeData:t,selectOption:a}){Object.assign(this,{selectedKeys:e,selectOption:a,treeData:t})},onRefreshTree(e){this.otherParams=e,this.$refs.org&&this.$refs.org.handleTreeData(e)},onSelectTreeFn(e){this.$refs.org&&this.$refs.org.onSelectTreeFn(e)}}},n=l,c=a(483),o=(0,c.Z)(n,e,t,!1,null,null,null),h=o.exports,d=a(51);h.install=function(e,t){(0,d.Qb)(e,t);const a=(0,d.H_)(t);e.component(a+h.name,h)};var y=h}(),module.exports=r[\"default\"]})();","(function(){\"use strict\";var e={483:function(e,t,i){function a(e,t,i,a,s,l,r,n){var c,o=\"function\"===typeof e?e.options:e;if(t&&(o.render=t,o.staticRenderFns=i,o._compiled=!0),a&&(o.functional=!0),l&&(o._scopeId=\"data-v-\"+l),r?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||\"undefined\"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},o._ssrRegister=c):s&&(c=n?function(){s.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(o.functional){o._injectStyles=c;var h=o.render;o.render=function(e,t){return c.call(t),h(e,t)}}else{var d=o.beforeCreate;o.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:o}}i.d(t,{Z:function(){return a}})},51:function(e,t,i){i.d(t,{H_:function(){return l},Qb:function(){return r}});const a=\"Ecm\",s=\"$ecm\",l=e=>e?.componentPrefix??a,r=(e,t)=>{const i=e;t&&t.classPrefix&&(i.prototype[s]={...i.prototype[s]??{},classPrefix:t.classPrefix})}},338:function(e,t,i){i.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"select-picker\"},[t(\"a-input-group\",{staticClass:\"picker-wrapper\",attrs:{compact:\"\"}},[t(\"a-select\",{staticClass:\"picker-wrapper-select\",staticStyle:{width:\"200px\"},attrs:{value:e.selectedValue,\"show-search\":\"\",\"allow-clear\":e.allowClear,placeholder:e.placeholder,mode:e.multiple?\"multiple\":\"default\",disabled:e.disabled,\"show-arrow\":!1,\"filter-option\":!1,maxTagCount:e.maxTagCount,\"default-active-first-option\":!1,\"not-found-content\":e.fetching?void 0:null},on:{search:e.onSelectSearch,change:e.onChange}},[e.fetching?t(\"a-spin\",{attrs:{slot:\"notFoundContent\",size:\"small\"},slot:\"notFoundContent\"}):e._e(),e._l(e.selectOption,(function(i){return t(\"a-select-option\",{key:i[e.valueField],attrs:{title:`${i.title}`,value:i[e.valueField]}},[e._v(\" \"+e._s(i.title)+\" \")])}))],2),t(\"div\",{staticClass:\"picker-btn-wrapper\"},[t(\"a-button\",{staticClass:\"picker-wrapper-btn\",attrs:{icon:\"more\",disabled:e.disabled},on:{click:e.onOpenModal}})],1)],1),t(\"a-modal\",{attrs:{wrapClassName:\"select-picker-modal\",title:e.title,visible:e.visible,width:e.widthed,height:e.height,bodyStyle:{height:parseInt(e.height,10)-108+\"px\"},top:e.top,centered:e.centered,keyboard:!1,\"mask-closable\":!1},on:{cancel:e.onCancel,ok:e.onOk}},[e.visible?t(\"SelectTree\",{ref:\"SelectTree\",staticClass:\"select-picker-tree\",attrs:{lazy:e.lazy,searchPadding:e.searchPadding,join:e.join,search:e.search,treeType:e.treeType,initLevel:e.initLevel,multiple:e.multiple,selectedKeys:e.selectedKeys,expandedKeys:e.expandedKeys,fetchData:e.fetchData,fetchDataById:e.fetchDataById,fetchDataByName:e.fetchDataByName,replaceFields:e.replaceFields,valueField:e.valueField,isShowParent:e.isShowParent,params:e.params},on:{select:e.onSelectTreeData}}):e._e(),Array.isArray(e.selectedKeys)&&e.multiple?t(\"a-divider\",{staticStyle:{height:\"100%\"},attrs:{type:\"vertical\"}}):e._e(),Array.isArray(e.selectedKeys)&&e.multiple?t(\"div\",{staticClass:\"select-picker-wrap\"},[t(\"div\",{staticStyle:{height:\"30px\",\"line-height\":\"30px\",\"font-size\":\"12px\",\"text-align\":\"right\"}},[e._v(\" \"),t(\"strong\",[e._v(e._s(e.selectedKeys.length))]),e._v(\" \")]),t(\"div\",{staticClass:\"select-picker-list\"},[e._l(e.treeSelectOption,(function(i){return t(\"div\",{key:i.key},[t(\"a-tag\",{key:i.key,attrs:{color:\"blue\",closable:!0,size:\"large\"},on:{close:function(t){return e.onRemoveOption(i.key)}}},[e._v(e._s(i.title))])],1)})),!e.selectedKeys||Array.isArray(e.selectedKeys)&&0===e.selectedKeys.length?t(\"a-empty\",{staticClass:\"spin\"}):e._e()],2)]):e._e()],1)],1)},s=[],l=i(657),r=i(142),n=i(632),c={name:\"SelectPicker\",components:{SelectTree:l[\"default\"],[r.Modal.name]:r.Modal,[r.Tag.name]:r.Tag,[r.Input.name]:r.Input,[r.Button.name]:r.Button,[r.Select.name]:r.Select,[r.Row.name]:r.Row,[r.Col.name]:r.Col,[r.Divider.name]:r.Divider,[r.Spin.name]:r.Spin,[r.Empty.name]:r.Empty,[r.Tree.name]:r.Tree},model:{prop:\"value\",event:\"change\"},props:{value:{type:[String,Array],default:null},treeType:{type:String,default:\"sp\"},maxTagCount:{type:Number,default:1},placeholder:{type:String,default:\"\"},lazy:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},searchPadding:{type:String,default:\"6px 0\"},isShowParent:{type:Boolean,default:!0},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},title:{type:String,default:\"\"},width:{type:[String,Number],default:\"425px\"},height:{type:[String,Number],default:\"370px\"},top:{type:[String,Number],default:\"100px\"},centered:{type:Boolean,default:!1},join:{type:[String,Boolean],default:!1},search:{type:Boolean,default:!0},initLevel:{type:Number,default:2},replaceFields:{type:Object,default:()=>({pkey:\"pkey\",title:\"title\",key:\"key\",children:\"children\"})},beforeOk:{type:Function,default:null},valueField:{type:String,default:\"key\"},fetchData:{type:Function,required:!0},fetchDataById:{type:Function},fetchDataByName:{type:Function},params:{type:Object,default:()=>({})}},data(){return this.onSelectSearch=(0,n.debounce)(this.onSelectSearch,300),{visible:!1,fetching:!1,treeData:[],selectedValue:[],expandedKeys:[],selectOption:[],joinSelectOption:[],selectedKeys:[],treeSelectOption:[]}},computed:{widthed(){const[e,t]=String(this.width).match(/[a-z]+|[^a-z]+/gi);return this.multiple?Number(e)+140+t:this.width}},watch:{value:{handler(e,t){(0,n.isRefEqual)(e,t)||this.handleListByCode(e)},deep:!0,immediate:!0}},methods:{async handleTreeByName(e){this.fetching=!0;try{if(this.lazy){const t=await this.fetchDataByName({...this.params,name:e},e),i=(0,n.filterList)(t,(t=>String(t?.title).indexOf(e)>-1),this.replaceFields);this.selectOption=(0,n.uniqueBy)([...this.selectOption,...i],\"key\")}else{const t=await this.fetchData({...this.params});this.treeData=(0,n.listFormatTree)(t,this.replaceFields),this.selectOption=(0,n.filterList)(t,(t=>String(t?.title).indexOf(e)>-1),this.replaceFields)}}catch{}this.fetching=!1},async handleListByCode(e){let t=[];if(e){t=Array.isArray(e)?e:[e],this.fetching=!0;try{if(this.lazy){const i=[];for(const r of t)r&&i.push(this.fetchDataById({...this.params,code:r},e));const a=await Promise.all(i),s=(0,n.flattenDeep)(a),l=(0,n.filterList)(s,(e=>t.includes(e.key)),this.replaceFields);this.selectOption=(0,n.uniqueBy)(l),this.treeSelectOption=(0,n.cloneDeep)(this.selectOption)}else{const t=await this.fetchData({...this.params}),i=(0,n.uniqueBy)(t);this.treeData=(0,n.listFormatTree)(i,this.replaceFields),this.selectOption=(0,n.filterList)(i,(t=>String(t?.key).indexOf(e)>-1),this.replaceFields)}}catch{}}this.selectedValue=[...t],this.selectedKeys=[...t],this.fetching=!1},handleReturnValue(e){return Array.isArray(e)&&this.multiple?e:Array.isArray(e)&&0!==e.length?e[0]:Array.isArray(e)&&0===e.length?this.multiple?e:null:e},onSelectSearch(e){/^\\s*$/.test(e)||this.handleTreeByName(e)},onChange(e,t){if(this.join){const e=this.selectOption.map((e=>{const t={};for(const i in e)i&&(t[i]=(0,n.getSelectedBy)(this.treeData,e.key,i,this.replaceFields).join(\"string\"===typeof this.join?this.join:\",\"));return t}));Object.assign(this,{joinSelectOption:e})}this.$emit(\"change\",e,t)},onOpenModal(){this.visible=!0},onScrollIntoView(e){this.$nextTick((()=>{this.$ref.SelectTree.onScrollIntoView(e)}))},onSelectTreeData({treeSelectedKeys:e,treeData:t,selectOption:i,joinSelectOption:a}){Array.isArray(e)?this.selectedKeys=e:this.$set(this.selectedKeys,\"0\",e),Array.isArray(i)?this.treeSelectOption=i:this.$set(this.treeSelectOption,\"0\",i),Object.assign(this,{joinSelectOption:a,treeData:t})},onRemoveOption(e){this.selectedKeys=this.selectedKeys.filter((t=>t!==e)),this.treeSelectOption=this.treeSelectOption.filter((t=>t.key!==e)),this.onScrollIntoView(e)},onOk(){if(null===this.selectedKeys||Array.isArray(this.selectedKeys)&&0===this.selectedKeys.length)return this.$message.info(\"\");Object.assign(this,{selectedValue:this.selectedKeys,selectOption:this.treeSelectOption}),this.$nextTick((async()=>{const e=this.handleReturnValue(this.selectOption),t=this.handleReturnValue(this.selectedValue);this.beforeOk&&\"function\"===typeof this.beforeOk&&await this.beforeOk({selectedValue:t,selectOption:e,joinSelectOption:this.joinSelectOption,treeData:this.treeData}),this.visible=!1,this.$emit(\"change\",t,e),this.$emit(\"ok\",{selectedValue:t,selectOption:e,joinSelectOption:this.joinSelectOption,treeData:this.treeData})}))},onCancel(){this.visible=!1},onRefreshTree(e){this.$ref.SelectTree&&this.$ref.SelectTree.handleTreeData(e)}}},o=c,h=i(483),d=(0,h.Z)(o,a,s,!1,null,null,null),p=d.exports,y=i(51);p.install=function(e,t){(0,y.Qb)(e,t);const i=(0,y.H_)(t);e.component(i+p.name,p)};var u=p},657:function(e,t,i){i.d(t,{default:function(){return y}});var a=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tree-search\"},[e._t(\"title\"),e.isSearch?t(\"div\",{staticClass:\"tree-search-select\",style:{padding:e.searchPadding}},[t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{\"show-search\":\"\",value:e.selectedValue,placeholder:e.placeholder,\"default-active-first-option\":!1,\"show-arrow\":!1,\"filter-option\":!1,\"not-found-content\":null},on:{search:e.onSelectSearch,select:e.onSelectChange,rightClick:e.oRightClick}},e._l(e.selectOption,(function(i){return t(\"a-select-option\",{key:i.key,attrs:{value:i.key,title:`${i.title}`}},[t(\"a-row\",[t(\"a-col\",{staticClass:\"ellipsis\",attrs:{span:e.isShowParent?18:24,title:i.title}},[e._v(e._s(i.title))]),t(\"a-col\",{staticClass:\"ellipsis\",staticStyle:{color:\"#ccc\",\"font-size\":\"12px\"},attrs:{span:e.isShowParent?6:0,title:e.getNameBy(e.tmpSearchOption,i.pkey)}},[e._v(e._s(e.getNameBy(e.tmpSearchOption,i.pkey)))])],1)],1)})),1)],1):e._e(),e.isSearch?t(\"a-divider\",{staticStyle:{margin:\"8px 0\"}}):e._e(),t(\"div\",{staticClass:\"tree-search-tree\"},[t(\"a-spin\",{staticClass:\"spin\",attrs:{spinning:e.fetching}}),e.lazy?t(\"a-tree\",e._b({ref:\"treeRef\",attrs:{blockNode:!0,multiple:e.multiple,checkedKeys:e.treeCheckedKeys,checkable:e.checkable,selectable:e.selectable,expandedKeys:e.treeExpandedKeys,selectedKeys:e.treeSelectedKeys,loadedKeys:e.treeLoadedKeys,\"tree-data\":e.treeData,loadData:e.handleLoadLazyData},on:{select:e.onSelectTree,check:e.onCheckTree,expand:e.onExpandTree,load:e.onLazyLoad,rightClick:e.oRightClick},scopedSlots:e._u([{key:\"title\",fn:function(i){return[t(\"span\",{attrs:{id:`${e.treeType}_${i.key}`}},[e._v(e._s(i.title))]),e._t(\"action\",null,{action:i})]}}],null,!0)},\"a-tree\",e.$attrs,!1)):t(\"a-tree\",e._b({ref:\"treeRef\",attrs:{blockNode:!0,checkable:e.checkable,selectable:e.selectable,multiple:e.multiple,checkedKeys:e.treeCheckedKeys,expandedKeys:e.treeExpandedKeys,selectedKeys:e.treeSelectedKeys,\"tree-data\":e.treeData,replaceFields:e.replaceFields},on:{select:e.onSelectTree,check:e.onCheckTree,expand:e.onExpandTree},scopedSlots:e._u([{key:\"title\",fn:function(i){return[t(\"span\",{attrs:{id:`${e.treeType}_${i.key}`}},[e._v(e._s(i.title))]),e._t(\"action\",null,{action:i})]}}],null,!0)},\"a-tree\",e.$attrs,!1)),e.fetching||e.treeData&&(!Array.isArray(e.treeData)||0!==e.treeData.length)?e._e():t(\"a-empty\",{staticClass:\"spin\"})],1)],2)},s=[],l=i(632),r=i(142),n={inheritAttrs:!1,name:\"SelectTree\",components:{[r.Select.name]:r.Select,[r.Row.name]:r.Row,[r.Col.name]:r.Col,[r.Divider.name]:r.Divider,[r.Spin.name]:r.Spin,[r.Empty.name]:r.Empty,[r.Tree.name]:r.Tree},props:{treeType:{type:String,default:\"st\"},selectedKeys:{type:Array,default:null},checkedKeys:{type:Array,default:null},expandedKeys:{type:Array,default:null},lazy:{type:Boolean,default:!0},selectable:{type:Boolean,default:!0},checkable:{type:Boolean,default:!1},searchPadding:{type:String,default:\"12px 12px 6px\"},placeholder:{type:String,default:\"\"},multiple:{type:Boolean,default:!1},join:{type:[String,Boolean],default:\",\"},isShowParent:{type:Boolean,default:!1},replaceFields:{type:Object,default:()=>({pkey:\"pkey\",title:\"title\",key:\"key\",children:\"children\"})},search:{type:Boolean,default:!0},activeFirst:{type:Boolean,default:!1},beforeSelect:{type:Function,default:null},beforeCheck:{type:Function,default:null},initLevel:{type:Number,default:2},fetchData:{type:Function,required:!0},fetchDataById:{type:Function},fetchDataByName:{type:Function},valueField:{type:String,default:\"key\"},params:{type:Object,default:()=>({})}},data(){return this.onSelectSearch=(0,l.debounce)(this.onSelectSearch,500),{fetching:!1,selectedValue:void 0,treeCheckedKeys:[],treeSelectedKeys:[],treeExpandedKeys:[],treeLoadedKeys:[],treeData:[],selectOption:[],tmpSearchOption:[]}},computed:{isSearch(){return this.search&&(this.treeData||Array.isArray(this.treeData)&&0!==this.treeData.length)}},watch:{params:{handler(e,t){(0,l.isRefEqual)(e,t)||this.handleTreeData(e)},deep:!0,immediate:!0},checkedKeys:{handler(e){this.treeCheckedKeys=e},deep:!0,immediate:!0},selectedKeys:{handler(e){this.treeSelectedKeys=e},deep:!0,immediate:!0},expandedKeys:{handler(e){this.treeExpandedKeys=e},deep:!0,immediate:!0}},methods:{getNameBy:l.getNameBy,handleTreeData(e){this.fetching=!0,this.treeLoadedKeys=[],this.treeExpandedKeys=[],this.treeData=[];try{this.fetchData(e).then((async e=>{const t=(0,l.cloneDeep)(e).filter((e=>!e.pkey))[0];this.treeData=(0,l.listFormatTree)(e,this.replaceFields);const i=e.map((e=>e.key)).filter((e=>e)),a=(this.selectedKeys||[]).filter((e=>!i.includes(e)));Array.isArray(this.treeData)&&0!==this.treeData.length&&(this.treeExpandedKeys=[t.key],this.$emit(\"expand\",this.treeExpandedKeys),this.activeFirst&&this.onSelectTreeFn(t.key)),0!==a.length&&await this.handleTreeByCode(a),Array.isArray(this.treeSelectedKeys)&&0!==this.treeSelectedKeys.length&&setTimeout((()=>{this.onScrollIntoView(this.treeSelectedKeys[0])}),500)})).finally((()=>{this.fetching=!1}))}catch{this.treeData=[]}},async handleTreeByCode(e){const t=Array.isArray(e)?e:[e];this.fetching=!0;try{if(this.lazy){const e=[];for(const l of t)l&&e.push(this.fetchDataById({...this.params,code:l}));const i=await Promise.all(e),a=(0,l.treeFormatList)(this.treeData,this.replaceFields),s=(0,l.flattenDeep)(i),r=a.map((e=>e.key)).filter((e=>e)),n=s.filter((e=>!r.includes(e.key))),c=n.map((e=>e.pkey)),o=(0,l.uniqueBy)(c);0!==o.length&&await this.handleLoadMore(o)}t.forEach((e=>{const t=(0,l.getExpandedKeys)(this.treeData,e,this.replaceFields);this.treeExpandedKeys=Array.from(new Set([...t,...this.treeExpandedKeys]))}))}catch{}this.fetching=!1},async handleLoadMore(e){this.fetching=!0;const t=[];for(const l of e)l&&t.push(this.fetchData({...this.params,code:l}));const i=await Promise.all(t),a=(0,l.flattenDeep)(i),s=(0,l.treeFormatList)(this.treeData),r=(0,l.uniqueBy)([...s,...a]);this.treeData=(0,l.listFormatTree)(r,this.replaceFields),this.fetching=!1},handleLoadLazyData(e){const t=e;return new Promise((e=>{t.dataRef.children?e():this.fetchData({...this.params,code:t.dataRef.key}).then((i=>{const a=(0,l.uniqueBy)(i,\"key\");t.dataRef.children=[...a],this.treeData=[...this.treeData],e(a)})).finally((()=>{this.fetching=!1}))}))},onSelectSearch(e){/^\\s*$/.test(e)||(this.handlerSearch(e),this.$emit(\"search\",e))},async handlerSearch(e){if(this.lazy){const t=await this.fetchDataByName({...this.params,name:e}).catch((e=>{})),i=(0,l.uniqueBy)(t,\"key\");this.tmpSearchOption=(0,l.cloneDeep)(i)||[],this.selectOption=i.filter((t=>String(t?.title).indexOf(e)>-1))}else this.selectOption=(0,l.filterList)(this.treeData,(t=>String(t?.title).indexOf(e)>-1),this.replaceFields)},handleReturnValue(e){return Array.isArray(e)&&this.multiple?e:Array.isArray(e)&&0!==e.length?e[0]:Array.isArray(e)&&0===e.length?this.multiple?e:null:e},async onSelectChange(e){const t=Array.isArray(e)?e:[e],i=(0,l.cloneDeep)(this.selectOption).filter((e=>t.includes(e.key)));if(this.lazy){const e=(0,l.treeFormatList)(this.treeData,this.replaceFields),t=e.map((e=>e.key)).filter((e=>e)),i=this.tmpSearchOption.filter((e=>!t.includes(e.key))),a=i.map((e=>e.pkey));0!==a.length&&await this.handleLoadMore(a)}const a=(0,l.getExpandedKeys)(this.treeData,Array.isArray(e)&&0!==e.length?e[0]:e,this.replaceFields);this.multiple?!this.treeSelectedKeys.includes(t)&&this.treeSelectedKeys.push(...t):this.treeSelectedKeys=t,Object.assign(this,{selectedValue:t,treeExpandedKeys:a,selectOption:i,fetching:!1}),this.onSelectTreeFn(e)},onExpandTree(e,t){this.treeExpandedKeys=Array.isArray(e)?e:[e],this.$emit(\"expand\",this.treeExpandedKeys,t)},async onSelectTreeFn(e){const t=Array.isArray(e)?e:[e],i=Array.isArray(e)&&0!==e.length?e[0]:e,a=(0,l.treeFormatList)(this.treeData,this.replaceFields),s=a.map((e=>e.key)).filter((e=>e));if(!s.includes(i)){const e=await this.fetchDataById({code:i}),t=await(0,l.uniqueBy)([...a,...e]);this.treeData=await(0,l.listFormatTree)(t)}const r=(0,l.getNodeBy)(this.treeData,i),n=(0,l.getExpandedKeys)(this.treeData,i),c=Array.from(new Set(this.multiple?[...this.treeSelectedKeys,...t]:t));this.expandedKeys=[...this.expandedKeys,...n],this.onSelectTree(c,{event:\"select\",selected:!0,node:{dataRef:r}})},onScrollIntoView(e){this.$nextTick((()=>{const t=document.querySelector(\".select-picker-modal\");t?document.querySelector(`.select-picker-modal #${this.treeType}_${e}`)?.scrollIntoView({behavior:\"smooth\",block:\"center\"}):document.getElementById(`${this.treeType}_${e}`)?.scrollIntoView({behavior:\"smooth\",block:\"center\"})}))},async onSelectTree(e,t){this.beforeSelect&&await this.beforeSelect(e,t);const i=Array.isArray(e)?e:[e],a=t.node.dataRef.key;Object.assign(this,{treeSelectedKeys:i});const s=(0,l.uniqueBy)((0,l.filterList)(this.treeData,(e=>this.treeSelectedKeys.includes(e.key)),this.replaceFields));let r=[];this.join&&(r=s.map((e=>{const t={};for(const i in e)i&&(t[i]=(0,l.getSelectedBy)(this.treeData,a,i,this.replaceFields).join(\"string\"===typeof this.join?this.join:\",\"));return t})));const n=s.map((e=>e[this.valueField])),c=this.handleReturnValue(n),o=this.handleReturnValue(s),h=this.handleReturnValue(r);this.$emit(\"select\",{treeSelectedKeys:c,selectOption:o,joinSelectOption:h,treeData:(0,l.cloneDeep)(this.treeData)},t),Array.isArray(this.selectedValue)&&0!==this.selectedValue.length&&this.selectedValue[0]!==a&&(this.selectedValue=void 0,this.selectOption=[]),this.onScrollIntoView(a)},async onCheckTree(e,t){this.beforeCheck&&await this.beforeCheck(e,t);const i=Array.isArray(e)?e:[e],a=t.node.dataRef.key;Object.assign(this,{treeCheckedKeys:i});const s=(0,l.uniqueBy)((0,l.filterList)(this.treeData,(e=>this.treeCheckedKeys.includes(e.key)),this.replaceFields)),r=s.map((e=>e[this.valueField]));this.$emit(\"check\",{treeCheckedKeys:r,checkOption:s,treeData:(0,l.cloneDeep)(this.treeData)},t),Array.isArray(this.selectedValue)&&0!==this.selectedValue.length&&this.selectedValue[0]!==a&&(this.selectedValue=void 0,this.selectOption=[]),this.onScrollIntoView(a)},oRightClick(e){this.$emit(\"rightClick\",e)},onLazyLoad(e){this.treeLoadedKeys=e}}},c=n,o=i(483),h=(0,o.Z)(c,a,s,!1,null,null,null),d=h.exports,p=i(51);d.install=function(e,t){(0,p.Qb)(e,t);const i=(0,p.H_)(t);e.component(i+d.name,d)};var y=d},632:function(e){e.exports=require(\"@euler-material/ecm-utils\")},142:function(e){e.exports=require(\"ant-design-vue\")}},t={};function i(a){var s=t[a];if(void 0!==s)return s.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,i),l.exports}!function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var a={};!function(){i.d(a,{default:function(){return p}});var e=function(){var e=this,t=e._self._c;return t(\"SelectPicker\",e._g(e._b({attrs:{treeType:\"dip\",title:e.title,value:e.value,search:e.search,\"allow-clear\":e.allowClear,placeholder:e.placeholder,multiple:e.multiple,disabled:e.disabled,join:e.join,fetchData:e.fetchGetTree,fetchDataById:e.fetchGetTreeById,fetchDataByName:e.fetchGetTreeByName,params:e.params}},\"SelectPicker\",e.$attrs,!1),e.$listeners))},t=[],s=i(338),l=i(632),r={inheritAttrs:!1,name:\"DivisionPicker\",components:{SelectPicker:s[\"default\"]},model:{prop:\"value\",event:\"change\"},props:{value:{type:[String,Array,null],default:null},baseUrl:{type:String,default:\"/dts/bim\"},treeApi:{type:String,default:\"/q/cmOmDivision/getCmOmDivisionTreeDataList/v1\"},treeApiById:{type:String,default:\"/q/cmOmDivision/getCmOmDivisionTreeParentById/v1\"},treeApiByName:{type:String,default:\"/q/cmOmDivision/getCmOmDivisionTreeParentByIName/v1\"},placeholder:{type:String,default:\"\"},multiple:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},title:{type:String,default:\"\"},search:{type:Boolean,default:!0},width:{type:[String,Number],default:\"425px\"},height:{type:[String,Number],default:\"370px\"},top:{type:[String,Number],default:\"100px\"},centered:{type:Boolean,default:!1},limitLevel:{type:[Number,null],default:null},replaceFields:{type:Object,default:()=>({pkey:\"pkey\",title:\"title\",key:\"key\",children:\"children\"})},join:{type:[String,Boolean],default:!1},params:{type:Object,default:()=>{}}},methods:{fetchGetTree(e){return new Promise(((t,i)=>{const a=e?.code;a&&Reflect.deleteProperty(e,\"code\"),$ec.http.send(this.baseUrl+this.treeApi,{divisionLevelNum:this.limitLevel,divisionUniqueCode:a,...e}).then((({rows:e})=>{const i=(0,l.treeFormatList)(e,this.replaceFields);t(i)})).catch((e=>{i(e)})).finally((()=>{}))}))},fetchGetTreeById(e){return new Promise(((t,i)=>{const a=e?.code;a&&Reflect.deleteProperty(e,\"code\"),$ec.http.send(this.baseUrl+this.treeApiById,{divisionLevelNum:this.limitLevel,divisionUniqueCode:a,...e}).then((({rows:e})=>{const i=(0,l.treeFormatList)(e,this.replaceFields);t(i)})).catch((e=>{i(e)})).finally((()=>{}))}))},fetchGetTreeByName(e){return new Promise(((t,i)=>{const a=e?.name;a&&Reflect.deleteProperty(e,\"name\"),$ec.http.send(this.baseUrl+this.treeApiByName,{divisionLevelNum:this.limitLevel,divisionName:a,...e}).then((({rows:e})=>{const i=(0,l.treeFormatList)(e,this.replaceFields);t(i)})).catch((e=>{i(e)})).finally((()=>{}))}))}}},n=r,c=i(483),o=(0,c.Z)(n,e,t,!1,null,null,null),h=o.exports,d=i(51);h.install=function(e,t){(0,d.Qb)(e,t);const i=(0,d.H_)(t);e.component(i+h.name,h)};var p=h}(),module.exports=a[\"default\"]})();","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-container',{attrs:{\"height\":\"100%\",\"title\":\"\",\"icon\":\"onetomany\",\"color-code\":\"008\"}},[_c('ec-container-body',[_c('ec-panel',{attrs:{\"auto\":false}},[_c('ec-panel-toolbar',[_c('ec-query-panel',{on:{\"query\":function($event){return _vm.$refs.table.pageAction(1)},\"reset\":_vm.onReset}},[_c('ec-query-item',{attrs:{\"label\":\"\"}},[_c('a-select',{attrs:{\"allow-clear\":\"\",\"placeholder\":\"\"},model:{value:(_vm.queryItems.batchName),callback:function ($$v) {_vm.$set(_vm.queryItems, \"batchName\", $$v)},expression:\"queryItems.batchName\"}},_vm._l((_vm.batchList),function(item){return _c('a-select-option',{key:item.batchName},[_vm._v(\" \"+_vm._s(item.batchName)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"\"}},[_c('select-picker',{attrs:{\"title\":\"\",\"lazy\":false,\"search\":false,\"fetchData\":_vm.onFetchBusinessOrgList},model:{value:(_vm.queryItems.supplyOrgCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"supplyOrgCode\", $$v)},expression:\"queryItems.supplyOrgCode\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"\"}},[_c('a-select',{attrs:{\"allow-clear\":\"\",\"placeholder\":\"\"},model:{value:(_vm.queryItems.auditState),callback:function ($$v) {_vm.$set(_vm.queryItems, \"auditState\", $$v)},expression:\"queryItems.auditState\"}},_vm._l((_vm.auditStateList),function(item){return _c('a-select-option',{key:item.id},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1)],1),_c('ec-divider')],1),_c('ec-panel-header',[_c('ec-panel-item',[_c('ec-panel-item-left',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onAdd}},[_vm._v(\"\")]),_c('a-button',{on:{\"click\":_vm.onDel}},[_vm._v(\"\")]),_c('a-button',{on:{\"click\":_vm.onUpload}},[_vm._v(\"\")])],1),_c('ec-panel-item-right',[_c('span',{staticClass:\"ant-form-text\"},[_vm._v(\"  \"+_vm._s(_vm.queryItems.businessYear))]),_c('span',{staticClass:\"ant-form-text\"},[_vm._v(\"  \"+_vm._s(_vm.weightUnitName))])])],1)],1),_c('ec-panel-body',[_c('ec-table',{ref:\"table\",attrs:{\"border\":\"\",\"height\":\"100%\",\"auto\":false,\"pagination\":_vm.pagination,\"data\":_vm.tableData.rows,\"loading\":_vm.loading,\"row-select\":\"\",\"show-footer\":\"\",\"footer-method\":_vm.footerMethod},on:{\"page-action\":_vm.handlePagination,\"checkbox-all\":_vm.selectAllEvent,\"checkbox-change\":_vm.selectRowChange}},[_c('ec-table-col',{attrs:{\"type\":\"checkbox\",\"width\":\"50\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"title\":\"\",\"type\":\"seq\",\"width\":\"70\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"batchName\",\"title\":\"\",\"header-align\":\"center\",\"align\":\"left\",\"min-width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"supplyOrgName\",\"title\":\"\",\"header-align\":\"center\",\"align\":\"left\",\"min-width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"weight1\",\"title\":_vm.weight1Title,\"header-align\":\"center\",\"align\":\"right\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"weight2\",\"title\":_vm.weight2Title,\"header-align\":\"center\",\"align\":\"right\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"weight3\",\"title\":_vm.weight3Title,\"header-align\":\"center\",\"align\":\"right\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"weight4\",\"title\":_vm.weight4Title,\"header-align\":\"center\",\"align\":\"right\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"auditState\",\"title\":\"\",\"header-align\":\"center\",\"align\":\"left\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.auditState === '5')?_c('div',[_c('span',[_vm._v(\"\")])]):(row.auditState === '1')?_c('div',[_c('span',[_vm._v(\"\")])]):(row.auditState === '2')?_c('div',[_c('span',[_vm._v(\"\")])]):(row.auditState === '3')?_c('div',[_c('span',[_vm._v(\"\")])]):(row.auditState === '4')?_c('div',[_c('span',[_vm._v(\"\")])]):_c('div',[_c('span',[_vm._v(\"\")])])]}}])}),_c('ec-table-col',{attrs:{\"title\":\"\",\"align\":\"center\",\"min-width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.onEdit(row)}}},[_vm._v(\"\")]),_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.onDetail(row)}}},[_vm._v(\"\")])]}}])})],1)],1)],1),_c('demand-submit-edit',{ref:\"DemandSubmitEdit\",on:{\"onQuery\":_vm.onQuery}}),_c('demand-submit-add',{ref:\"DemandSubmitAdd\",on:{\"onQuery\":_vm.onQuery}}),_c('detail',{ref:\"Detail\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":\"\",\"visible\":_vm.visible,\"size\":\"large\"},on:{\"close\":_vm.cancel}},[_c('ec-container',{attrs:{\"height\":\"auto\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',[_c('ec-panel',{attrs:{\"title\":\"\",\"color-code\":\"001\"}},[_c('ec-panel-item',[_c('ec-form',{ref:\"ruleForm1\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":12}},[_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"\"}},[_vm._v(_vm._s(_vm.formData.supplyOrgName || '--'))])],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"\"}},[_vm._v(_vm._s(_vm.formData.batchName || '--'))])],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"\"}},[_vm._v(_vm._s(_vm.formData.busiYear || '--'))])],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.formatDate(_vm.formData.createTime) || '--')+\" \")])],1)],1)],1)],1)],1),_c('ec-panel',[_c('ec-panel-toolbar',[_c('ec-panel-item-right',[_c('span',[_vm._v(\"\"+_vm._s(_vm.weightUnitName))])])],1),_c('ec-panel-body',[_c('ec-table',{ref:\"table\",attrs:{\"border\":\"\",\"keep-source\":\"\",\"show-footer\":\"\",\"row-select\":\"\",\"edit-rules\":_vm.validRules,\"footer-method\":_vm.footerMethod,\"data\":_vm.tableData}},[_c('ec-table-col',{attrs:{\"width\":\"70\",\"title\":\"\",\"type\":\"seq\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeName\",\"title\":\"\",\"min-width\":\"180\",\"align\":\"left\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-select',{attrs:{\"filter-option\":_vm.filterOption},on:{\"select\":function($event){return _vm.handleGetLeafLevel(row)}},model:{value:(row.leafTypeName),callback:function ($$v) {_vm.$set(row, \"leafTypeName\", $$v)},expression:\"row.leafTypeName\"}},_vm._l((_vm.leafTypeList),function(item){return _c('a-select-option',{key:item.leafTypeCode,attrs:{\"value\":item.leafTypeName}},[_vm._v(_vm._s(item.leafTypeName))])}),1)]}}])}),_c('ec-table-col',{attrs:{\"field\":\"leafLevelName\",\"title\":\"\",\"min-width\":\"180\",\"align\":\"left\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-select',{attrs:{\"filter-option\":_vm.filterOption},on:{\"select\":function($event){return _vm.handleLeafLevelCode(row)}},model:{value:(row.leafLevelName),callback:function ($$v) {_vm.$set(row, \"leafLevelName\", $$v)},expression:\"row.leafLevelName\"}},_vm._l((row.leafLevelList),function(item){return _c('a-select-option',{key:item.leafLevelCode,attrs:{\"value\":item.leafLevelName}},[_vm._v(_vm._s(item.leafLevelName))])}),1)]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight1\",\"title\":_vm.weight1Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight1')}},model:{value:(row.weight1),callback:function ($$v) {_vm.$set(row, \"weight1\", $$v)},expression:\"row.weight1\"}})]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight2\",\"title\":_vm.weight2Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight2')}},model:{value:(row.weight2),callback:function ($$v) {_vm.$set(row, \"weight2\", $$v)},expression:\"row.weight2\"}})]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight3\",\"title\":_vm.weight3Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight3')}},model:{value:(row.weight3),callback:function ($$v) {_vm.$set(row, \"weight3\", $$v)},expression:\"row.weight3\"}})]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight4\",\"title\":_vm.weight4Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight4')}},model:{value:(row.weight4),callback:function ($$v) {_vm.$set(row, \"weight4\", $$v)},expression:\"row.weight4\"}})]}}])})],1)],1)],1)],1),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[_c('a-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer\r\n    title=\"\"\r\n    :visible=\"visible\"\r\n    size=\"large\"\r\n    @close=\"cancel\"\r\n    class=\"ec-draw-form\"\r\n  >\r\n    <ec-container height=\"auto\" fixed=\"top bottom\" color-code=\"007\">\r\n      <ec-container-body>\r\n        <ec-panel title=\"\" color-code=\"001\">\r\n          <ec-panel-item>\r\n            <ec-form ref=\"ruleForm1\" :model=\"formData\" :rules=\"rules\">\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"\">{{\r\n                    formData.supplyOrgName || '--'\r\n                  }}</a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"\">{{\r\n                    formData.batchName || '--'\r\n                  }}</a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"\">{{\r\n                    formData.busiYear || '--'\r\n                  }}</a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"\">\r\n                    {{ formatDate(formData.createTime) || '--' }}\r\n                  </a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n            </ec-form>\r\n          </ec-panel-item>\r\n        </ec-panel>\r\n\r\n        <ec-panel>\r\n          <ec-panel-toolbar>\r\n            <ec-panel-item-right>\r\n              <span>{{ weightUnitName }}</span>\r\n            </ec-panel-item-right>\r\n          </ec-panel-toolbar>\r\n          <ec-panel-body>\r\n            <ec-table\r\n              border\r\n              keep-source\r\n              ref=\"table\"\r\n              show-footer\r\n              row-select\r\n              :edit-rules=\"validRules\"\r\n              :footer-method=\"footerMethod\"\r\n              :data=\"tableData\"\r\n            >\r\n              <ec-table-col width=\"70\" title=\"\" type=\"seq\" align=\"center\" />\r\n              <ec-table-col\r\n                field=\"leafTypeName\"\r\n                title=\"\"\r\n                min-width=\"180\"\r\n                align=\"left\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-select\r\n                    v-model=\"row.leafTypeName\"\r\n                    :filter-option=\"filterOption\"\r\n                    @select=\"handleGetLeafLevel(row)\"\r\n                  >\r\n                    <!-- @select=\"(value, key) => projectSelect(value, key)\" -->\r\n\r\n                    <a-select-option\r\n                      v-for=\"item in leafTypeList\"\r\n                      :key=\"item.leafTypeCode\"\r\n                      :value=\"item.leafTypeName\"\r\n                      >{{ item.leafTypeName }}</a-select-option\r\n                    >\r\n                  </a-select>\r\n                </template>\r\n              </ec-table-col>\r\n\r\n              <ec-table-col\r\n                field=\"leafLevelName\"\r\n                title=\"\"\r\n                min-width=\"180\"\r\n                align=\"left\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-select\r\n                    v-model=\"row.leafLevelName\"\r\n                    :filter-option=\"filterOption\"\r\n                    @select=\"handleLeafLevelCode(row)\"\r\n                  >\r\n                    <a-select-option\r\n                      v-for=\"item in row.leafLevelList\"\r\n                      :key=\"item.leafLevelCode\"\r\n                      :value=\"item.leafLevelName\"\r\n                      >{{ item.leafLevelName }}</a-select-option\r\n                    >\r\n                  </a-select>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight1\"\r\n                :title=\"weight1Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight1\"\r\n                    :min=\"0\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight1')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight2\"\r\n                :title=\"weight2Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight2\"\r\n                    :min=\"0\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight2')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight3\"\r\n                :title=\"weight3Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight3\"\r\n                    :min=\"0\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight3')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight4\"\r\n                :title=\"weight4Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight4\"\r\n                    :min=\"0\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight4')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n            </ec-table>\r\n          </ec-panel-body>\r\n        </ec-panel>\r\n      </ec-container-body>\r\n      <ec-container-footer fixed>\r\n        <a-space>\r\n          <a-button @click=\"cancel\"></a-button>\r\n        </a-space>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n<script>\r\nimport { OrgPicker, OrgTree, DivisionPicker } from '@euler-material/ecm-ui';\r\nimport moment from 'moment';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'AdminOrgManageEdit',\r\n  components: {\r\n    OrgPicker,\r\n    OrgTree,\r\n    DivisionPicker,\r\n    moment,\r\n  },\r\n  data() {\r\n    const orgNameValid = (rule, value, callback) => {\r\n      if (value.length === 0) {\r\n        return callback(new Error(''));\r\n      }\r\n\r\n      callback();\r\n    };\r\n    return {\r\n      title: '',\r\n      isDisableYear: true,\r\n      isEdit: false,\r\n      rowData: '',\r\n      visible: false,\r\n      checked: false,\r\n      ruleForm: {},\r\n      formData: {},\r\n      yearDemandList: [],\r\n      leafTypeList: [],\r\n      totalLeafLevelList: [],\r\n      orgCodeList: [],\r\n      businessYear: '',\r\n      weightUnitName: '',\r\n      weightUnit: '',\r\n      tableConfig: [],\r\n      weight1Title: '',\r\n      weight2Title: '',\r\n      weight3Title: '',\r\n      weight4Title: '',\r\n      needYearListFormat: {},\r\n      needGatherYear: '',\r\n      weightColunm: ['weight1', 'weight2', 'weight3', 'weight4'],\r\n      tableData: [],\r\n      oldTableData: [],\r\n      mergeTableData: [],\r\n      currentLeafLevelList: [],\r\n      data: {},\r\n      validRules: {\r\n        leafTypeName: [{ required: true, message: '' }],\r\n        leafLevelName: [{ required: true, message: '' }],\r\n      },\r\n      rules: {\r\n        orgCodeList: [{ validator: orgNameValid, required: true, trigger: 'change' }],\r\n      },\r\n    };\r\n  },\r\n  // mounted() {\r\n  //   this.handleTableColumn();\r\n  // },\r\n  methods: {\r\n    moment,\r\n    formatDate(createDate) {\r\n      return moment(createDate).format('YYYY-MM-DD');\r\n    },\r\n    // \r\n    filterOption(input, option) {\r\n      return (\r\n        option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n      );\r\n    },\r\n    // \r\n    handleNoValue(row, field) {\r\n      const rowObj = row;\r\n      const value = rowObj[field];\r\n      if (!value) {\r\n        rowObj[field] = '0.00';\r\n      }\r\n    },\r\n    // \r\n    async show(data) {\r\n      this.visible = true;\r\n      await this.handleGetLeafTypeList();\r\n      // formData\r\n      this.weightUnit = data.weightUnitObj.weightUnit;\r\n      this.weightUnitName = data.weightUnitObj.weightUnitName;\r\n      const businessYear = data.businessYear > 0 ? data.businessYear : new Date().getFullYear();\r\n      this.businessYear = businessYear;\r\n\r\n      this.needGatherYear = data.needGatherYear || '';\r\n      const needGatherYearArr = this.needGatherYear.split(',');\r\n      this.needGatherYearArr = needGatherYearArr;\r\n\r\n      // \r\n      this.title = '';\r\n      this.isEdit = true;\r\n\r\n      const selectedRows = data?.selectedRows;\r\n      const supplyOrgCode = selectedRows?.supplyOrgCode;\r\n      const orgCodeList = [];\r\n      if (supplyOrgCode) {\r\n        orgCodeList.push(supplyOrgCode);\r\n      }\r\n      const weightTitleObj = data.weightTitleObj || {};\r\n      this.weight1Title = weightTitleObj.weight1Title;\r\n      this.weight2Title = weightTitleObj.weight2Title;\r\n      this.weight3Title = weightTitleObj.weight3Title;\r\n      this.weight4Title = weightTitleObj.weight4Title;\r\n      this.needYearListFormat = data.needYearListFormat;\r\n      this.formData = data?.selectedRows;\r\n      console.log(this.formData);\r\n      this.formData.orgCodeList = orgCodeList;\r\n      const tableData = data?.selectedRows?.pcTNeedCollectDetlDTOS;\r\n      // ,\r\n      // this.oldTableData = _.cloneDeep(tableData);\r\n      const mergeTableData = await this.handleMergeDetData(tableData);\r\n      this.mergeTableData = _.cloneDeep(mergeTableData);\r\n      await this.handleUnitParse(mergeTableData);\r\n    },\r\n\r\n    // ,\r\n    async handleMergeDetData(detlList) {\r\n      const mergeLevelArr = [];\r\n      // \r\n      detlList.forEach(async (detl) => {\r\n        const detlObj = detl;\r\n        const parent = mergeLevelArr.find(\r\n          (mergeObj) => mergeObj.leafLevelCode === detl.leafLevelCode,\r\n        );\r\n        if (parent) {\r\n          parent.detlList.push(detlObj);\r\n        } else {\r\n          // \r\n          const { leafTypeCode } = detlObj;\r\n          const leafTypeArr = this.leafTypeList.find((item) => item.leafTypeCode === leafTypeCode);\r\n          // \r\n          const { leafLevelCode } = detlObj;\r\n\r\n          const leafLevelArr = this.totalLeafLevelList.find(\r\n            (item) => item.leafLevelCode === leafLevelCode,\r\n          );\r\n\r\n          const obj = {\r\n            leafTypeName: leafTypeArr?.leafTypeName,\r\n            leafLevelName: leafLevelArr?.leafLevelName,\r\n            leafLevelCode,\r\n            leafTypeCode,\r\n            leafLevelList: detlObj.leafLevelList,\r\n            detlList: [detlObj],\r\n          };\r\n          mergeLevelArr.push(obj);\r\n        }\r\n      });\r\n\r\n      // 4\r\n      this.weightColunm.forEach((item) =>\r\n        this.$refs.table.hideColumn(this.$refs.table.getColumnByField(item)),\r\n      );\r\n\r\n      console.log('pppppppppppppppppppppppppppp');\r\n      console.log(mergeLevelArr);\r\n      // \r\n      mergeLevelArr.forEach((row) => {\r\n        const rowData = row;\r\n        const detDataList = row?.detlList || [];\r\n        const needGatherYear = this.needGatherYear || '';\r\n        const needGatherYearArr = needGatherYear.split(',');\r\n        needGatherYearArr.forEach((item) => {\r\n          const needGatherYearValue = item;\r\n          const needYearListFormat = this.needYearListFormat || {};\r\n          const visibleWeightColumn = needYearListFormat[item];\r\n          let totalWeight = 0;\r\n          detDataList.forEach((detItem) => {\r\n            if (needGatherYearValue === `${detItem.needYear}`) {\r\n              totalWeight += Number(detItem.weight || 0);\r\n            }\r\n          });\r\n\r\n          rowData[visibleWeightColumn] = totalWeight.toFixed(2);\r\n          // \r\n          this.$refs.table.showColumn(this.$refs.table.getColumnByField(visibleWeightColumn));\r\n        });\r\n      });\r\n      console.log(`-----------${JSON.stringify(mergeLevelArr)}`);\r\n\r\n      return mergeLevelArr;\r\n    },\r\n\r\n    // \r\n    // async handleLeafLevelList(typeCode) {\r\n    //   const data = {\r\n    //     pageNo: 1,\r\n    //     pageSize: 100,\r\n    //     leafTypeCode: typeCode,\r\n    //   };\r\n    //   const res = await this.$apis.apm.demandSubmit.queryLevel(data);\r\n    //   this.currentLeafLevelList = res?.rows || [];\r\n    //   // return res?.rows || [];\r\n    // },\r\n\r\n    // \r\n    async handleUnitParse(rows) {\r\n      const newTableData = [];\r\n      const handleOlDataRow = rows;\r\n      if (handleOlDataRow && handleOlDataRow.length > 0) {\r\n        handleOlDataRow.forEach((item) => {\r\n          const obj = item;\r\n          obj.weight1 = obj.weight1 ? (Number(obj.weight1) / this.weightUnit).toFixed(2) : '0.00';\r\n          obj.weight2 = obj.weight2 ? (Number(obj.weight2) / this.weightUnit).toFixed(2) : '0.00';\r\n          obj.weight3 = obj.weight3 ? (Number(obj.weight3) / this.weightUnit).toFixed(2) : '0.00';\r\n          obj.weight4 = obj.weight4 ? (Number(obj.weight4) / this.weightUnit).toFixed(2) : '0.00';\r\n          newTableData.push(obj);\r\n        });\r\n        this.tableData = newTableData;\r\n      }\r\n    },\r\n    // \r\n    async handleGetLeafTypeList() {\r\n      if (!this.leafTypeList?.length) {\r\n        const res = await this.$apis.bpm.executionEnter.queryAllLeafType({});\r\n        this.leafTypeList = res?.rows || [];\r\n      }\r\n      if (!this.totalLeafLevelList?.length) {\r\n        const data = {\r\n          leafTypeCode: '',\r\n        };\r\n        const res = await this.$apis.apm.demandSubmit.queryAllLevel(data);\r\n        this.totalLeafLevelList = res?.rows || [];\r\n      }\r\n    },\r\n\r\n    // \r\n    handleLeafLevelCode(row) {\r\n      const rowObj = row;\r\n      const leafLevelList = row.leafLevelList || [];\r\n      leafLevelList.forEach((item) => {\r\n        const leafLevel = item;\r\n        if (leafLevel.leafLevelName === row.leafLevelName) {\r\n          rowObj.leafLevelCode = leafLevel.leafLevelCode;\r\n        }\r\n      });\r\n    },\r\n\r\n    // \r\n    async handleGetLeafLevel(row) {\r\n      const rowObj = row;\r\n      const { leafTypeList } = this;\r\n      leafTypeList.forEach((item) => {\r\n        const obj = item;\r\n        if (obj.leafTypeName === row.leafTypeName) {\r\n          rowObj.leafTypeCode = obj.leafTypeCode;\r\n        }\r\n      });\r\n      const data = {\r\n        pageNo: 1,\r\n        pageSize: 100,\r\n        leafTypeCode: row.leafTypeCode || '',\r\n      };\r\n      const res = await this.$apis.apm.demandSubmit.queryAllLevel(data);\r\n      rowObj.leafLevelCode = '';\r\n      rowObj.leafLevelName = '';\r\n      rowObj.leafLevelList = res?.rows;\r\n    },\r\n\r\n    async addRow() {\r\n      // const $table = this.$refs.xTable;\r\n      const record = {\r\n        leafTypeCode: '',\r\n        leafTypeName: '',\r\n        leafLevelCode: '',\r\n        leafLevelName: '',\r\n        leafLevelList: [],\r\n        weight1: '0.00',\r\n        weight2: '0.00',\r\n        weight3: '0.00',\r\n        weight4: '0.00',\r\n        dataState: '1',\r\n        busiYear: this.businessYear,\r\n      };\r\n      // const { row: newRow } = await $table.insertAt(record, -1);\r\n      // await $table.setActiveCell(newRow, 'code');\r\n      this.tableData.push(record);\r\n    },\r\n    // \r\n    onDel(index) {\r\n      this.tableData.splice(index, 1);\r\n    },\r\n    footerMethod({ columns, data }) {\r\n      return [\r\n        columns.map((column, columnIndex) => {\r\n          if (columnIndex === 0) {\r\n            return ``;\r\n          }\r\n          if (['weight1', 'weight2', 'weight3', 'weight4'].includes(column.property)) {\r\n            return this.sumNum(data, column.property);\r\n          }\r\n          return null;\r\n        }),\r\n      ];\r\n    },\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        count += Number(item[field] ? item[field] : 0);\r\n      });\r\n      return count.toFixed(2);\r\n    },\r\n    // \r\n    handleBeforeSaveData() {\r\n      const { formData } = this;\r\n      // \r\n      const tabelData = _.cloneDeep(this.tableData);\r\n      // \r\n      const leafLevelArr = [];\r\n      this.isHasLeafLevel = false;\r\n      tabelData.forEach((item) => {\r\n        const obj = item;\r\n        const { leafLevelCode } = obj;\r\n        const repeat = leafLevelArr.find((level) => level === leafLevelCode);\r\n        if (repeat && repeat.length > 0) {\r\n          this.isHasLeafLevel = true;\r\n          this.$message.error(`[${obj.leafLevelName}]`);\r\n        } else {\r\n          leafLevelArr.push(leafLevelCode);\r\n        }\r\n      });\r\n      if (this.isHasLeafLevel) {\r\n        return;\r\n      }\r\n      const { orgCodeList } = formData;\r\n      const orgCode = orgCodeList.length > 0 ? orgCodeList[0] : '';\r\n      // const saveData = {\r\n      //   supplyOrgCode: orgCode,\r\n      //   busiYear: this.businessYear,\r\n      //   dataState: '1',\r\n      //   needYear: needGatherYear,\r\n      //   batchName: formData.batchName,\r\n      // };\r\n      const saveData = this.formData;\r\n      saveData.supplyOrgCode = orgCode;\r\n\r\n      const pcTNeedCollectDetlDTOS = [];\r\n\r\n      console.log('---------------------tableData------------------');\r\n      console.log(tabelData);\r\n      tabelData.forEach((tableItem) => {\r\n        const tableObj = tableItem;\r\n        const needGatherYearArr = this.needGatherYearArr || [];\r\n        if (needGatherYearArr && needGatherYearArr.length > 0) {\r\n          needGatherYearArr.forEach((item) => {\r\n            const needGatherYearItem = item;\r\n            const needYearListFormat = this.needYearListFormat || {};\r\n            const visibleWeightColumn = needYearListFormat[needGatherYearItem];\r\n            const tableWeight = tableItem[visibleWeightColumn] || 0;\r\n            const weight = (Number(tableWeight) * this.weightUnit).toFixed(2);\r\n            const delObj = {\r\n              weight,\r\n              needYear: needGatherYearItem,\r\n              leafTypeCode: tableObj.leafTypeCode,\r\n              leafLevelCode: tableObj.leafLevelCode,\r\n              busiYear: this.businessYear,\r\n              dataState: '1',\r\n            };\r\n            pcTNeedCollectDetlDTOS.push(delObj);\r\n          });\r\n        }\r\n      });\r\n      saveData.pcTNeedCollectDetlDTOS = pcTNeedCollectDetlDTOS;\r\n      console.log(this.formData);\r\n      console.log('---------------------save------------------');\r\n      console.log(saveData);\r\n      return saveData;\r\n    },\r\n\r\n    // \r\n    async onSave(type) {\r\n      const $table = this.$refs.table;\r\n      const errMap = await $table.validate(true).catch((err) => err);\r\n      if (errMap) {\r\n        this.$message.error('');\r\n      } else {\r\n        this.$refs.modelRef.validate(async (valid) => {\r\n          if (!valid) return;\r\n          this.saving = true;\r\n\r\n          // \r\n          const saveData = this.handleBeforeSaveData();\r\n          if (!saveData) {\r\n            return;\r\n          }\r\n          console.log(saveData);\r\n\r\n          this.$message.success('');\r\n          if (type === 'saveAndAdd') {\r\n            this.formData.orgCodeList = [];\r\n            this.tableData = [];\r\n          } else {\r\n            this.cancel();\r\n          }\r\n\r\n          // this.$apis.apm.demandSubmit\r\n          //   .save(saveData)\r\n          //   .then((res) => {\r\n          //     console.log(JSON.stringify(res));\r\n          //     if (res.result) {\r\n          //       this.saving = false;\r\n          //       this.$message.success('');\r\n          //       if (type === 'saveAndAdd') {\r\n          //         this.formData.orgCodeList = [];\r\n          //         this.tableData = [];\r\n          //       } else {\r\n          //         this.cancel();\r\n          //       }\r\n          //     } else {\r\n          //       this.saving = false;\r\n          //       this.$message.error('');\r\n          //     }\r\n          //   })\r\n          //   .catch((err) => {\r\n          //     console.log(err);\r\n          //     this.saving = false;\r\n          //   });\r\n        });\r\n      }\r\n    },\r\n    // \r\n    cancel() {\r\n      this.visible = false;\r\n      // form\r\n      this.$refs.modelRef.resetFields();\r\n      this.formData.orgCodeList = [];\r\n      this.tableData = [];\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=29110cab&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":\"\",\"visible\":_vm.visible,\"size\":\"large\",\"is-confirm\":true},on:{\"close\":_vm.cancel}},[_c('ec-container',{attrs:{\"auto\":false,\"height\":\"100%\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',{staticStyle:{\"overflow\":\"hidden\"}},[_c('ec-panel',{attrs:{\"title\":\"\",\"color-code\":\"001\"}},[_c('ec-panel-item',[_c('ec-form',{ref:\"modelRef\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":12}},[_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{ref:\"supplyOrgCode\",attrs:{\"label\":\"\",\"prop\":\"supplyOrgCode\"}},[_c('select-picker',{attrs:{\"title\":\"\",\"lazy\":false,\"search\":false,\"fetchData\":_vm.onFetchBusinessOrgList},model:{value:(_vm.formData.supplyOrgCode),callback:function ($$v) {_vm.$set(_vm.formData, \"supplyOrgCode\", $$v)},expression:\"formData.supplyOrgCode\"}})],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"\"}},[_c('a-input',{attrs:{\"disabled\":_vm.isDisableYear,\"placeholder\":\"\"},model:{value:(_vm.formData.batchName),callback:function ($$v) {_vm.$set(_vm.formData, \"batchName\", $$v)},expression:\"formData.batchName\"}})],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"\"}},[_c('a-input',{attrs:{\"disabled\":_vm.isDisableYear,\"placeholder\":\"\"},model:{value:(_vm.formData.busiYear),callback:function ($$v) {_vm.$set(_vm.formData, \"busiYear\", $$v)},expression:\"formData.busiYear\"}})],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"\"}},[_c('a-date-picker',{attrs:{\"disabled\":_vm.isDisableYear,\"format\":\"YYYY-MM-DD\",\"valueFormat\":\"YYYY-MM-DD\",\"type\":\"date\",\"defaultValue\":_vm.moment(new Date(), 'YYYY-MM-DD'),\"placeholder\":\"\"},model:{value:(_vm.formData.checkDate),callback:function ($$v) {_vm.$set(_vm.formData, \"checkDate\", $$v)},expression:\"formData.checkDate\"}})],1)],1)],1)],1)],1)],1),_c('ec-panel',{attrs:{\"auto\":false}},[_c('ec-panel-toolbar',[_c('ec-panel-item-left',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addRow()}}},[_vm._v(\"\")])],1),_c('ec-panel-item-right',[_c('span',[_vm._v(\"\"+_vm._s(_vm.weightUnitName))])])],1),_c('ec-panel-body',[_c('ec-table',{ref:\"table\",attrs:{\"border\":\"\",\"keep-source\":\"\",\"show-footer\":\"\",\"row-select\":\"\",\"auto\":false,\"height\":\"100%\",\"edit-rules\":_vm.validRules,\"footer-method\":_vm.footerMethod,\"edit-config\":{ trigger: 'click', mode: 'row', showStatus: true },\"data\":_vm.tableData}},[_c('ec-table-col',{attrs:{\"width\":\"70\",\"title\":\"\",\"type\":\"seq\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeName\",\"title\":\"\",\"min-width\":\"180\",\"align\":\"left\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-select',{on:{\"select\":function($event){return _vm.handleGetLeafLevel(row)}},model:{value:(row.leafTypeName),callback:function ($$v) {_vm.$set(row, \"leafTypeName\", $$v)},expression:\"row.leafTypeName\"}},_vm._l((_vm.leafTypeList),function(item){return _c('a-select-option',{key:item.leafTypeCode,attrs:{\"value\":item.leafTypeName}},[_vm._v(_vm._s(item.leafTypeName))])}),1)]}}])}),_c('ec-table-col',{attrs:{\"field\":\"leafLevelName\",\"title\":\"\",\"min-width\":\"180\",\"align\":\"left\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-select',{on:{\"focus\":function($event){return _vm.handleLeafLevelList(row)},\"select\":function($event){return _vm.handleLeafLevelCode(row)}},model:{value:(row.leafLevelName),callback:function ($$v) {_vm.$set(row, \"leafLevelName\", $$v)},expression:\"row.leafLevelName\"}},_vm._l((row.leafLevelList),function(item){return _c('a-select-option',{key:item.leafLevelCode,attrs:{\"value\":item.leafLevelName}},[_vm._v(_vm._s(item.leafLevelName))])}),1)]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight1\",\"title\":_vm.weight1Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight1')}},model:{value:(row.weight1),callback:function ($$v) {_vm.$set(row, \"weight1\", $$v)},expression:\"row.weight1\"}})]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight2\",\"title\":_vm.weight2Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight2')}},model:{value:(row.weight2),callback:function ($$v) {_vm.$set(row, \"weight2\", $$v)},expression:\"row.weight2\"}})]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight3\",\"title\":_vm.weight3Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight3')}},model:{value:(row.weight3),callback:function ($$v) {_vm.$set(row, \"weight3\", $$v)},expression:\"row.weight3\"}})]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight4\",\"title\":_vm.weight4Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight4')}},model:{value:(row.weight4),callback:function ($$v) {_vm.$set(row, \"weight4\", $$v)},expression:\"row.weight4\"}})]}}])}),_c('ec-table-col',{attrs:{\"title\":\"\",\"align\":\"center\",\"min-width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-popconfirm',{attrs:{\"title\":\"\",\"ok-text\":\"\",\"cancel-text\":\"\"},on:{\"confirm\":function($event){return _vm.onDel(row)}}},[_c('a-button',{attrs:{\"type\":\"link\"}},[_vm._v(\"\")])],1)]}}])})],1)],1)],1)],1),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.saving},on:{\"click\":function($event){return _vm.onSave('save')}}},[_vm._v(\"\")]),_c('a-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer\r\n    title=\"\"\r\n    :visible=\"visible\"\r\n    size=\"large\"\r\n    @close=\"cancel\"\r\n    class=\"ec-draw-form\"\r\n    :is-confirm=\"true\"\r\n  >\r\n    <ec-container :auto=\"false\" height=\"100%\" fixed=\"top bottom\" color-code=\"007\">\r\n      <ec-container-body style=\"overflow: hidden\">\r\n        <ec-panel title=\"\" color-code=\"001\">\r\n          <ec-panel-item>\r\n            <ec-form :model=\"formData\" :rules=\"rules\" ref=\"modelRef\">\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"6\">\r\n                  <a-form-model-item label=\"\" prop=\"supplyOrgCode\" ref=\"supplyOrgCode\">\r\n                    <!-- <org-picker v-model=\"formData.supplyOrgCode\" placeholder=\"\" /> -->\r\n                    <select-picker\r\n                      title=\"\"\r\n                      :lazy=\"false\"\r\n                      :search=\"false\"\r\n                      :fetchData=\"onFetchBusinessOrgList\"\r\n                      v-model=\"formData.supplyOrgCode\"\r\n                    />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"6\">\r\n                  <a-form-model-item label=\"\">\r\n                    <a-input\r\n                      :disabled=\"isDisableYear\"\r\n                      v-model=\"formData.batchName\"\r\n                      placeholder=\"\"\r\n                    />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"6\">\r\n                  <a-form-model-item label=\"\">\r\n                    <a-input\r\n                      :disabled=\"isDisableYear\"\r\n                      v-model=\"formData.busiYear\"\r\n                      placeholder=\"\"\r\n                    />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"6\">\r\n                  <a-form-model-item label=\"\">\r\n                    <a-date-picker\r\n                      :disabled=\"isDisableYear\"\r\n                      format=\"YYYY-MM-DD\"\r\n                      v-model=\"formData.checkDate\"\r\n                      valueFormat=\"YYYY-MM-DD\"\r\n                      type=\"date\"\r\n                      :defaultValue=\"moment(new Date(), 'YYYY-MM-DD')\"\r\n                      placeholder=\"\"\r\n                    />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n            </ec-form>\r\n          </ec-panel-item>\r\n        </ec-panel>\r\n\r\n        <ec-panel :auto=\"false\">\r\n          <ec-panel-toolbar>\r\n            <ec-panel-item-left>\r\n              <a-button type=\"primary\" @click=\"addRow()\"></a-button>\r\n            </ec-panel-item-left>\r\n            <ec-panel-item-right>\r\n              <span>{{ weightUnitName }}</span>\r\n            </ec-panel-item-right>\r\n          </ec-panel-toolbar>\r\n          <ec-panel-body>\r\n            <ec-table\r\n              border\r\n              keep-source\r\n              ref=\"table\"\r\n              show-footer\r\n              row-select\r\n              :auto=\"false\"\r\n              height=\"100%\"\r\n              :edit-rules=\"validRules\"\r\n              :footer-method=\"footerMethod\"\r\n              :edit-config=\"{ trigger: 'click', mode: 'row', showStatus: true }\"\r\n              :data=\"tableData\"\r\n            >\r\n              <ec-table-col width=\"70\" title=\"\" type=\"seq\" align=\"center\" />\r\n              <ec-table-col\r\n                field=\"leafTypeName\"\r\n                title=\"\"\r\n                min-width=\"180\"\r\n                align=\"left\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-select v-model=\"row.leafTypeName\" @select=\"handleGetLeafLevel(row)\">\r\n                    <!-- @select=\"(value, key) => projectSelect(value, key)\" -->\r\n\r\n                    <a-select-option\r\n                      v-for=\"item in leafTypeList\"\r\n                      :key=\"item.leafTypeCode\"\r\n                      :value=\"item.leafTypeName\"\r\n                      >{{ item.leafTypeName }}</a-select-option\r\n                    >\r\n                  </a-select>\r\n                </template>\r\n              </ec-table-col>\r\n\r\n              <ec-table-col\r\n                field=\"leafLevelName\"\r\n                title=\"\"\r\n                min-width=\"180\"\r\n                align=\"left\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-select\r\n                    v-model=\"row.leafLevelName\"\r\n                    @focus=\"handleLeafLevelList(row)\"\r\n                    @select=\"handleLeafLevelCode(row)\"\r\n                  >\r\n                    <a-select-option\r\n                      v-for=\"item in row.leafLevelList\"\r\n                      :key=\"item.leafLevelCode\"\r\n                      :value=\"item.leafLevelName\"\r\n                      >{{ item.leafLevelName }}</a-select-option\r\n                    >\r\n                  </a-select>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight1\"\r\n                :title=\"weight1Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight1\"\r\n                    :min=\"0\"\r\n                    :max=\"100000\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight1')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight2\"\r\n                :title=\"weight2Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight2\"\r\n                    :min=\"0\"\r\n                    :max=\"100000\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight2')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight3\"\r\n                :title=\"weight3Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight3\"\r\n                    :min=\"0\"\r\n                    :max=\"100000\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight3')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight4\"\r\n                :title=\"weight4Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight4\"\r\n                    :min=\"0\"\r\n                    :max=\"100000\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight4')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n\r\n              <ec-table-col title=\"\" align=\"center\" min-width=\"130\">\r\n                <template #default=\"{ row }\">\r\n                  <a-popconfirm\r\n                    title=\"\"\r\n                    ok-text=\"\"\r\n                    cancel-text=\"\"\r\n                    @confirm=\"onDel(row)\"\r\n                  >\r\n                    <a-button type=\"link\"></a-button>\r\n                  </a-popconfirm>\r\n                </template>\r\n              </ec-table-col>\r\n            </ec-table>\r\n          </ec-panel-body>\r\n        </ec-panel>\r\n      </ec-container-body>\r\n      <ec-container-footer fixed>\r\n        <a-space>\r\n          <a-button type=\"primary\" @click=\"onSave('save')\" :loading=\"saving\"></a-button>\r\n          <a-button @click=\"cancel\"></a-button>\r\n        </a-space>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n<script>\r\nimport { OrgPicker, SelectPicker } from '@euler-material/ecm-ui';\r\nimport moment from 'moment';\r\nimport { treeFormatList } from '@euler-material/ecm-utils';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'AdminOrgManageEdit',\r\n  components: {\r\n    OrgPicker,\r\n    SelectPicker,\r\n    moment,\r\n  },\r\n  data() {\r\n    const orgNameValid = (rule, value, callback) => {\r\n      if (value.length === 0) {\r\n        return callback(new Error(''));\r\n      }\r\n\r\n      callback();\r\n    };\r\n    return {\r\n      title: '',\r\n      isDisableYear: true,\r\n      isEdit: false,\r\n      rowData: '',\r\n      visible: false,\r\n      saving: false,\r\n      checked: false,\r\n      ruleForm: {},\r\n      formData: {},\r\n      yearDemandList: [],\r\n      leafTypeList: [],\r\n      totalLeafLevelList: [],\r\n      orgCodeList: [],\r\n      businessYear: '',\r\n      weightUnitName: '',\r\n      weightUnit: '',\r\n      tableConfig: [],\r\n      weight1Title: '',\r\n      weight2Title: '',\r\n      weight3Title: '',\r\n      weight4Title: '',\r\n      needYearListFormat: {},\r\n      needGatherYear: '',\r\n      weightColunm: ['weight1', 'weight2', 'weight3', 'weight4'],\r\n      tableData: [],\r\n      oldTableData: [],\r\n      mergeTableData: [],\r\n      currentLeafLevelList: [],\r\n      bizCode: '',\r\n      // \r\n      businessOrgList: [],\r\n      // \r\n      replaceFields: {\r\n        pkey: 'parentBizCode',\r\n        title: 'orgName',\r\n        key: 'bizCode',\r\n        children: 'children',\r\n      },\r\n      data: {},\r\n      validRules: {\r\n        leafTypeName: [{ required: true, message: '' }],\r\n        leafLevelName: [{ required: true, message: '' }],\r\n      },\r\n      rules: {\r\n        supplyOrgCode: [{ validator: orgNameValid, required: true, trigger: 'change' }],\r\n      },\r\n    };\r\n  },\r\n  // mounted() {\r\n  //   this.handleTableColumn();\r\n  // },\r\n  methods: {\r\n    moment,\r\n    // \r\n    async handleQueryBusinessOrgList() {\r\n      const params = {\r\n        busiYear: this.businessYear,\r\n        orgTypeEk: 'TOBACCO',\r\n        orgLevelEk: '3',\r\n        parentBizCode: this.bizCode,\r\n      };\r\n      const res = await this.$apis.common.index.queryTreeByCode(params);\r\n      this.businessOrgList = res.rows || [];\r\n    },\r\n    // \r\n    onFetchBusinessOrgList() {\r\n      return new Promise((resolve) => {\r\n        const data = treeFormatList(this.businessOrgList, this.replaceFields);\r\n        resolve(data);\r\n      });\r\n    },\r\n    // \r\n    async handleLeafLevelList(row) {\r\n      const rowObj = row;\r\n      const leafLevelList = rowObj.leafLevelList || [];\r\n      if (!leafLevelList?.legth && rowObj.leafTypeCode) {\r\n        const data = {\r\n          pageNo: 1,\r\n          pageSize: 100,\r\n          leafTypeCode: rowObj.leafTypeCode,\r\n        };\r\n        const res = await this.$apis.apm.demandSubmit.queryLevel(data);\r\n        rowObj.leafLevelList = res?.rows || [];\r\n        // return res?.rows || [];\r\n      }\r\n    },\r\n    // \r\n    handleNoValue(row, field) {\r\n      const rowObj = row;\r\n      const value = rowObj[field];\r\n      if (!value) {\r\n        rowObj[field] = '0.00';\r\n      }\r\n    },\r\n    // \r\n    async show(data) {\r\n      this.visible = true;\r\n      await this.handleGetLeafTypeList();\r\n      // formData\r\n      this.weightUnit = data.weightUnitObj.weightUnit;\r\n      this.weightUnitName = data.weightUnitObj.weightUnitName;\r\n      const businessYear = data.businessYear > 0 ? data.businessYear : new Date().getFullYear();\r\n      this.businessYear = businessYear;\r\n\r\n      this.needGatherYear = data.needGatherYear || '';\r\n      const needGatherYearArr = this.needGatherYear.split(',');\r\n      this.needGatherYearArr = needGatherYearArr;\r\n      this.businessOrgList = data.businessOrgList || [];\r\n      this.bizCode = data.bizCode || '';\r\n      if (!this.businessOrgList?.length) {\r\n        this.handleQueryBusinessOrgList();\r\n      }\r\n\r\n      // \r\n      this.isEdit = true;\r\n\r\n      const weightTitleObj = data.weightTitleObj || {};\r\n      this.weight1Title = weightTitleObj.weight1Title;\r\n      this.weight2Title = weightTitleObj.weight2Title;\r\n      this.weight3Title = weightTitleObj.weight3Title;\r\n      this.weight4Title = weightTitleObj.weight4Title;\r\n      this.needYearListFormat = data.needYearListFormat;\r\n      this.formData = data?.selectedRows;\r\n      // this.formData.orgCodeList = orgCodeList;\r\n      const tableData = data?.selectedRows?.pcTNeedCollectDetlDTOS;\r\n      // ,\r\n      // this.oldTableData = _.cloneDeep(tableData);\r\n      const mergeTableData = await this.handleMergeDetData(tableData);\r\n      this.mergeTableData = _.cloneDeep(mergeTableData);\r\n      await this.handleUnitParse(mergeTableData);\r\n    },\r\n\r\n    // ,\r\n    async handleMergeDetData(detlList) {\r\n      const mergeLevelArr = [];\r\n      // \r\n      detlList.forEach(async (detl) => {\r\n        const detlObj = detl;\r\n        const parent = mergeLevelArr.find(\r\n          (mergeObj) => mergeObj.leafLevelCode === detl.leafLevelCode,\r\n        );\r\n        if (parent) {\r\n          parent.detlList.push(detlObj);\r\n        } else {\r\n          // \r\n          const { leafTypeCode } = detlObj;\r\n          const leafTypeArr = this.leafTypeList.find((item) => item.leafTypeCode === leafTypeCode);\r\n          // \r\n          const { leafLevelCode } = detlObj;\r\n\r\n          const leafLevelArr = this.totalLeafLevelList.find(\r\n            (item) => item.leafLevelCode === leafLevelCode,\r\n          );\r\n\r\n          const obj = {\r\n            leafTypeName: leafTypeArr?.leafTypeName,\r\n            leafLevelName: leafLevelArr?.leafLevelName,\r\n            leafLevelCode,\r\n            leafTypeCode,\r\n            leafLevelList: detlObj.leafLevelList,\r\n            detlList: [detlObj],\r\n          };\r\n          mergeLevelArr.push(obj);\r\n        }\r\n      });\r\n\r\n      // 4\r\n      this.weightColunm.forEach((item) =>\r\n        this.$refs.table.hideColumn(this.$refs.table.getColumnByField(item)),\r\n      );\r\n\r\n      // \r\n      mergeLevelArr.forEach((row) => {\r\n        const rowData = row;\r\n        const detDataList = row?.detlList || [];\r\n        const needGatherYear = this.needGatherYear || '';\r\n        const needGatherYearArr = needGatherYear.split(',');\r\n        needGatherYearArr.forEach((item) => {\r\n          const needGatherYearValue = item;\r\n          const needYearListFormat = this.needYearListFormat || {};\r\n          const visibleWeightColumn = needYearListFormat[item];\r\n          let totalWeight = 0;\r\n          detDataList.forEach((detItem) => {\r\n            if (needGatherYearValue === `${detItem.needYear}`) {\r\n              totalWeight += Number(detItem.weight || 0);\r\n            }\r\n          });\r\n\r\n          rowData[visibleWeightColumn] = totalWeight.toFixed(2);\r\n          // \r\n          this.$refs.table.showColumn(this.$refs.table.getColumnByField(visibleWeightColumn));\r\n        });\r\n      });\r\n\r\n      return mergeLevelArr;\r\n    },\r\n\r\n    // \r\n    async handleUnitParse(rows) {\r\n      const newTableData = [];\r\n      const handleOlDataRow = rows;\r\n      if (handleOlDataRow && handleOlDataRow.length > 0) {\r\n        handleOlDataRow.forEach((item) => {\r\n          const obj = item;\r\n          obj.weight1 = obj.weight1 ? (Number(obj.weight1) / this.weightUnit).toFixed(2) : '0.00';\r\n          obj.weight2 = obj.weight2 ? (Number(obj.weight2) / this.weightUnit).toFixed(2) : '0.00';\r\n          obj.weight3 = obj.weight3 ? (Number(obj.weight3) / this.weightUnit).toFixed(2) : '0.00';\r\n          obj.weight4 = obj.weight4 ? (Number(obj.weight4) / this.weightUnit).toFixed(2) : '0.00';\r\n          newTableData.push(obj);\r\n        });\r\n        this.tableData = newTableData;\r\n      }\r\n    },\r\n    // \r\n    async handleGetLeafTypeList() {\r\n      if (!this.leafTypeList?.length) {\r\n        const res = await this.$apis.bpm.executionEnter.queryAllLeafType({});\r\n        this.leafTypeList = res?.rows || [];\r\n      }\r\n      if (!this.totalLeafLevelList?.length) {\r\n        const data = {\r\n          leafTypeCode: '',\r\n        };\r\n        const res = await this.$apis.apm.demandSubmit.queryAllLevel(data);\r\n        this.totalLeafLevelList = res?.rows || [];\r\n      }\r\n    },\r\n\r\n    // \r\n    handleLeafLevelCode(row) {\r\n      const rowObj = row;\r\n      const leafLevelList = row.leafLevelList || [];\r\n      leafLevelList.forEach((item) => {\r\n        const leafLevel = item;\r\n        if (leafLevel.leafLevelName === row.leafLevelName) {\r\n          rowObj.leafLevelCode = leafLevel.leafLevelCode;\r\n        }\r\n      });\r\n    },\r\n\r\n    // \r\n    async handleGetLeafLevel(row) {\r\n      const rowObj = row;\r\n      const { leafTypeList } = this;\r\n      leafTypeList.forEach((item) => {\r\n        const obj = item;\r\n        if (obj.leafTypeName === row.leafTypeName) {\r\n          rowObj.leafTypeCode = obj.leafTypeCode;\r\n        }\r\n      });\r\n      const data = {\r\n        pageNo: 1,\r\n        pageSize: 150,\r\n        leafTypeCode: row.leafTypeCode || '',\r\n      };\r\n      const res = await this.$apis.apm.demandSubmit.queryLevel(data);\r\n      rowObj.leafLevelCode = '';\r\n      rowObj.leafLevelName = '';\r\n      rowObj.leafLevelList = res?.rows;\r\n    },\r\n\r\n    async addRow() {\r\n      // const $table = this.$refs.xTable;\r\n      const record = {\r\n        leafTypeCode: '',\r\n        leafTypeName: '',\r\n        leafLevelCode: '',\r\n        leafLevelName: '',\r\n        leafLevelList: [],\r\n        weight1: '0.00',\r\n        weight2: '0.00',\r\n        weight3: '0.00',\r\n        weight4: '0.00',\r\n        dataState: '1',\r\n        busiYear: this.businessYear,\r\n      };\r\n\r\n      this.tableData.push(record);\r\n    },\r\n    // \r\n    onDel(index) {\r\n      this.tableData.splice(index, 1);\r\n    },\r\n    footerMethod({ columns, data }) {\r\n      return [\r\n        columns.map((column, columnIndex) => {\r\n          if (columnIndex === 0) {\r\n            return ``;\r\n          }\r\n          if (['weight1', 'weight2', 'weight3', 'weight4'].includes(column.property)) {\r\n            return this.sumNum(data, column.property);\r\n          }\r\n          return null;\r\n        }),\r\n      ];\r\n    },\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        count += Number(item[field] ? item[field] : 0);\r\n      });\r\n      return count.toFixed(2);\r\n    },\r\n    // \r\n    handleBeforeSaveData() {\r\n      // const { formData } = this;\r\n      // \r\n      const tabelData = _.cloneDeep(this.tableData);\r\n      // \r\n      const leafLevelArr = [];\r\n      this.isHasLeafLevel = false;\r\n      tabelData.forEach((item) => {\r\n        const obj = item;\r\n        const { leafLevelCode } = obj;\r\n        const repeat = leafLevelArr.find((level) => level === leafLevelCode);\r\n        if (repeat && repeat.length > 0) {\r\n          this.isHasLeafLevel = true;\r\n          this.$message.error(`[${obj.leafLevelName}]`);\r\n        } else {\r\n          leafLevelArr.push(leafLevelCode);\r\n        }\r\n      });\r\n      if (this.isHasLeafLevel) {\r\n        return;\r\n      }\r\n\r\n      const saveData = this.formData;\r\n      // saveData.supplyOrgCode = orgCode;\r\n\r\n      const pcTNeedCollectDetlDTOS = [];\r\n\r\n      tabelData.forEach((tableItem) => {\r\n        const tableObj = tableItem;\r\n        const needGatherYearArr = this.needGatherYearArr || [];\r\n        if (needGatherYearArr && needGatherYearArr.length > 0) {\r\n          needGatherYearArr.forEach((item) => {\r\n            const needGatherYearItem = item;\r\n            const needYearListFormat = this.needYearListFormat || {};\r\n            const visibleWeightColumn = needYearListFormat[needGatherYearItem];\r\n            const tableWeight = tableItem[visibleWeightColumn] || 0;\r\n            const weight = (Number(tableWeight) * this.weightUnit).toFixed(2);\r\n            const delObj = {\r\n              weight,\r\n              needYear: needGatherYearItem,\r\n              leafTypeCode: tableObj.leafTypeCode,\r\n              leafLevelCode: tableObj.leafLevelCode,\r\n              busiYear: this.businessYear,\r\n              dataState: '1',\r\n            };\r\n            pcTNeedCollectDetlDTOS.push(delObj);\r\n          });\r\n        }\r\n      });\r\n      saveData.pcTNeedCollectDetlDTOS = pcTNeedCollectDetlDTOS;\r\n\r\n      return saveData;\r\n    },\r\n\r\n    // \r\n    async onSave(type) {\r\n      const $table = this.$refs.table;\r\n      const errMap = await $table.validate(true).catch((err) => err);\r\n      if (errMap) {\r\n        this.$message.error('');\r\n      } else {\r\n        this.$refs.modelRef.validate(async (valid) => {\r\n          if (!valid) return;\r\n          this.saving = true;\r\n\r\n          // \r\n          const saveData = this.handleBeforeSaveData();\r\n          if (!saveData) {\r\n            this.saving = false;\r\n            return;\r\n          }\r\n          const pcTNeedCollectDetlDTOS = saveData.pcTNeedCollectDetlDTOS || [];\r\n          if (!pcTNeedCollectDetlDTOS?.length) {\r\n            this.$message.error('');\r\n            this.saving = false;\r\n            return;\r\n          }\r\n          console.log(saveData);\r\n\r\n          this.$apis.apm.demandSubmit\r\n            .save(saveData)\r\n            .then((res) => {\r\n              console.log(JSON.stringify(res));\r\n              if (res.result) {\r\n                this.saving = false;\r\n                this.$message.success('');\r\n                if (type === 'saveAndAdd') {\r\n                  this.formData.supplyOrgCode = undefined;\r\n                  this.tableData = [];\r\n                  this.$emit('onQuery');\r\n                } else {\r\n                  this.$emit('onQuery');\r\n                  this.cancel();\r\n                }\r\n              } else {\r\n                this.saving = false;\r\n                const msg = res?.msg || '';\r\n                this.$message.error(msg);\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n              this.saving = false;\r\n            });\r\n        });\r\n      }\r\n    },\r\n    // \r\n    cancel() {\r\n      this.visible = false;\r\n      // form\r\n      this.$refs.modelRef.resetFields();\r\n      this.formData.supplyOrgCode = undefined;\r\n      // this.formData.orgCodeList = [];\r\n      this.tableData = [];\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DemandSubmitEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DemandSubmitEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DemandSubmitEdit.vue?vue&type=template&id=8a2834ca&\"\nimport script from \"./DemandSubmitEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./DemandSubmitEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":\"\",\"visible\":_vm.visible,\"size\":\"large\",\"is-confirm\":true},on:{\"close\":_vm.cancel}},[_c('ec-container',{attrs:{\"auto\":false,\"height\":\"100%\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',{staticStyle:{\"overflow\":\"hidden\"}},[_c('ec-panel',{attrs:{\"title\":\"\",\"color-code\":\"001\"}},[_c('ec-panel-item',[_c('ec-form',{ref:\"modelRef\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":12}},[_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{ref:\"supplyOrgCode\",attrs:{\"label\":\"\",\"prop\":\"supplyOrgCode\"}},[_c('select-picker',{attrs:{\"lazy\":false,\"search\":false,\"title\":\"\",\"fetchData\":_vm.onFetchBusinessOrgList},on:{\"ok\":_vm.handleSupplyData},model:{value:(_vm.formData.supplyOrgCode),callback:function ($$v) {_vm.$set(_vm.formData, \"supplyOrgCode\", $$v)},expression:\"formData.supplyOrgCode\"}})],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"\"}},[_c('a-input',{attrs:{\"disabled\":_vm.isDisableYear,\"placeholder\":\"\"},model:{value:(_vm.formData.batchName),callback:function ($$v) {_vm.$set(_vm.formData, \"batchName\", $$v)},expression:\"formData.batchName\"}})],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"\"}},[_c('a-input',{attrs:{\"disabled\":_vm.isDisableYear,\"placeholder\":\"\"},model:{value:(_vm.formData.busiYear),callback:function ($$v) {_vm.$set(_vm.formData, \"busiYear\", $$v)},expression:\"formData.busiYear\"}})],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"\"}},[_c('a-date-picker',{attrs:{\"disabled\":_vm.isDisableYear,\"format\":\"YYYY-MM-DD\",\"valueFormat\":\"YYYY-MM-DD\",\"type\":\"date\",\"defaultValue\":_vm.moment(new Date(), 'YYYY-MM-DD'),\"placeholder\":\"\"},model:{value:(_vm.formData.checkDate),callback:function ($$v) {_vm.$set(_vm.formData, \"checkDate\", $$v)},expression:\"formData.checkDate\"}})],1)],1)],1)],1)],1)],1),_c('ec-panel',{attrs:{\"auto\":false}},[_c('ec-panel-toolbar',[_c('ec-panel-item-left',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addRow()}}},[_vm._v(\"\")])],1),_c('ec-panel-item-right',[_c('span',[_vm._v(\"\"+_vm._s(_vm.weightUnitName))])])],1),_c('ec-panel-body',[_c('ec-table',{ref:\"table\",attrs:{\"border\":\"\",\"keep-source\":\"\",\"show-footer\":\"\",\"auto\":false,\"row-select\":\"\",\"height\":\"70%\",\"edit-rules\":_vm.validRules,\"footer-method\":_vm.footerMethod,\"edit-config\":{ trigger: 'click', mode: 'row', showStatus: true },\"data\":_vm.tableData}},[_c('ec-table-col',{attrs:{\"width\":\"70\",\"title\":\"\",\"type\":\"seq\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeName\",\"title\":\"\",\"min-width\":\"180\",\"align\":\"left\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-select',{attrs:{\"filter-option\":_vm.filterOption},on:{\"select\":function($event){return _vm.handleGetLeafLevelList(row)}},model:{value:(row.leafTypeName),callback:function ($$v) {_vm.$set(row, \"leafTypeName\", $$v)},expression:\"row.leafTypeName\"}},_vm._l((_vm.leafTypeList),function(item){return _c('a-select-option',{key:item.leafTypeCode,attrs:{\"value\":item.leafTypeName}},[_vm._v(_vm._s(item.leafTypeName))])}),1)]}}])}),_c('ec-table-col',{attrs:{\"field\":\"leafLevelName\",\"title\":\"\",\"min-width\":\"180\",\"align\":\"left\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-select',{on:{\"focus\":function($event){return _vm.handleLeafLevelList(row)},\"select\":function($event){return _vm.handleLeafLevelCode(row)}},model:{value:(row.leafLevelName),callback:function ($$v) {_vm.$set(row, \"leafLevelName\", $$v)},expression:\"row.leafLevelName\"}},_vm._l((row.leafLevelList),function(item){return _c('a-select-option',{key:item.leafLevelCode,attrs:{\"value\":item.leafLevelName}},[_vm._v(_vm._s(item.leafLevelName))])}),1)]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight1\",\"title\":_vm.weight1Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight1')}},model:{value:(row.weight1),callback:function ($$v) {_vm.$set(row, \"weight1\", $$v)},expression:\"row.weight1\"}})]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight2\",\"title\":_vm.weight2Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight2')}},model:{value:(row.weight2),callback:function ($$v) {_vm.$set(row, \"weight2\", $$v)},expression:\"row.weight2\"}})]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight3\",\"title\":_vm.weight3Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight3')}},model:{value:(row.weight3),callback:function ($$v) {_vm.$set(row, \"weight3\", $$v)},expression:\"row.weight3\"}})]}}])}),_c('ec-table-col',{attrs:{\"field\":\"weight4\",\"title\":_vm.weight4Title,\"align\":\"right\",\"min-width\":\"180\",\"edit-render\":{}},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"min\":0,\"max\":100000,\"precision\":2},on:{\"blur\":function($event){return _vm.handleNoValue(row, 'weight4')}},model:{value:(row.weight4),callback:function ($$v) {_vm.$set(row, \"weight4\", $$v)},expression:\"row.weight4\"}})]}}])}),_c('ec-table-col',{attrs:{\"title\":\"\",\"align\":\"center\",\"min-width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-popconfirm',{attrs:{\"title\":\"\",\"ok-text\":\"\",\"cancel-text\":\"\"},on:{\"confirm\":function($event){return _vm.onDel(row)}}},[_c('a-button',{attrs:{\"type\":\"link\"}},[_vm._v(\"\")])],1)]}}])})],1)],1)],1)],1),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.saving},on:{\"click\":function($event){return _vm.onSave('saveAndAdd')}}},[_vm._v(\"\")]),_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.saving},on:{\"click\":function($event){return _vm.onSave('save')}}},[_vm._v(\"\")]),_c('a-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer\r\n    title=\"\"\r\n    :visible=\"visible\"\r\n    size=\"large\"\r\n    @close=\"cancel\"\r\n    class=\"ec-draw-form\"\r\n    :is-confirm=\"true\"\r\n  >\r\n    <ec-container :auto=\"false\" height=\"100%\" fixed=\"top bottom\" color-code=\"007\">\r\n      <ec-container-body style=\"overflow: hidden\">\r\n        <ec-panel title=\"\" color-code=\"001\">\r\n          <ec-panel-item>\r\n            <ec-form :model=\"formData\" :rules=\"rules\" ref=\"modelRef\">\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"6\">\r\n                  <a-form-model-item label=\"\" prop=\"supplyOrgCode\" ref=\"supplyOrgCode\">\r\n                    <select-picker\r\n                      :lazy=\"false\"\r\n                      :search=\"false\"\r\n                      title=\"\"\r\n                      :fetchData=\"onFetchBusinessOrgList\"\r\n                      v-model=\"formData.supplyOrgCode\"\r\n                      @ok=\"handleSupplyData\"\r\n                    />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"6\">\r\n                  <a-form-model-item label=\"\">\r\n                    <a-input\r\n                      :disabled=\"isDisableYear\"\r\n                      v-model=\"formData.batchName\"\r\n                      placeholder=\"\"\r\n                    />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"6\">\r\n                  <a-form-model-item label=\"\">\r\n                    <a-input\r\n                      :disabled=\"isDisableYear\"\r\n                      v-model=\"formData.busiYear\"\r\n                      placeholder=\"\"\r\n                    />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"6\">\r\n                  <a-form-model-item label=\"\">\r\n                    <a-date-picker\r\n                      :disabled=\"isDisableYear\"\r\n                      format=\"YYYY-MM-DD\"\r\n                      v-model=\"formData.checkDate\"\r\n                      valueFormat=\"YYYY-MM-DD\"\r\n                      type=\"date\"\r\n                      :defaultValue=\"moment(new Date(), 'YYYY-MM-DD')\"\r\n                      placeholder=\"\"\r\n                    />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n            </ec-form>\r\n          </ec-panel-item>\r\n        </ec-panel>\r\n\r\n        <ec-panel :auto=\"false\">\r\n          <ec-panel-toolbar>\r\n            <ec-panel-item-left>\r\n              <a-button type=\"primary\" @click=\"addRow()\"></a-button>\r\n            </ec-panel-item-left>\r\n            <ec-panel-item-right>\r\n              <span>{{ weightUnitName }}</span>\r\n            </ec-panel-item-right>\r\n          </ec-panel-toolbar>\r\n          <ec-panel-body>\r\n            <ec-table\r\n              border\r\n              keep-source\r\n              ref=\"table\"\r\n              show-footer\r\n              :auto=\"false\"\r\n              row-select\r\n              height=\"70%\"\r\n              :edit-rules=\"validRules\"\r\n              :footer-method=\"footerMethod\"\r\n              :edit-config=\"{ trigger: 'click', mode: 'row', showStatus: true }\"\r\n              :data=\"tableData\"\r\n            >\r\n              <ec-table-col width=\"70\" title=\"\" type=\"seq\" align=\"center\" />\r\n              <ec-table-col\r\n                field=\"leafTypeName\"\r\n                title=\"\"\r\n                min-width=\"180\"\r\n                align=\"left\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-select\r\n                    v-model=\"row.leafTypeName\"\r\n                    :filter-option=\"filterOption\"\r\n                    @select=\"handleGetLeafLevelList(row)\"\r\n                  >\r\n                    <!-- @select=\"(value, key) => projectSelect(value, key)\" -->\r\n\r\n                    <a-select-option\r\n                      v-for=\"item in leafTypeList\"\r\n                      :key=\"item.leafTypeCode\"\r\n                      :value=\"item.leafTypeName\"\r\n                      >{{ item.leafTypeName }}</a-select-option\r\n                    >\r\n                  </a-select>\r\n                </template>\r\n              </ec-table-col>\r\n\r\n              <ec-table-col\r\n                field=\"leafLevelName\"\r\n                title=\"\"\r\n                min-width=\"180\"\r\n                align=\"left\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-select\r\n                    v-model=\"row.leafLevelName\"\r\n                    @focus=\"handleLeafLevelList(row)\"\r\n                    @select=\"handleLeafLevelCode(row)\"\r\n                  >\r\n                    <a-select-option\r\n                      v-for=\"item in row.leafLevelList\"\r\n                      :key=\"item.leafLevelCode\"\r\n                      :value=\"item.leafLevelName\"\r\n                      >{{ item.leafLevelName }}</a-select-option\r\n                    >\r\n                  </a-select>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight1\"\r\n                :title=\"weight1Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight1\"\r\n                    :min=\"0\"\r\n                    :max=\"100000\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight1')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight2\"\r\n                :title=\"weight2Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight2\"\r\n                    :min=\"0\"\r\n                    :max=\"100000\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight2')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight3\"\r\n                :title=\"weight3Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight3\"\r\n                    :min=\"0\"\r\n                    :max=\"100000\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight3')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col\r\n                field=\"weight4\"\r\n                :title=\"weight4Title\"\r\n                align=\"right\"\r\n                min-width=\"180\"\r\n                :edit-render=\"{}\"\r\n              >\r\n                <template #edit=\"{ row }\">\r\n                  <a-input-number\r\n                    v-model=\"row.weight4\"\r\n                    :min=\"0\"\r\n                    :max=\"100000\"\r\n                    :precision=\"2\"\r\n                    @blur=\"handleNoValue(row, 'weight4')\"\r\n                  ></a-input-number>\r\n                </template>\r\n              </ec-table-col>\r\n\r\n              <ec-table-col title=\"\" align=\"center\" min-width=\"130\">\r\n                <template #default=\"{ row }\">\r\n                  <a-popconfirm\r\n                    title=\"\"\r\n                    ok-text=\"\"\r\n                    cancel-text=\"\"\r\n                    @confirm=\"onDel(row)\"\r\n                  >\r\n                    <a-button type=\"link\"></a-button>\r\n                  </a-popconfirm>\r\n                </template>\r\n              </ec-table-col>\r\n            </ec-table>\r\n          </ec-panel-body>\r\n        </ec-panel>\r\n      </ec-container-body>\r\n      <ec-container-footer fixed>\r\n        <a-space>\r\n          <a-button type=\"primary\" @click=\"onSave('saveAndAdd')\" :loading=\"saving\"\r\n            ></a-button\r\n          >\r\n          <a-button type=\"primary\" @click=\"onSave('save')\" :loading=\"saving\"></a-button>\r\n          <a-button @click=\"cancel\"></a-button>\r\n        </a-space>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n<script>\r\nimport { OrgPicker, OrgTree, DivisionPicker, SelectPicker } from '@euler-material/ecm-ui';\r\nimport moment from 'moment';\r\nimport { treeFormatList } from '@euler-material/ecm-utils';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'AdminOrgManageEdit',\r\n  components: {\r\n    OrgPicker,\r\n    OrgTree,\r\n    DivisionPicker,\r\n    SelectPicker,\r\n    moment,\r\n  },\r\n  data() {\r\n    const orgNameValid = (rule, value, callback) => {\r\n      if (value.length === 0) {\r\n        return callback(new Error(''));\r\n      }\r\n\r\n      callback();\r\n    };\r\n    return {\r\n      title: '',\r\n      isDisableYear: true,\r\n      isEdit: false,\r\n      rowData: '',\r\n      visible: false,\r\n      saving: false,\r\n      checked: false,\r\n      ruleForm: {},\r\n      formData: {},\r\n      yearDemandList: [],\r\n      leafTypeList: [],\r\n      orgCodeList: [],\r\n      businessYear: '',\r\n      weightUnitName: '',\r\n      weightUnit: '',\r\n      tableConfig: [],\r\n      weight1Title: '',\r\n      weight2Title: '',\r\n      weight3Title: '',\r\n      weight4Title: '',\r\n      needYearListFormat: {},\r\n      needGatherYear: '',\r\n      needCollectBatchId: '',\r\n      orgName: '',\r\n      weightColunm: ['weight1', 'weight2', 'weight3', 'weight4'],\r\n      tableData: [],\r\n      oldTableData: [],\r\n      // \r\n      businessOrgList: [],\r\n      // \r\n      replaceFields: {\r\n        pkey: 'parentBizCode',\r\n        title: 'orgName',\r\n        key: 'bizCode',\r\n        children: 'children',\r\n      },\r\n      data: {},\r\n      validRules: {\r\n        leafTypeName: [{ required: true, message: '' }],\r\n        leafLevelName: [{ required: true, message: '' }],\r\n      },\r\n      rules: {\r\n        supplyOrgCode: [{ validator: orgNameValid, required: true, trigger: 'change' }],\r\n      },\r\n    };\r\n  },\r\n  // mounted() {\r\n  //   this.handleTableColumn();\r\n  // },\r\n  methods: {\r\n    moment,\r\n    // projectSelect(value, key) {\r\n    //   console.log(key);\r\n    //   this.projectId = key.key;\r\n    // },\r\n    // \r\n    async handleQueryBusinessOrgList() {\r\n      const params = {\r\n        busiYear: this.businessYear,\r\n        orgTypeEk: 'TOBACCO',\r\n        orgLevelEk: '3',\r\n        parentBizCode: this.bizCode,\r\n      };\r\n      const res = await this.$apis.common.index.queryTreeByCode(params);\r\n      this.businessOrgList = res.rows || [];\r\n    },\r\n    // \r\n    onFetchBusinessOrgList() {\r\n      return new Promise((resolve) => {\r\n        const data = treeFormatList(this.businessOrgList, this.replaceFields);\r\n        resolve(data);\r\n      });\r\n    },\r\n    // \r\n    filterOption(input, option) {\r\n      return (\r\n        option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n      );\r\n    },\r\n    // \r\n    async handleLeafLevelList(row) {\r\n      const rowObj = row;\r\n      const leafLevelList = rowObj.leafLevelList || [];\r\n      if (!leafLevelList?.legth && rowObj.leafTypeCode) {\r\n        const data = {\r\n          pageNo: 1,\r\n          pageSize: 100,\r\n          leafTypeCode: rowObj.leafTypeCode,\r\n        };\r\n        const res = await this.$apis.apm.demandSubmit.queryLevel(data);\r\n        rowObj.leafLevelList = res?.rows || [];\r\n        // return res?.rows || [];\r\n      }\r\n    },\r\n    // \r\n    handleSupplyData(option) {\r\n      this.orgName = option?.selectOption?.title;\r\n    },\r\n    // \r\n    handleNoValue(row, field) {\r\n      const rowObj = row;\r\n      const value = rowObj[field];\r\n      if (!value) {\r\n        rowObj[field] = '0.00';\r\n      }\r\n    },\r\n    // \r\n    async show(data) {\r\n      this.visible = true;\r\n      this.data = data;\r\n      this.handleGetLeafTypeList();\r\n      // formData\r\n      this.weightUnit = data.weightUnitObj.weightUnit;\r\n      this.weightUnitName = data.weightUnitObj.weightUnitName;\r\n      const businessYear = data.businessYear > 0 ? data.businessYear : new Date().getFullYear();\r\n      this.businessYear = businessYear;\r\n      this.needCollectBatchId = data.needCollectBatchId;\r\n      this.formData = {\r\n        batchName: data.batchName,\r\n        checkDate: moment(new Date(), 'YYYY-MM-DD'),\r\n        busiYear: businessYear,\r\n        supplyOrgCode: '',\r\n      };\r\n      this.bizCode = data.bizCode || '';\r\n      if (!this.businessOrgList?.length) {\r\n        this.handleQueryBusinessOrgList();\r\n      }\r\n      // \r\n\r\n      this.needGatherYear = data.needGatherYear || '';\r\n\r\n      const tableData = [];\r\n      await this.handleUnitParse(tableData);\r\n      console.log(`${this.isEdit}`);\r\n      this.title = '';\r\n\r\n      const weightTitleObj = data.weightTitleObj || {};\r\n      this.weight1Title = weightTitleObj.weight1Title;\r\n      this.weight2Title = weightTitleObj.weight2Title;\r\n      this.weight3Title = weightTitleObj.weight3Title;\r\n      this.weight4Title = weightTitleObj.weight4Title;\r\n      this.needYearListFormat = data.needYearListFormat;\r\n      const weightColunm = ['weight1', 'weight2', 'weight3', 'weight4'];\r\n      weightColunm.forEach((item) =>\r\n        this.$refs.table.hideColumn(this.$refs.table.getColumnByField(item)),\r\n      );\r\n      const needGatherYearArr = this.needGatherYear.split(',');\r\n      this.needGatherYearArr = needGatherYearArr;\r\n      needGatherYearArr.forEach((item) => {\r\n        const needYearListFormat = this.needYearListFormat || {};\r\n        const visibleWeightColumn = needYearListFormat[item];\r\n        this.$refs.table.showColumn(this.$refs.table.getColumnByField(visibleWeightColumn));\r\n      });\r\n    },\r\n    // \r\n    async handleUnitParse(rows) {\r\n      const newTableData = [];\r\n      const handleOlDataRow = rows;\r\n      if (handleOlDataRow && handleOlDataRow.length > 0) {\r\n        handleOlDataRow.forEach((item) => {\r\n          const obj = item;\r\n          obj.weight1 = obj.weight1 ? (Number(obj.weight1) / this.weightUnit).toFixed(2) : '0.00';\r\n          obj.weight2 = obj.weight2 ? (Number(obj.weight2) / this.weightUnit).toFixed(2) : '0.00';\r\n          obj.weight3 = obj.weight3 ? (Number(obj.weight3) / this.weightUnit).toFixed(2) : '0.00';\r\n          obj.weight4 = obj.weight4 ? (Number(obj.weight4) / this.weightUnit).toFixed(2) : '0.00';\r\n          newTableData.push(obj);\r\n        });\r\n        this.tableData = newTableData;\r\n      }\r\n    },\r\n    // \r\n    async handleGetLeafTypeList() {\r\n      if (!this.leafTypeList?.length) {\r\n        const res = await this.$apis.bpm.executionEnter.queryAllLeafType({});\r\n        this.leafTypeList = res?.rows || [];\r\n      }\r\n    },\r\n\r\n    // \r\n    handleLeafLevelCode(row) {\r\n      const rowObj = row;\r\n      const leafLevelList = row.leafLevelList || [];\r\n      leafLevelList.forEach((item) => {\r\n        const leafLevel = item;\r\n        if (leafLevel.leafLevelName === row.leafLevelName) {\r\n          rowObj.leafLevelCode = leafLevel.leafLevelCode;\r\n        }\r\n      });\r\n    },\r\n\r\n    // \r\n    async handleGetLeafLevelList(row) {\r\n      console.log(row);\r\n      const rowObj = row;\r\n      const { leafTypeList } = this;\r\n      leafTypeList.forEach((item) => {\r\n        const obj = item;\r\n        if (obj.leafTypeName === row.leafTypeName) {\r\n          rowObj.leafTypeCode = obj.leafTypeCode;\r\n        }\r\n      });\r\n      const data = {\r\n        pageNo: 1,\r\n        pageSize: 150,\r\n        leafTypeCode: row.leafTypeCode || '',\r\n      };\r\n      const res = await this.$apis.apm.demandSubmit.queryLevel(data);\r\n      rowObj.leafLevelCode = '';\r\n      rowObj.leafLevelName = '';\r\n      rowObj.leafLevelList = res?.rows;\r\n    },\r\n\r\n    // \r\n    async addRow() {\r\n      // const $table = this.$refs.xTable;\r\n      const record = {\r\n        leafTypeCode: '',\r\n        leafTypeName: '',\r\n        leafLevelCode: '',\r\n        leafLevelName: '',\r\n        leafLevelList: [],\r\n        weight1: '0.00',\r\n        weight2: '0.00',\r\n        weight3: '0.00',\r\n        weight4: '0.00',\r\n        dataState: '1',\r\n        busiYear: this.businessYear,\r\n      };\r\n      // const { row: newRow } = await $table.insertAt(record, -1);\r\n      // await $table.setActiveCell(newRow, 'code');\r\n      this.tableData.push(record);\r\n    },\r\n    // \r\n    onDel(index) {\r\n      this.tableData.splice(index, 1);\r\n    },\r\n    footerMethod({ columns, data }) {\r\n      return [\r\n        columns.map((column, columnIndex) => {\r\n          if (columnIndex === 0) {\r\n            return ``;\r\n          }\r\n          if (['weight1', 'weight2', 'weight3', 'weight4'].includes(column.property)) {\r\n            return this.sumNum(data, column.property);\r\n          }\r\n          return null;\r\n        }),\r\n      ];\r\n    },\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        count += Number(item[field] ? item[field] : 0);\r\n      });\r\n      return count.toFixed(2);\r\n    },\r\n    // \r\n    handleBeforeSaveData() {\r\n      const { formData } = this;\r\n      const { needGatherYear } = this;\r\n      // \r\n      const tabelData = _.cloneDeep(this.tableData);\r\n      // \r\n      const leafLevelArr = [];\r\n      this.isHasLeafLevel = false;\r\n      tabelData.forEach((item) => {\r\n        const obj = item;\r\n        const { leafLevelCode } = obj;\r\n        const repeat = leafLevelArr.find((level) => level === leafLevelCode);\r\n        if (repeat && repeat.length > 0) {\r\n          this.isHasLeafLevel = true;\r\n          this.$message.error(`[${obj.leafLevelName}]`);\r\n        } else {\r\n          leafLevelArr.push(leafLevelCode);\r\n        }\r\n      });\r\n      if (this.isHasLeafLevel) {\r\n        return;\r\n      }\r\n\r\n      const saveData = {\r\n        supplyOrgCode: formData.supplyOrgCode,\r\n        supplyOrgName: this.orgName,\r\n        busiYear: this.businessYear,\r\n        dataState: '1',\r\n        needYear: needGatherYear,\r\n        needCollectBatchId: this.needCollectBatchId,\r\n        batchName: formData.batchName,\r\n      };\r\n      const pcTNeedCollectDetlDTOS = [];\r\n      tabelData.forEach((tableItem) => {\r\n        const tableObj = tableItem;\r\n        const needGatherYearArr = this.needGatherYearArr || [];\r\n        if (needGatherYearArr && needGatherYearArr.length > 0) {\r\n          needGatherYearArr.forEach((item) => {\r\n            const needGatherYearItem = item;\r\n            const needYearListFormat = this.needYearListFormat || {};\r\n            const visibleWeightColumn = needYearListFormat[needGatherYearItem];\r\n            const tableWeight = tableItem[visibleWeightColumn] || 0;\r\n            const weight = (Number(tableWeight) * this.weightUnit).toFixed(2);\r\n            const delObj = {\r\n              weight,\r\n              needYear: needGatherYearItem,\r\n              leafTypeCode: tableObj.leafTypeCode,\r\n              leafLevelCode: tableObj.leafLevelCode,\r\n              busiYear: this.businessYear,\r\n              dataState: '1',\r\n            };\r\n            pcTNeedCollectDetlDTOS.push(delObj);\r\n          });\r\n        }\r\n      });\r\n      saveData.pcTNeedCollectDetlDTOS = pcTNeedCollectDetlDTOS;\r\n      return saveData;\r\n    },\r\n\r\n    // \r\n    async onSave(type) {\r\n      const $table = this.$refs.table;\r\n      const errMap = await $table.validate(true).catch((err) => err);\r\n      if (errMap) {\r\n        this.$message.error('');\r\n      } else {\r\n        this.$refs.modelRef.validate(async (valid) => {\r\n          if (!valid) return;\r\n          this.saving = true;\r\n\r\n          // \r\n          const saveData = this.handleBeforeSaveData();\r\n          if (!saveData) {\r\n            this.saving = false;\r\n            return;\r\n          }\r\n          const pcTNeedCollectDetlDTOS = saveData.pcTNeedCollectDetlDTOS || [];\r\n          if (!pcTNeedCollectDetlDTOS?.length) {\r\n            this.$message.error('');\r\n            this.saving = false;\r\n            return;\r\n          }\r\n          console.log(saveData);\r\n\r\n          this.$apis.apm.demandSubmit\r\n            .save(saveData)\r\n            .then((res) => {\r\n              console.log(JSON.stringify(res));\r\n              if (res.result) {\r\n                this.saving = false;\r\n                this.$message.success('');\r\n                if (type === 'saveAndAdd') {\r\n                  // this.formData.orgCodeList = [];\r\n                  this.formData.supplyOrgCode = undefined;\r\n                  this.tableData = [];\r\n                  this.$emit('onQuery');\r\n                } else {\r\n                  this.$emit('onQuery');\r\n                  this.cancel();\r\n                }\r\n              } else {\r\n                this.saving = false;\r\n                const msg = res?.msg || '';\r\n                this.$message.error(msg);\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n              this.saving = false;\r\n            });\r\n        });\r\n      }\r\n    },\r\n    // \r\n    cancel() {\r\n      this.visible = false;\r\n      // form\r\n      this.$refs.modelRef.resetFields();\r\n      this.formData.supplyOrgCode = undefined;\r\n      this.tableData = [];\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DemandSubmitAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DemandSubmitAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DemandSubmitAdd.vue?vue&type=template&id=66efb720&\"\nimport script from \"./DemandSubmitAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./DemandSubmitAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <ec-container height=\"100%\" title=\"\" icon=\"onetomany\" color-code=\"008\">\r\n    <ec-container-body>\r\n      <ec-panel :auto=\"false\">\r\n        <ec-panel-toolbar>\r\n          <ec-query-panel @query=\"$refs.table.pageAction(1)\" @reset=\"onReset\">\r\n            <ec-query-item label=\"\">\r\n              <a-select allow-clear placeholder=\"\" v-model=\"queryItems.batchName\">\r\n                <a-select-option v-for=\"item in batchList\" :key=\"item.batchName\">\r\n                  {{ item.batchName }}\r\n                </a-select-option>\r\n              </a-select>\r\n            </ec-query-item>\r\n\r\n            <ec-query-item label=\"\">\r\n              <select-picker\r\n                title=\"\"\r\n                :lazy=\"false\"\r\n                :search=\"false\"\r\n                :fetchData=\"onFetchBusinessOrgList\"\r\n                v-model=\"queryItems.supplyOrgCode\"\r\n              />\r\n            </ec-query-item>\r\n\r\n            <!-- <ec-query-item label=\"\">\r\n              <org-picker v-model=\"queryItems.supplyOrgCode\" placeholder=\"\" />\r\n            </ec-query-item> -->\r\n\r\n            <ec-query-item label=\"\">\r\n              <a-select allow-clear placeholder=\"\" v-model=\"queryItems.auditState\">\r\n                <a-select-option v-for=\"item in auditStateList\" :key=\"item.id\">\r\n                  {{ item.name }}\r\n                </a-select-option>\r\n              </a-select>\r\n            </ec-query-item>\r\n          </ec-query-panel>\r\n          <ec-divider />\r\n        </ec-panel-toolbar>\r\n        <ec-panel-header>\r\n          <ec-panel-item>\r\n            <ec-panel-item-left>\r\n              <a-button type=\"primary\" @click=\"onAdd\"></a-button>\r\n              <a-button @click=\"onDel\"></a-button>\r\n              <a-button @click=\"onUpload\"></a-button>\r\n            </ec-panel-item-left>\r\n            <ec-panel-item-right>\r\n              <span class=\"ant-form-text\">  {{ queryItems.businessYear }}</span>\r\n              <span class=\"ant-form-text\">  {{ weightUnitName }}</span>\r\n            </ec-panel-item-right>\r\n          </ec-panel-item>\r\n        </ec-panel-header>\r\n        <ec-panel-body>\r\n          <ec-table\r\n            ref=\"table\"\r\n            border\r\n            height=\"100%\"\r\n            :auto=\"false\"\r\n            @page-action=\"handlePagination\"\r\n            :pagination=\"pagination\"\r\n            :data=\"tableData.rows\"\r\n            @checkbox-all=\"selectAllEvent\"\r\n            @checkbox-change=\"selectRowChange\"\r\n            :loading=\"loading\"\r\n            row-select\r\n            show-footer\r\n            :footer-method=\"footerMethod\"\r\n          >\r\n            <ec-table-col type=\"checkbox\" width=\"50\" align=\"center\"></ec-table-col>\r\n            <ec-table-col title=\"\" type=\"seq\" width=\"70\" align=\"center\" />\r\n            <ec-table-col\r\n              field=\"batchName\"\r\n              title=\"\"\r\n              header-align=\"center\"\r\n              align=\"left\"\r\n              min-width=\"150\"\r\n            />\r\n            <ec-table-col\r\n              field=\"supplyOrgName\"\r\n              title=\"\"\r\n              header-align=\"center\"\r\n              align=\"left\"\r\n              min-width=\"150\"\r\n            />\r\n            <ec-table-col\r\n              field=\"weight1\"\r\n              :title=\"weight1Title\"\r\n              header-align=\"center\"\r\n              align=\"right\"\r\n              width=\"150\"\r\n            />\r\n            <ec-table-col\r\n              field=\"weight2\"\r\n              :title=\"weight2Title\"\r\n              header-align=\"center\"\r\n              align=\"right\"\r\n              width=\"150\"\r\n            />\r\n            <ec-table-col\r\n              field=\"weight3\"\r\n              :title=\"weight3Title\"\r\n              header-align=\"center\"\r\n              align=\"right\"\r\n              width=\"150\"\r\n            />\r\n            <ec-table-col\r\n              field=\"weight4\"\r\n              :title=\"weight4Title\"\r\n              header-align=\"center\"\r\n              align=\"right\"\r\n              width=\"150\"\r\n            />\r\n\r\n            <ec-table-col\r\n              field=\"auditState\"\r\n              title=\"\"\r\n              header-align=\"center\"\r\n              align=\"left\"\r\n              width=\"150\"\r\n            >\r\n              <template #default=\"{ row }\">\r\n                <div v-if=\"row.auditState === '5'\">\r\n                  <span></span>\r\n                </div>\r\n                <div v-else-if=\"row.auditState === '1'\">\r\n                  <span></span>\r\n                </div>\r\n                <div v-else-if=\"row.auditState === '2'\">\r\n                  <span></span>\r\n                </div>\r\n                <div v-else-if=\"row.auditState === '3'\">\r\n                  <span></span>\r\n                </div>\r\n                <div v-else-if=\"row.auditState === '4'\">\r\n                  <span></span>\r\n                </div>\r\n                <div v-else>\r\n                  <span></span>\r\n                </div>\r\n              </template>\r\n            </ec-table-col>\r\n            <ec-table-col title=\"\" align=\"center\" min-width=\"130\">\r\n              <template #default=\"{ row }\">\r\n                <a-button type=\"link\" @click=\"onEdit(row)\"></a-button>\r\n                <a-button type=\"link\" @click=\"onDetail(row)\"></a-button>\r\n              </template>\r\n            </ec-table-col>\r\n          </ec-table>\r\n        </ec-panel-body>\r\n      </ec-panel>\r\n      <demand-submit-edit @onQuery=\"onQuery\" ref=\"DemandSubmitEdit\"></demand-submit-edit>\r\n      <demand-submit-add @onQuery=\"onQuery\" ref=\"DemandSubmitAdd\"></demand-submit-add>\r\n      <detail ref=\"Detail\"> </detail>\r\n    </ec-container-body>\r\n  </ec-container>\r\n</template>\r\n\r\n<script>\r\nimport Detail from './Detail.vue';\r\nimport DemandSubmitEdit from './DemandSubmitEdit.vue';\r\nimport DemandSubmitAdd from './DemandSubmitAdd.vue';\r\nimport { OrgPicker, SelectPicker } from '@euler-material/ecm-ui';\r\nimport { treeFormatList } from '@euler-material/ecm-utils';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'BatchManage',\r\n  components: {\r\n    Detail,\r\n    DemandSubmitEdit,\r\n    DemandSubmitAdd,\r\n    OrgPicker,\r\n    SelectPicker,\r\n  },\r\n  data() {\r\n    return {\r\n      queryItems: {\r\n        supplyOrgCode: undefined,\r\n        businessYear: '',\r\n        batchName: '',\r\n        auditState: '',\r\n        orgCode: '',\r\n      },\r\n      busiYear: '',\r\n      bizCode: '',\r\n      // isDisable: true,\r\n      weight1Title: '',\r\n      weight2Title: '',\r\n      weight3Title: '',\r\n      weight4Title: '',\r\n      loading: false,\r\n      yearDisable: true,\r\n      needYearListFormat: {},\r\n      weightColunm: ['weight1', 'weight2', 'weight3', 'weight4'],\r\n      needGatherYear: '',\r\n      defaultBatchName: '',\r\n      defaultNeedGatherYear: '',\r\n      batchList: [],\r\n      mergeDataList: [],\r\n      pagination: {\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n      // \r\n      businessOrgList: [],\r\n      // \r\n      replaceFields: {\r\n        pkey: 'parentBizCode',\r\n        title: 'orgName',\r\n        key: 'bizCode',\r\n        children: 'children',\r\n      },\r\n      auditStateList: [\r\n        { id: '', name: '' },\r\n        { id: '0', name: '' },\r\n        { id: '1', name: '' },\r\n        { id: '2', name: '' },\r\n        { id: '3', name: '' },\r\n        { id: '4', name: '' },\r\n        { id: '5', name: '' },\r\n      ],\r\n      oldTableData: [],\r\n      weightUnit: 500000,\r\n      weightUnitName: '',\r\n      tableData: {\r\n        rows: [],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    const { appCode } = this.$router.history.current.query;\r\n    this.appCode = appCode || 'CM'; // \r\n  },\r\n  computed: {\r\n    appConfig() {\r\n      return this.$store.getters.getAppConfig;\r\n    },\r\n  },\r\n  methods: {\r\n    cellStyle() {\r\n      return 'text-align:right';\r\n    },\r\n    // \r\n    async handleQueryBusinessOrgList() {\r\n      const params = {\r\n        busiYear: this.busiYear,\r\n        orgTypeEk: 'TOBACCO',\r\n        orgLevelEk: '3',\r\n        parentBizCode: this.bizCode,\r\n      };\r\n      const res = await this.$apis.common.index.queryTreeByCode(params);\r\n      this.businessOrgList = res.rows || [];\r\n    },\r\n    // \r\n    onFetchBusinessOrgList() {\r\n      return new Promise((resolve) => {\r\n        const data = treeFormatList(this.businessOrgList, this.replaceFields);\r\n        resolve(data);\r\n      });\r\n    },\r\n\r\n    async handlePagination(pageNumber, pageSize) {\r\n      this.pagination.pageNumber = pageNumber;\r\n      this.pagination.pageSize = pageSize;\r\n      await this.handleGetYear();\r\n      // this.onQuery();\r\n    },\r\n\r\n    // \r\n    async handleGetYear() {\r\n      if (this.queryItems.businessYear === '') {\r\n        if (!this.orgCode) {\r\n          const orgObj = await this.$apis.bim.curOrg.get({});\r\n          this.bizCode = orgObj?.bizCode;\r\n          this.orgCode = orgObj?.orgUniqueCode; // todo \r\n        }\r\n        const data = {\r\n          bizCode: this.appConfig.bizCode, // todo \r\n          appCode: this.appCode,\r\n          yearTypeCode: 'BIZ_YEAR',\r\n        };\r\n        const businessYearObj = await this.$apis.bpm.executionEnter.getBuYear(data);\r\n        this.busiYear = businessYearObj?.yearValue;\r\n\r\n        const businessYear = businessYearObj?.yearValue || new Date().getFullYear();\r\n        this.queryItems.businessYear = businessYear;\r\n        console.log(`---------${businessYear}`);\r\n        const needYearListFormat = {};\r\n        this.weight1Title = `${businessYear + 1}`;\r\n        needYearListFormat[businessYear + 1] = 'weight1';\r\n        this.weight2Title = `${businessYear + 2}`;\r\n        needYearListFormat[businessYear + 2] = 'weight2';\r\n        this.weight3Title = `${businessYear + 3}`;\r\n        needYearListFormat[businessYear + 3] = 'weight3';\r\n        this.weight4Title = `${businessYear + 4}`;\r\n        needYearListFormat[businessYear + 4] = 'weight4';\r\n        this.needYearListFormat = needYearListFormat;\r\n        // \r\n        const batchParam = {\r\n          busiYear: this.queryItems.businessYear,\r\n        };\r\n        const respone = await this.$apis.apm.demandManage.queryBatch(batchParam);\r\n        const rows = respone?.rows || [];\r\n        this.batchList = rows;\r\n        const defaultBatchName = rows && rows.length > 0 ? rows[0].batchName : '';\r\n        this.queryItems.batchName = defaultBatchName;\r\n        this.defaultBatchName = defaultBatchName;\r\n      }\r\n\r\n      // \r\n      await this.handleNeedYearColumn();\r\n      if (!this.businessOrgList?.length) {\r\n        await this.handleQueryBusinessOrgList();\r\n      }\r\n      await this.onQuery();\r\n    },\r\n\r\n    // \r\n    async handleNeedYearColumn() {\r\n      const that = this;\r\n      this.weightColunm.forEach((item) =>\r\n        this.$refs.table.hideColumn(this.$refs.table.getColumnByField(item)),\r\n      );\r\n      const { batchName } = this.queryItems;\r\n      const data = {\r\n        batchName,\r\n        busiYear: this.queryItems.businessYear,\r\n      };\r\n      const respone = await this.$apis.apm.demandManage.queryNeedGatherYear(data);\r\n      const needGatherYear = respone?.needGatherYear || '';\r\n      if (that.defaultNeedGatherYear === '') {\r\n        that.defaultNeedGatherYear = needGatherYear;\r\n      }\r\n      console.log(`${respone?.needGatherYear}`);\r\n      this.needGatherYear = needGatherYear;\r\n      const needGatherYearArr = needGatherYear.split(',');\r\n      needGatherYearArr.forEach((item) => {\r\n        const needYearListFormat = this.needYearListFormat || {};\r\n        const visibleWeightColumn = needYearListFormat[item];\r\n        this.$refs.table.showColumn(this.$refs.table.getColumnByField(visibleWeightColumn));\r\n      });\r\n\r\n      // \r\n      // const needGatherYear = respone?.needGatherYear || '';\r\n    },\r\n\r\n    // \r\n    async onQuery() {\r\n      const data = {\r\n        pageNo: this.pagination.pageNumber,\r\n        pageSize: this.pagination.pageSize,\r\n        busiYear: this.queryItems.businessYear,\r\n        supplyOrgCode: this.queryItems.supplyOrgCode,\r\n        batchName: this.queryItems.batchName,\r\n        auditState: this.queryItems.auditState,\r\n      };\r\n\r\n      console.log(`-----------${JSON.stringify(data)}`);\r\n      this.loading = true;\r\n      this.$apis.apm.demandSubmit\r\n        .query(data)\r\n        .then((res) => {\r\n          this.loading = false;\r\n          const rows = res?.rows || [];\r\n          this.pagination.total = res.totalRows;\r\n          const oldTableData = _.cloneDeep(rows);\r\n          this.oldTableData = oldTableData;\r\n\r\n          // \r\n\r\n          const tableRows = this.handleMergeDetData(rows);\r\n          this.handleUnitParse(tableRows);\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n\r\n    // S\r\n    handleMergeDetData(rows) {\r\n      console.log(`-----------${JSON.stringify(rows)}`);\r\n      rows.forEach((row) => {\r\n        const rowData = row;\r\n        const detDataList = row?.pcTNeedCollectDetlDTOS || [];\r\n        const needGatherYear = this.needGatherYear || '';\r\n        const needGatherYearArr = needGatherYear.split(',');\r\n        needGatherYearArr.forEach((item) => {\r\n          const needGatherYearValue = item;\r\n          const needYearListFormat = this.needYearListFormat || {};\r\n          const visibleWeightColumn = needYearListFormat[item];\r\n          let totalWeight = 0;\r\n          detDataList.forEach((detItem) => {\r\n            if (needGatherYearValue === `${detItem.needYear}`) {\r\n              totalWeight += Number(detItem.weight || 0);\r\n            }\r\n          });\r\n\r\n          rowData[visibleWeightColumn] = totalWeight.toFixed(2);\r\n        });\r\n      });\r\n      return rows;\r\n    },\r\n    // \r\n    handleUnitParse(rows) {\r\n      const newTableData = [];\r\n      const handleOlDataRow = rows;\r\n\r\n      handleOlDataRow.forEach((item) => {\r\n        const obj = item;\r\n        obj.weight1 = obj.weight1 ? (obj.weight1 / this.weightUnit).toFixed(2) : '0.00';\r\n        obj.weight2 = obj.weight2 ? (obj.weight2 / this.weightUnit).toFixed(2) : '0.00';\r\n        obj.weight3 = obj.weight3 ? (obj.weight3 / this.weightUnit).toFixed(2) : '0.00';\r\n        obj.weight4 = obj.weight4 ? (obj.weight4 / this.weightUnit).toFixed(2) : '0.00';\r\n        newTableData.push(obj);\r\n      });\r\n      this.tableData.rows = newTableData;\r\n    },\r\n    // \r\n    onAdd() {\r\n      if (this.batchList && this.batchList.length > 0) {\r\n        const { batchList } = this;\r\n        const batchObj = batchList.find((item) => item.batchName === this.defaultBatchName);\r\n        const needCollectBatchId = batchObj?.needCollectBatchId;\r\n        const data = this.handleToViewData(null, 'add');\r\n        data.needGatherYear = this.defaultNeedGatherYear;\r\n        data.batchName = this.defaultBatchName;\r\n        data.needCollectBatchId = needCollectBatchId;\r\n        data.businessOrgList = this.businessOrgList;\r\n        data.bizCode = this.bizCode;\r\n        console.log(data);\r\n        this.$refs.DemandSubmitAdd.show(data);\r\n      } else {\r\n        this.$message.error('!');\r\n      }\r\n    },\r\n\r\n    // \r\n    onDetail(row) {\r\n      const data = this.handleToViewData(row, 'detail');\r\n      data.needGatherYear = this.needGatherYear;\r\n      data.batchName = this.queryItems.batchName;\r\n      this.$refs.Detail.show(data);\r\n    },\r\n    // \r\n    onEdit(row) {\r\n      const { batchList } = this;\r\n      const batchObj = batchList.find((item) => item.batchName === this.defaultBatchName);\r\n      const needCollectBatchId = batchObj?.needCollectBatchId;\r\n      const data = this.handleToViewData(row, 'editor');\r\n      data.needGatherYear = this.needGatherYear;\r\n      data.batchName = this.queryItems.batchName;\r\n      data.needCollectBatchId = needCollectBatchId;\r\n      data.businessOrgList = this.businessOrgList;\r\n      data.bizCode = this.bizCode;\r\n      // \r\n      this.$refs.DemandSubmitEdit.show(data);\r\n    },\r\n\r\n    // \r\n    handleToViewData(row, type) {\r\n      const that = this;\r\n      const weightUnitObj = {\r\n        weightUnit: this.weightUnit,\r\n        weightUnitName: this.weightUnitName,\r\n      };\r\n      const selectedRows = _.cloneDeep(row); // \r\n      that.mergeDataList = [];\r\n      // \r\n      if (type === 'editor') {\r\n        const detlList = selectedRows.pcTNeedCollectDetlDTOS || [];\r\n        this.mergeDataList = detlList;\r\n        for (let index = 0; index < detlList.length; index++) {\r\n          const item = detlList[index];\r\n          this.$apis.apm.demandSubmit\r\n            .queryLevel({\r\n              pageNo: 1,\r\n              pageSize: 100,\r\n              leafTypeCode: item.leafTypeCode,\r\n            })\r\n            .then((res) => {\r\n              this.$set(item, 'leafLevelList', res.rows);\r\n            })\r\n            .then(() => {\r\n              if (index === detlList.length - 1) {\r\n                that.mergeDataList = item;\r\n              }\r\n            });\r\n        }\r\n        selectedRows.pcTNeedCollectDetlDTOS = that.mergeDataList;\r\n      }\r\n\r\n      // const { needGatherYear } = this;\r\n      const weightTitleObj = {\r\n        weight1Title: this.weight1Title,\r\n        weight2Title: this.weight2Title,\r\n        weight3Title: this.weight3Title,\r\n        weight4Title: this.weight4Title,\r\n      };\r\n      const { needYearListFormat } = this;\r\n\r\n      const data = {\r\n        weightUnitObj,\r\n        businessYear: this.queryItems.businessYear,\r\n        selectedRows,\r\n        weightTitleObj,\r\n        needYearListFormat,\r\n        // needGatherYear: this.needGatherYear,\r\n        type,\r\n      };\r\n      return data;\r\n    },\r\n    // \r\n    onUpload() {\r\n      if (!this.selectedRows || this.selectedRows.length <= 0) {\r\n        this.$message.error('');\r\n        return;\r\n      }\r\n      const submitData = this.selectedRows.find((item) => item.auditState !== '0');\r\n      console.log(`--${JSON.stringify(submitData)}`);\r\n      if (submitData) {\r\n        this.$message.error('');\r\n        return;\r\n      }\r\n      this.$confirm({\r\n        title: '?',\r\n        content: () => (\r\n          <div style=\"color:red;\">\r\n            ''''\r\n          </div>\r\n        ),\r\n        onOk: () => {\r\n          this.loading = true;\r\n          const idList = [];\r\n          for (let i = 0; i < this.selectedRows.length; i++) {\r\n            idList.push(this.selectedRows[i].needCollectMasId);\r\n          }\r\n          this.$apis.apm.demandSubmit\r\n            .upload({ needCollectMasIds: idList })\r\n            .then((res) => {\r\n              console.log(JSON.stringify(res));\r\n              if (res.result) {\r\n                this.loading = false;\r\n                this.$refs.table.pageAction(1);\r\n                this.$message.success('');\r\n              } else {\r\n                this.loading = false;\r\n                this.$message.error('');\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              this.loading = false;\r\n              if (error) {\r\n                this.$message.error(error.message || '');\r\n              } else {\r\n                this.$message.error('');\r\n              }\r\n            });\r\n        },\r\n      });\r\n    },\r\n\r\n    // \r\n    onDel() {\r\n      if (!this.selectedRows || this.selectedRows.length <= 0) {\r\n        this.$message.error('');\r\n        return;\r\n      }\r\n      const submitData = this.selectedRows.find(\r\n        (item) => item.auditState === '1' || item.auditState === '3' || item.auditState === '5',\r\n      );\r\n      console.log(`--${JSON.stringify(submitData)}`);\r\n      if (submitData) {\r\n        this.$message.error('');\r\n        return;\r\n      }\r\n      this.$confirm({\r\n        title: '?',\r\n        content: () => (\r\n          <div style=\"color:red;\">\r\n            ''''\r\n          </div>\r\n        ),\r\n        onOk: () => {\r\n          this.loading = true;\r\n          const idList = [];\r\n          for (let i = 0; i < this.selectedRows.length; i++) {\r\n            idList.push(this.selectedRows[i].needCollectMasId);\r\n          }\r\n          this.$apis.apm.demandSubmit\r\n            .delete({ needCollectMasIds: idList })\r\n            .then((res) => {\r\n              console.log(JSON.stringify(res));\r\n              if (res.result) {\r\n                this.loading = false;\r\n                this.$refs.table.pageAction(1);\r\n                this.$message.success('');\r\n              } else {\r\n                this.loading = false;\r\n                this.$message.error('');\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              this.loading = false;\r\n              if (error) {\r\n                this.$message.error(error.message || '');\r\n              } else {\r\n                this.$message.error('');\r\n              }\r\n            });\r\n        },\r\n      });\r\n    },\r\n\r\n    // \r\n    onReset() {\r\n      this.queryItems.auditState = '';\r\n      this.queryItems.batchName = this.defaultBatchName;\r\n      this.queryItems.supplyOrgCode = undefined;\r\n      this.$refs.table.pageAction(1);\r\n    },\r\n\r\n    // \r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        count += Number(item[field] || 0);\r\n      });\r\n      return count.toFixed(2);\r\n    },\r\n    // \r\n    footerMethod({ columns, data }) {\r\n      return [\r\n        columns.map((column, columnIndex) => {\r\n          if (columnIndex === 0) {\r\n            return '';\r\n          }\r\n          if (['weight1', 'weight2', 'weight3', 'weight4'].includes(column.property)) {\r\n            return this.sumNum(data, column.property);\r\n          }\r\n          return null;\r\n        }),\r\n      ];\r\n    },\r\n\r\n    // \r\n    selectAllEvent({ checked, records }) {\r\n      console.log(`${checked}-records----${JSON.stringify(records)}`);\r\n      this.selectedRows = records;\r\n    },\r\n\r\n    // \r\n    selectRowChange({ checked, records }) {\r\n      console.log(\r\n        `${checked}-records----${JSON.stringify(records)}`,\r\n      );\r\n      this.selectedRows = records;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=bcfb1e56&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}