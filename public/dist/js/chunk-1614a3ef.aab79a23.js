(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1614a3ef"],{1410:function(e,t,a){"use strict";a("7305")},7305:function(e,t,a){},af39:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ec-container",{attrs:{title:"联营加工调拨计划量登记",icon:"onetomany","color-code":"001"}},[a("ec-container-body",[a("ec-panel",[a("ec-panel-toolbar",[a("ec-panel-item",[a("ec-panel-item-right",{staticStyle:{"font-size":"16px"}},[e._v("业务年度: "+e._s(e.busiYear))])],1),a("ec-panel-item",[a("ec-query-panel",{attrs:{defaultFold:!0},on:{query:e.queryHandle,reset:e.resetHandle},scopedSlots:e._u([{key:"inner",fn:function(){return[a("ec-query-item",{attrs:{label:"办理依据"}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:e.listQuery.remark,callback:function(t){e.$set(e.listQuery,"remark",t)},expression:"listQuery.remark"}})],1)]},proxy:!0}])},[a("ec-query-item",{attrs:{label:"供方单位"}},[a("OrgPicker",{model:{value:e.listQuery.supplyOrgCode,callback:function(t){e.$set(e.listQuery,"supplyOrgCode","string"===typeof t?t.trim():t)},expression:"listQuery.supplyOrgCode"}})],1),a("ec-query-item",{attrs:{label:"需方单位"}},[a("OrgPicker",{model:{value:e.listQuery.demandOrgCode,callback:function(t){e.$set(e.listQuery,"demandOrgCode","string"===typeof t?t.trim():t)},expression:"listQuery.demandOrgCode"}})],1),a("ec-query-item",{attrs:{label:"计量单位"}},[a("ec-select",{attrs:{showSearch:"",allowClear:"",placeholder:"请选择"},model:{value:e.listQuery.weightUnit,callback:function(t){e.$set(e.listQuery,"weightUnit",t)},expression:"listQuery.weightUnit"}},e._l(e.weightUnitList,(function(t){return a("a-select-option",{key:t.enumKey,attrs:{value:t.enumKey}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("ec-query-item",{attrs:{label:"操作类型"}},[a("a-select",{attrs:{allowClear:"",placeholder:"请选择操作类型"},model:{value:e.listQuery.operateType,callback:function(t){e.$set(e.listQuery,"operateType",t)},expression:"listQuery.operateType"}},e._l(e.operateTypeList,(function(t){return a("a-select-option",{key:t.enumKey,attrs:{value:t.enumKey}},[e._v(e._s(t.name))])})),1)],1)],1)],1),a("ec-divider")],1),a("ec-panel-body",[a("ec-v-layout",[a("ec-v-item",[a("ec-panel-toolbar",[a("a-button",{attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("新增")])],1)],1),a("ec-v-item",[a("ec-table",{ref:"table",attrs:{data:e.tableData,loading:e.loading,border:"",pagination:e.pagination,"footer-method":e.footerMethod,"show-footer":""},on:{"page-action":e.handlePagination}},[a("ec-table-col",{attrs:{width:"60",type:"checkbox",align:"center"}}),a("ec-table-col",{attrs:{title:"序号",width:"80",type:"seq",align:"center"}}),a("ec-table-col",{attrs:{title:"供方单位",field:"supplyOrgName"}}),a("ec-table-col",{attrs:{title:"需方单位",field:"demandOrgName"}}),a("ec-table-col",{attrs:{title:"计划核定量",field:"apprWeight",align:"right"}}),a("ec-table-col",{attrs:{title:"办理依据",field:"remark"}}),a("ec-table-col",{attrs:{title:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("a-button",{attrs:{type:"link"},on:{click:function(t){return e.onDetails(r,"range")}}},[e._v("详细")])]}}])})],1)],1)],1)],1)],1),a("add-modal",{ref:"addModal",attrs:{operateTypeList:e.operateTypeList}})],1)],1)},i=[],l=a("c7eb"),n=a("5530"),o=a("1da1"),c=(a("d3b7"),a("159b"),a("a9e3"),a("b680"),a("d81d"),a("caad"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ec-drawer",{staticClass:"ec-draw-form",attrs:{title:e.isAdd?"新增":"详细",visible:e.visible,size:"large","is-confirm":!0},on:{close:e.cancel}},[a("ec-container",[a("ec-container-body",[a("ec-panel",{attrs:{title:"第一步: 选取供需方单位、操作类型","color-code":"003"}},[a("ec-panel-item",[a("ec-panel-item-right",{staticStyle:{"font-size":"16px"}},[e._v("业务年度: "+e._s(e.busiYear))])],1),a("ec-panel-item",[a("ec-form",{ref:"modelAddForm",attrs:{model:e.ruleForm,rules:e.rules}},[a("a-row",{attrs:{type:"flex",gutter:12}},[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"供方单位",prop:"supplyOrgCode"}},[a("OrgPicker",{model:{value:e.ruleForm.supplyOrgCode,callback:function(t){e.$set(e.ruleForm,"supplyOrgCode","string"===typeof t?t.trim():t)},expression:"ruleForm.supplyOrgCode"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"需方单位",prop:"demandOrgCode"}},[a("OrgPicker",{model:{value:e.ruleForm.demandOrgCode,callback:function(t){e.$set(e.ruleForm,"demandOrgCode","string"===typeof t?t.trim():t)},expression:"ruleForm.demandOrgCode"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"操作类型",prop:"operateType"}},[a("a-select",{attrs:{allowClear:"",placeholder:"请选择操作类型"},model:{value:e.ruleForm.operateType,callback:function(t){e.$set(e.ruleForm,"operateType",t)},expression:"ruleForm.operateType"}},e._l(e.operateTypeList,(function(t){return a("a-select-option",{key:t.enumKey,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1),a("a-row",{attrs:{type:"flex",gutter:12}},[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"办理依据",prop:"remark"}},[a("a-input",{attrs:{placeholder:"请输入办理依据",autocomplete:"off"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)],1)],1)],1)],1),a("ec-panel",{attrs:{title:"步骤二: 录入/编辑数量","color-code":"003"}},[a("ec-panel-item",[a("ec-table",{ref:"xTable",attrs:{border:"",auto:"",height:"","edit-config":{trigger:"click",mode:"row"},data:e.tableData}},[a("ec-table-col",{attrs:{title:"调整前量",field:"baApprWeight",align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){var r=t.row;return[a("a-input",{model:{value:r.baApprWeight,callback:function(t){e.$set(r,"baApprWeight",t)},expression:"row.baApprWeight"}})]}}])}),a("ec-table-col",{attrs:{title:"本次调整量",field:"apprWeight",align:"center","edit-render":{name:"input",attrs:{type:"text"}}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.apprWeight?a("div",[a("a-input",{on:{change:function(t){return e.apprWeightChange(r)}},model:{value:r.apprWeight,callback:function(t){e.$set(r,"apprWeight",t)},expression:"row.apprWeight"}})],1):e._e()]}}])}),a("ec-table-col",{attrs:{title:"调整后量",field:"aaApprWeight",align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){var r=t.row;return[a("a-input",{model:{value:r.aaApprWeight,callback:function(t){e.$set(r,"aaApprWeight",t)},expression:"row.aaApprWeight"}})]}}])})],1)],1)],1),a("ec-panel",{attrs:{title:"第三步: 上传凭据附件","color-code":"003"}},[a("ec-panel-item",[a("a-upload",{attrs:{fileList:e.fileList,action:"/dts/plm/c/pcTAsSliceApprTpl/fileUploadPcTAsAttachFiles/v1",size:5210},on:{change:e.fileUpload},model:{value:e.ruleForm.file,callback:function(t){e.$set(e.ruleForm,"file",t)},expression:"ruleForm.file"}},[e._v(" 附件："),e.isAdd?a("a-button",{attrs:{icon:"upload"}},[e._v("上传文件")]):e._e()],1),a("p",{staticClass:"tips"},[e._v(" 支持扩展名：.rar .zip .doc .docx .pdf .jpg .xls .xlsx 文件大小不超过50M ")])],1)],1)],1),e.isAdd?a("ec-container-footer",{attrs:{fixed:""}},[a("a-button",{attrs:{type:"primary"},on:{click:e.saveUpdate}},[e._v("保存并新增")]),a("a-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),a("a-button",{on:{click:e.cancel}},[e._v("关闭")])],1):e._e()],1)],1)}),s=[],u=(a("e9c4"),a("c5ed")),d={name:"AdminOrgManageEdit",components:{OrgPicker:u["b"]},props:{operateTypeList:{type:Array}},data:function(){return{busiYear:(new Date).getFullYear(),fileList:[],rowData:"",visible:!1,checked:!1,ruleForm:{},rules:{},planMakeOrgList:[],tableData:[],isAdd:!0,SAVE_STORAGE:""}},computed:{listenChange:function(){var e=this.ruleForm,t=e.supplyOrgCode,a=e.demandOrgCode;return{supplyOrgCode:t,demandOrgCode:a}}},watch:{listenChange:function(e){var t=this;if(e.supplyOrgCode&&e.demandOrgCode){var a={demandOrgCode:e.demandOrgCode[0],supplyOrgCode:e.supplyOrgCode[0],busiYear:this.busiYear};console.log(a),this.$apis.apm.dailyPool.queryBaAdjustPcTAsAssoApprTpl(a).then((function(e){console.log(e);var a=e.aaApprWeight,r=e.baApprWeight;t.tableData=[{aaApprWeight:a||0,baApprWeight:r||0,pprWeight:t.ruleForm.apprWeight}],console.log(t.tableData)})).catch((function(e){console.log(e)}))}console.log(e)}},methods:{apprWeightChange:function(e){this.$set(this.tableData[0],"aaApprWeight",e.ApprWeight+e.apprWeight)},fileUpload:function(e){var t=this;return Object(o["a"])(Object(l["a"])().mark((function a(){var r,i,n;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t,!r._data.uploading){a.next=3;break}return a.abrupt("return");case 3:if(i=e.file.uid,!i||r._data.fileUid===i){a.next=11;break}return t._data.fileUid=i,n=new FormData,n.append("file",e.file.originFileObj),r._data.uploading=!0,a.next=11,$ec.http.post("/dts/plm/c/pcTAsSliceApprTpl/fileUploadPcTAsAttachFile/v1",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),t.ruleForm.fileId=e.id,e.id?t.$message.success("上传成功"):t.$message.error("上传失败")})).catch((function(e){console.log(e)})).finally((function(){r._data.uploading=!1}));case 11:case"end":return a.stop()}}),a)})))()},show:function(e){var t=this;this.visible=!0,e?(this.isAdd=!1,this.$apis.apm.dailyPool.queryDetailPcTAsAssoApprTpl({asAssoApprTplId:e.asAssoApprTplId}).then((function(e){console.log(e),t.ruleForm=e})).catch((function(e){console.log(e)}))):(this.ruleForm={},this.tableData=[{}])},save:function(){localStorage.setItem("SAVE_STORAGE",JSON.stringify(this.ruleForm))},saveUpdate:function(){this.$refs.modelAddForm.validate((function(e){e?console.log("验证通过"):console.log("验证未通过")})),this.$apis.apm.dailyThin.addPagePcTAsSliceApprTpl(Object(n["a"])(Object(n["a"])({},this.ruleForm),{},{demandOrgCode:this.ruleForm.demandOrgCode[0],supplyOrgCode:this.ruleForm.supplyOrgCode[0]})).then((function(e){console.log(e)}))},cancel:function(){this.visible=!1,this.isAdd=!0,this.$refs.modelAddForm.resetFields()}},created:function(){}},p=d,f=(a("1410"),a("2877")),m=Object(f["a"])(p,c,s,!1,null,"54b588bf",null),g=m.exports,h={name:"dailyPool",components:{AddModal:g,OrgPicker:u["b"]},data:function(){return{tableData:[],weightUnitList:[],operateTypeList:[],busiYear:(new Date).getFullYear(),loading:!1,listQuery:{},pagination:{pageNumber:1,pageSize:10,total:0}}},computed:{},methods:{onAdd:function(){console.log("ggggggggggggggggggggggggggggggggg"),this.$refs.addModal.show()},onDetails:function(e){this.$refs.addModal.show(e)},resetHandle:function(){this.listQuery={}},getTableData:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$apis.apm.dailyPool.queryPagePcTAsAssoApprTpl(Object(n["a"])(Object(n["a"])({},e.listQuery),{},{pageNo:e.pagination.pageNumber,pageSize:e.pagination.pageSize}));case 3:a=t.sent,console.log(a),e.tableData=a.rows,e.pagination.total=a.totalRows,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("err",t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handlePagination:function(e,t){this.pagination.pageNumber=e,this.pagination.pageSize=t},queryHandle:function(){this.getTableData()},getFormat:function(){var e=this;this.$apis.apm.dailyPool.priceSearchformat({functionCode:"MK5705",enmuType:"TL_PRICE_UNIT"}).then((function(t){e.bizYear=null===t||void 0===t?void 0:t.bizYear,e.leafTypeList=null===t||void 0===t?void 0:t.leafTypeList,e.leafVarietyList=null===t||void 0===t?void 0:t.leafVarietyList,console.log(t),e.getTableData()}))},init:function(){this.getEnumType()},getEnumType:function(){var e=this;this.$apis.enum.index.getEnumType({enumTypeCodes:["OPERATE_TYPE","WEIGHT_UNIT"]}).then((function(t){t&&(console.log(t),e.operateTypeList=t.enumMap.OPERATE_TYPE,e.weightUnitList=t.enumMap.WEIGHT_UNIT)})).catch((function(e){console.log(e)}))},sumNum:function(e,t){var a=0;return e.forEach((function(e){a+=Number(e[t])})),a.toFixed(2)},footerMethod:function(e){var t=this,a=e.columns,r=e.data;return[a.map((function(e,a){return 0===a?"合计":["materialWeight"].includes(e.property)?t.sumNum(r,e.property):null}))]}},created:function(){this.init()}},y=h,v=Object(f["a"])(y,r,i,!1,null,null,null);t["default"]=v.exports},c5ed:function(e,t,a){"use strict";a.d(t,"b",(function(){return l["a"]})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return O}));var r=a("24f1"),i=a("9d27"),l=a("6486"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TreeSearch",e._g(e._b({ref:"org",attrs:{lazy:e.lazy,join:e.join,search:e.search,activeFirst:e.activeFirst,initLevel:e.initLevel,fetchData:e.fetchGetTree,fetchDataById:e.fetchGetTreeById,fetchDataByName:e.fetchGetTreeByName,replaceFields:e.replaceFields,valueField:e.valueField,isShowParent:e.isShowParent},on:{select:e.onSelectTreeData}},"TreeSearch",e.$attrs,!1),e.$listeners),[a("template",{slot:"title"},[e._t("title")],2)],2)},o=[],c=a("5530"),s=(a("a9e3"),a("d3b7"),a("ac16"),a("f8c9"),a("b0c0"),a("f2be")),u={inheritAttrs:!1,name:"OrgTree",components:{TreeSearch:r["a"]},props:{baseUrl:{type:String,default:"/dts/bim"},treeApi:{type:String,default:"/q/cmTOrgMain/getCmTOrgMainTreeDataList/v1"},treeApiById:{type:String,default:"/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgUniqueCode/v1"},treeApiByName:{type:String,default:"/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgName/v1"},placeholder:{type:String,default:"请选择关键词搜索"},multiple:{type:Boolean,default:!1},isShowParent:{type:Boolean,default:!1},activeFirst:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},initLevel:{type:[Number,null],default:2},limitLevel:{type:[Number,String,null],default:null},replaceFields:{type:Object,default:function(){return{pkey:"pkey",title:"title",key:"key",children:"children"}}},valueField:{type:String,default:"key"},join:{type:Boolean,default:!1},search:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0}},data:function(){return{otherParams:{}}},methods:{fetchGetTree:function(e){var t=this;return new Promise((function(a,r){var i=null===e||void 0===e?void 0:e.code;i&&Reflect.deleteProperty(e,"code"),$ec.http.send(t.baseUrl+t.treeApi,Object(c["a"])(Object(c["a"])({orgLevelNum:t.limitLevel,orgUniqueCode:i},e),t.otherParams)).then((function(e){var r=e.rows,i=Object(s["g"])(r,t.replaceFields);a(i)})).catch((function(e){r(e)})).finally((function(){console.log("finally")}))}))},fetchGetTreeById:function(e){var t=this;return new Promise((function(a,r){var i=null===e||void 0===e?void 0:e.code;i&&Reflect.deleteProperty(e,"code"),$ec.http.send(t.baseUrl+t.treeApiById,Object(c["a"])(Object(c["a"])({orgLevelNum:t.limitLevel,orgUniqueCode:i},e),t.otherParams)).then((function(e){var r=e.rows,i=Object(s["g"])(r,t.replaceFields);a(i)})).catch((function(e){r(e)})).finally((function(){console.log("finally")}))}))},fetchGetTreeByName:function(e){var t=this;return new Promise((function(a,r){var i=null===e||void 0===e?void 0:e.name;i&&Reflect.deleteProperty(e,"name"),$ec.http.send(t.baseUrl+t.treeApiByName,Object(c["a"])(Object(c["a"])({orgLevelNum:t.limitLevel,orgName:i},e),t.otherParams)).then((function(e){var r=e.rows,i=Object(s["g"])(r,t.replaceFields);a(i)})).catch((function(e){r(e)})).finally((function(){console.log("finally")}))}))},onSelectTreeData:function(e){var t=e.treeSelectedKeys,a=e.treeData,r=e.selectOption;Object.assign(this,{selectedKeys:t,selectOption:r,treeData:a})},onRefreshTree:function(e){this.otherParams=e,this.$refs.org&&this.$refs.org.handleTreeData(e)},onSelectTreeFn:function(e){this.$refs.org&&this.$refs.org.onSelectTreeFn(e)}}},d=u,p=a("2877"),f=Object(p["a"])(d,n,o,!1,null,null,null),m=f.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("SelectPicker",e._g(e._b({attrs:{title:e.title,value:e.value,search:e.search,"allow-clear":e.allowClear,placeholder:e.placeholder,multiple:e.multiple,disabled:e.disabled,valueField:e.valueField,fetchData:e.fetchGetTree,fetchDataById:e.fetchGetTreeById,fetchDataByName:e.fetchGetTreeByName}},"SelectPicker",e.$attrs,!1),e.$listeners))},h=[],y={inheritAttrs:!1,name:"DivisionPicker",components:{SelectPicker:i["a"]},model:{prop:"value",event:"change"},props:{value:{type:[String,Array,null],default:null},baseUrl:{type:String,default:"/dts/bim"},treeApi:{type:String,default:"/q/cmOmDivision/getCmOmDivisionTreeDataList/v1"},treeApiById:{type:String,default:"/q/cmOmDivision/getCmOmDivisionTreeParentById/v1"},treeApiByName:{type:String,default:"/q/cmOmDivision/getCmOmDivisionTreeParentByIName/v1"},placeholder:{type:String,default:"请选择关键词搜索"},multiple:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},title:{type:String,default:"行政区域选择器"},search:{type:Boolean,default:!0},width:{type:[String,Number],default:"425px"},height:{type:[String,Number],default:"370px"},top:{type:[String,Number],default:"100px"},centered:{type:Boolean,default:!1},initLevel:{type:[Number,null],default:2},limitLevel:{type:[Number,null],default:null},replaceFields:{type:Object,default:function(){return{pkey:"pkey",title:"title",key:"key",children:"children"}}},valueField:{type:String,default:"key"},join:{type:Boolean,default:!1},lazy:{type:Boolean,default:!0}},methods:{fetchGetTree:function(e){var t=this;return new Promise((function(a,r){var i=null===e||void 0===e?void 0:e.code;i&&Reflect.deleteProperty(e,"code"),$ec.http.send(t.baseUrl+t.treeApi,Object(c["a"])({divisionLevelNum:t.limitLevel,divisionUniqueCode:i},e)).then((function(e){var r=e.rows,i=Object(s["g"])(r,t.replaceFields);a(i)})).catch((function(e){r(e)})).finally((function(){console.log("finally")}))}))},fetchGetTreeById:function(e){var t=this;return new Promise((function(a,r){var i=null===e||void 0===e?void 0:e.code;i&&Reflect.deleteProperty(e,"code"),$ec.http.send(t.baseUrl+t.treeApiById,Object(c["a"])({divisionLevelNum:t.limitLevel,divisionUniqueCode:i},e)).then((function(e){var r=e.rows,i=Object(s["g"])(r,t.replaceFields);a(i)})).catch((function(e){r(e)})).finally((function(){console.log("finally")}))}))},fetchGetTreeByName:function(e){var t=this;return new Promise((function(a,r){var i=null===e||void 0===e?void 0:e.name;i&&Reflect.deleteProperty(e,"name"),$ec.http.send(t.baseUrl+t.treeApiByName,Object(c["a"])({divisionLevelNum:t.limitLevel,divisionName:i},e)).then((function(e){var r=e.rows,i=Object(s["g"])(r,t.replaceFields);a(i)})).catch((function(e){r(e)})).finally((function(){console.log("finally")}))}))}}},v=y,b=Object(p["a"])(v,g,h,!1,null,null,null),O=b.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TreeSearch",e._g(e._b({ref:"division",attrs:{lazy:e.lazy,join:e.join,search:e.search,activeFirst:e.activeFirst,initLevel:e.initLevel,fetchData:e.fetchGetTree,fetchDataById:e.fetchGetTreeById,fetchDataByName:e.fetchGetTreeByName,replaceFields:e.replaceFields,valueField:e.valueField,isShowParent:e.isShowParent},on:{select:e.onSelectTreeData}},"TreeSearch",e.$attrs,!1),e.$listeners),[a("template",{slot:"title"},[e._t("title")],2)],2)},A=[],w={inheritAttrs:!1,name:"DivisionTree",components:{TreeSearch:r["a"]},props:{baseUrl:{type:String,default:"/dts/bim"},treeApi:{type:String,default:"/q/cmOmDivision/getCmOmDivisionTreeDataList/v1"},treeApiById:{type:String,default:"/q/cmOmDivision/getCmOmDivisionTreeParentById/v1"},treeApiByName:{type:String,default:"/q/cmOmDivision/getCmOmDivisionTreeParentByIName/v1"},placeholder:{type:String,default:"请选择关键词搜索"},multiple:{type:Boolean,default:!1},isShowParent:{type:Boolean,default:!0},activeFirst:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},initLevel:{type:[Number,null],default:2},limitLevel:{type:[Number,String,null],default:null},replaceFields:{type:Object,default:function(){return{pkey:"pkey",title:"title",key:"key",children:"children"}}},valueField:{type:String,default:"key"},join:{type:Boolean,default:!1},search:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0}},data:function(){return{otherParams:{}}},methods:{fetchGetTree:function(e){var t=this;return new Promise((function(a,r){var i=null===e||void 0===e?void 0:e.code;i&&Reflect.deleteProperty(e,"code"),$ec.http.send(t.baseUrl+t.treeApi,Object(c["a"])(Object(c["a"])({divisionLevelNum:t.limitLevel,divisionUniqueCode:i},e),t.otherParams)).then((function(e){var r=e.rows,i=Object(s["g"])(r,t.replaceFields);a(i)})).catch((function(e){r(e)})).finally((function(){console.log("finally")}))}))},fetchGetTreeById:function(e){var t=this;return new Promise((function(a,r){var i=null===e||void 0===e?void 0:e.code;i&&Reflect.deleteProperty(e,"code"),$ec.http.send(t.baseUrl+t.treeApiById,Object(c["a"])(Object(c["a"])({divisionLevelNum:t.limitLevel,divisionUniqueCode:i},e),t.otherParams)).then((function(e){var r=e.rows,i=Object(s["g"])(r,t.replaceFields);a(i)})).catch((function(e){r(e)})).finally((function(){console.log("finally")}))}))},fetchGetTreeByName:function(e){var t=this;return new Promise((function(a,r){var i=null===e||void 0===e?void 0:e.name;i&&Reflect.deleteProperty(e,"name"),$ec.http.send(t.baseUrl+t.treeApiByName,Object(c["a"])(Object(c["a"])({divisionLevelNum:t.limitLevel,divisionName:i},e),t.otherParams)).then((function(e){var r=e.rows,i=Object(s["g"])(r,t.replaceFields);a(i)})).catch((function(e){r(e)})).finally((function(){console.log("finally")}))}))},onSelectTreeData:function(e){var t=e.treeSelectedKeys,a=e.treeData,r=e.selectOption;Object.assign(this,{selectedKeys:t,selectOption:r,treeData:a})},onRefreshTree:function(e){this.otherParams=e,this.$refs.division&&this.$refs.division.handleTreeData(e)},onSelectTreeFn:function(e){this.$refs.division&&this.$refs.division.onSelectTreeFn(e)}}},F=w,k=Object(p["a"])(F,T,A,!1,null,null,null);k.exports}}]);
//# sourceMappingURL=chunk-1614a3ef.aab79a23.js.map