{"version":3,"sources":["webpack:///./src/views/bpm/loss-report-audit/Index.vue?c17a","webpack:///./src/views/bpm/loss-report-audit/DetailModal.vue?baec","webpack:///src/views/bpm/loss-report-audit/DetailModal.vue","webpack:///./src/views/bpm/loss-report-audit/DetailModal.vue?f1e8","webpack:///./src/views/bpm/loss-report-audit/DetailModal.vue","webpack:///src/views/bpm/loss-report-audit/Index.vue","webpack:///./src/views/bpm/loss-report-audit/Index.vue?d5a4","webpack:///./src/views/bpm/loss-report-audit/Index.vue","webpack:///./src/components/TreePicker/src/OrgTree.vue?a763","webpack:///src/components/TreePicker/src/OrgTree.vue","webpack:///./src/components/TreePicker/src/OrgTree.vue?dd69","webpack:///./src/components/TreePicker/src/OrgTree.vue","webpack:///./src/components/TreePicker/src/DivisionPicker.vue?6ba2","webpack:///src/components/TreePicker/src/DivisionPicker.vue","webpack:///./src/components/TreePicker/src/DivisionPicker.vue?e579","webpack:///./src/components/TreePicker/src/DivisionPicker.vue","webpack:///./src/components/TreePicker/src/DivisionTree.vue?cedc","webpack:///src/components/TreePicker/src/DivisionTree.vue","webpack:///./src/components/TreePicker/src/DivisionTree.vue?b70b","webpack:///./src/components/TreePicker/src/DivisionTree.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","handleQuery","handleReset","scopedSlots","_u","key","fn","model","value","queryData","callback","$$v","$set","expression","billDates","slot","_v","disabled","proxy","_l","item","auditStateCode","_s","auditStateName","busiTypeCode","busiTypeName","leafTypeEk","leafTypeCode","leafTypeName","onAgree","onBack","busiYear","staticStyle","$event","handleUnitParse","weightUnit","weightUnitCd","weightUnitName","ref","loading","tableData","pagination","trigger","highlight","range","pageAction","selectAllEvent","selectRowChange","row","confFlag","_e","auditState","onDetail","staticRenderFns","staticClass","详细信息","visible","onclose","formData","formRules","dateFormat","leafFormCode","leafFormName","confFlagName","name","components","OrgPicker","OrgTree","DivisionPicker","data","businessTypeList","leafTypeList","leafFormList","confiscationSmokeList","prodYear","userInfo","orgCode","orgName","bizCode","levelCode","billDate","totalWeight","required","message","created","methods","show","getUserInfoHandler","component","DetailModal","stateList","weightList","id","weightUnitList","isSelected","oldDataRow","pageNumber","pageSize","total","selectedRows","onQuery","handleOlDataRow","obj","newTableData","console","billBeginDate","billEndDate","isSelectTableData","records","title","content","onOk","lossReportQtyIds","then","catch","_g","_b","lazy","join","search","activeFirst","initLevel","fetchGetTree","fetchGetTreeById","fetchGetTreeByName","replaceFields","valueField","isShowParent","onSelectTreeData","$attrs","$listeners","_t","inheritAttrs","TreeSearch","props","baseUrl","type","default","treeApi","treeApiById","treeApiByName","placeholder","multiple","allowClear","limitLevel","pkey","children","otherParams","params","orgUniqueCode","$ec","send","orgLevelNum","resolve","reject","finally","Object","selectedKeys","selectOption","treeData","onRefreshTree","onSelectTreeFn","keys","SelectPicker","prop","event","width","height","top","centered","divisionUniqueCode","divisionLevelNum","divisionName"],"mappings":"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","file":"js/chunk-15a8b95c.fd969c00.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-container',[_c('ec-container-header',[_c('ec-panel-item',[_c('ec-panel-item-left',[_c('ec-header',{attrs:{\"title\":\"收购升损审核\",\"icon\":\"onetomany\",\"color-code\":\"008\"}})],1)],1)],1),_c('ec-container-body',[_c('ec-panel',[_c('ec-panel-toolbar',[_c('ec-query-panel',{on:{\"query\":_vm.handleQuery,\"reset\":_vm.handleReset},scopedSlots:_vm._u([{key:\"inner\",fn:function(){return [_c('ec-query-item',{attrs:{\"label\":\"单位\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入单位\"},model:{value:(_vm.queryData.orgName),callback:function ($$v) {_vm.$set(_vm.queryData, \"orgName\", $$v)},expression:\"queryData.orgName\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"单据日期范围\"}},[_c('a-range-picker',{model:{value:(_vm.billDates),callback:function ($$v) {_vm.billDates=$$v},expression:\"billDates\"}},[_c('template',{slot:\"renderExtraFooter\"},[_vm._v(\" extra footer \")])],2)],1),_c('ec-query-item',{attrs:{\"label\":\"调拨年度\"}},[_c('a-input-number',{attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"请输入调拨年度\"},model:{value:(_vm.queryData.busiYear),callback:function ($$v) {_vm.$set(_vm.queryData, \"busiYear\", $$v)},expression:\"queryData.busiYear\"}})],1)]},proxy:true}])},[_c('ec-query-item',{attrs:{\"label\":\"状态\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryData.auditState),callback:function ($$v) {_vm.$set(_vm.queryData, \"auditState\", $$v)},expression:\"queryData.auditState\"}},_vm._l((_vm.stateList),function(item){return _c('a-select-option',{key:item.auditStateCode},[_vm._v(\" \"+_vm._s(item.auditStateName)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"业务类型\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryData.busiTypeCode),callback:function ($$v) {_vm.$set(_vm.queryData, \"busiTypeCode\", $$v)},expression:\"queryData.busiTypeCode\"}},_vm._l((_vm.businessTypeList),function(item){return _c('a-select-option',{key:item.busiTypeCode,attrs:{\"value\":item.busiTypeCode}},[_vm._v(\" \"+_vm._s(item.busiTypeName)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"烟叶类型\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryData.leafTypeCode),callback:function ($$v) {_vm.$set(_vm.queryData, \"leafTypeCode\", $$v)},expression:\"queryData.leafTypeCode\"}},_vm._l((_vm.leafTypeList),function(leafTypeEk){return _c('a-select-option',{key:leafTypeEk.leafTypeCode},[_vm._v(\" \"+_vm._s(leafTypeEk.leafTypeName)+\" \")])}),1)],1)],1),_c('ec-divider')],1),_c('ec-panel-body',[_c('ec-v-layout',[_c('ec-v-item',[_c('ec-panel-item',[_c('ec-panel-item-left',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onAgree}},[_vm._v(\"同意\")]),_c('a-button',{on:{\"click\":_vm.onBack}},[_vm._v(\"退回\")])],1),_c('ec-panel-item-right',[_c('a-space',{attrs:{\"size\":15}},[_c('span',[_vm._v(\"业务年度：\"+_vm._s(_vm.busiYear)+\"年\")]),_c('span',[_vm._v(\"重量单位：\"),_c('ec-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},on:{\"select\":function($event){return _vm.handleUnitParse()}},model:{value:(_vm.weightUnit),callback:function ($$v) {_vm.weightUnit=$$v},expression:\"weightUnit\"}},_vm._l((_vm.weightUnitList),function(weightUnit){return _c('a-select-option',{key:weightUnit.weightUnitCd},[_vm._v(\" \"+_vm._s(weightUnit.weightUnitName)+\" \")])}),1)],1)])],1)],1)],1),_c('ec-v-item',[_c('ec-table',{ref:\"table\",attrs:{\"show-overflow\":\"\",\"loading\":_vm.loading,\"data\":_vm.tableData,\"pagination\":_vm.pagination,\"checkbox-config\":{ trigger: 'row', highlight: true, range: true }},on:{\"page-action\":_vm.pageAction,\"checkbox-all\":_vm.selectAllEvent,\"checkbox-change\":_vm.selectRowChange}},[_c('ec-table-col',{attrs:{\"type\":\"checkbox\",\"width\":\"50\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"billDate\",\"title\":\"单据日期\"}}),_c('ec-table-col',{attrs:{\"field\":\"orgName\",\"title\":\"单位\",\"align\":\"left\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"busiTypeName\",\"title\":\"业务类型\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeName\",\"title\":\"烟叶类型\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafFormName\",\"title\":\"烟叶形态\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"confFlag\",\"title\":\"罚没烟\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.confFlag === '0')?_c('div',[_c('span',[_vm._v(\"非罚没烟\")])]):(row.confFlag === '1')?_c('div',[_c('span',[_vm._v(\"罚没烟\")])]):_vm._e()]}}])}),_c('ec-table-col',{attrs:{\"field\":\"busiYear\",\"title\":\"调拨年度\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"prodYear\",\"title\":\"生产年度\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"totalWeight\",\"title\":\"重量\",\"align\":\"right\"}}),_c('ec-table-col',{attrs:{\"field\":\"auditState\",\"title\":\"状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.auditState === '0')?_c('div',[_c('span',[_vm._v(\"未上报\")])]):(row.auditState === '1')?_c('div',[_c('span',[_vm._v(\"省公司待审核\")])]):(row.auditState === '2')?_c('div',[_c('span',[_vm._v(\"省公司退回\")])]):_c('div',[_c('span',[_vm._v(\"完成\")])])]}}])}),_c('ec-table-col',{attrs:{\"field\":\"field\",\"title\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.onDetail(row)}}},[_vm._v(\"详细\")])]}}])})],1)],1)],1)],1)],1),_c('detail-modal',{ref:\"detailModalRef\",on:{\"finish\":_vm.handleReset}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":_vm.详细信息,\"visible\":_vm.visible,\"size\":\"small\",\"is-confirm\":true},on:{\"close\":_vm.onclose}},[_c('ec-container',{attrs:{\"height\":\"auto\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',[_c('ec-panel',{attrs:{\"color-code\":\"001\",\"title\":\"详细信息\"}},[_c('ec-panel-item',[_c('ec-form',{ref:\"formRef\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules}},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":12}},[_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"单据日期\",\"prop\":\"billDate\"}},[_c('a-date-picker',{attrs:{\"format\":_vm.dateFormat,\"disabled\":true},model:{value:(_vm.formData.billDate),callback:function ($$v) {_vm.$set(_vm.formData, \"billDate\", $$v)},expression:\"formData.billDate\"}})],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"业务类型\",\"prop\":\"busiTypeName\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\",\"disabled\":true},model:{value:(_vm.formData.busiTypeName),callback:function ($$v) {_vm.$set(_vm.formData, \"busiTypeName\", $$v)},expression:\"formData.busiTypeName\"}},_vm._l((_vm.businessTypeList),function(item){return _c('a-select-option',{key:item.busiTypeCode,attrs:{\"value\":item.busiTypeName}},[_vm._v(\" \"+_vm._s(item.busiTypeName)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"烟叶类型\",\"prop\":\"leafTypeCode\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\",\"disabled\":true},model:{value:(_vm.formData.leafTypeName),callback:function ($$v) {_vm.$set(_vm.formData, \"leafTypeName\", $$v)},expression:\"formData.leafTypeName\"}},_vm._l((_vm.leafTypeList),function(leafTypeEk){return _c('a-select-option',{key:leafTypeEk.leafTypeCode,attrs:{\"value\":leafTypeEk.leafTypeName,\"disabled\":true}},[_vm._v(\" \"+_vm._s(leafTypeEk.leafTypeName)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"烟叶形态\",\"prop\":\"leafFormCode\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\",\"disabled\":true},model:{value:(_vm.formData.leafFormName),callback:function ($$v) {_vm.$set(_vm.formData, \"leafFormName\", $$v)},expression:\"formData.leafFormName\"}},_vm._l((_vm.leafFormList),function(item){return _c('a-select-option',{key:item.leafFormCode,attrs:{\"value\":item.leafFormCode}},[_vm._v(\" \"+_vm._s(item.leafFormName)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"罚没烟\",\"prop\":\"confFlag\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\",\"disabled\":true},model:{value:(_vm.formData.confFlag),callback:function ($$v) {_vm.$set(_vm.formData, \"confFlag\", $$v)},expression:\"formData.confFlag\"}},_vm._l((_vm.confiscationSmokeList),function(item){return _c('a-select-option',{key:item.confFlag},[_vm._v(\" \"+_vm._s(item.confFlagName)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"生产年度\",\"prop\":\"prodYear\"}},[_c('a-input',{attrs:{\"disabled\":true},model:{value:(_vm.formData.prodYear),callback:function ($$v) {_vm.$set(_vm.formData, \"prodYear\", $$v)},expression:\"formData.prodYear\"}})],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"调拨年度\",\"prop\":\"busiYear\"}},[_c('a-input',{attrs:{\"disabled\":true},model:{value:(_vm.formData.busiYear),callback:function ($$v) {_vm.$set(_vm.formData, \"busiYear\", $$v)},expression:\"formData.busiYear\"}})],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"重量\",\"prop\":\"totalWeight\"}},[_c('a-input-number',{attrs:{\"disabled\":true},model:{value:(_vm.formData.totalWeight),callback:function ($$v) {_vm.$set(_vm.formData, \"totalWeight\", $$v)},expression:\"formData.totalWeight\"}})],1)],1)],1)],1)],1)],1)],1),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[_c('a-button',{on:{\"click\":_vm.onclose}},[_vm._v(\"关闭\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer\r\n    :title=\"详细信息\"\r\n    :visible=\"visible\"\r\n    size=\"small\"\r\n    @close=\"onclose\"\r\n    class=\"ec-draw-form\"\r\n    :is-confirm=\"true\"\r\n  >\r\n    <ec-container height=\"auto\" fixed=\"top bottom\" color-code=\"007\">\r\n      <ec-container-body>\r\n        <ec-panel color-code=\"001\" title=\"详细信息\">\r\n          <ec-panel-item>\r\n            <ec-form :model=\"formData\" :rules=\"formRules\" ref=\"formRef\">\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"单据日期\" prop=\"billDate\">\r\n                    <!-- <a-input v-model=\"formData.tplName\" /> -->\r\n                    <a-date-picker v-model=\"formData.billDate\" :format=\"dateFormat\" :disabled=\"true\"/>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"业务类型\" prop=\"busiTypeName\">\r\n                    <ec-select\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.busiTypeName\"\r\n                       :disabled=\"true\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"item in businessTypeList\"\r\n                        :key=\"item.busiTypeCode\"\r\n                        :value=\"item.busiTypeName\"\r\n                       \r\n                      >\r\n                        {{ item.busiTypeName }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"烟叶类型\" prop=\"leafTypeCode\">\r\n                    <ec-select\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.leafTypeName\"\r\n                       :disabled=\"true\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"leafTypeEk in leafTypeList\"\r\n                        :key=\"leafTypeEk.leafTypeCode\"\r\n                        :value=\"leafTypeEk.leafTypeName\"\r\n                         :disabled=\"true\"\r\n                      >\r\n                        {{ leafTypeEk.leafTypeName }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"烟叶形态\" prop=\"leafFormCode\">\r\n                    <ec-select\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.leafFormName\"\r\n                       :disabled=\"true\"\r\n                    >\r\n                      <a-select-option v-for=\"item in leafFormList\" :key=\"item.leafFormCode\" :value=\"item.leafFormCode\">\r\n                        {{ item.leafFormName }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"罚没烟\" prop=\"confFlag\">\r\n                    <ec-select\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.confFlag\"\r\n                       :disabled=\"true\"\r\n                    >\r\n                      <a-select-option v-for=\"item in confiscationSmokeList\" :key=\"item.confFlag\">\r\n                        {{ item.confFlagName }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"生产年度\" prop=\"prodYear\">\r\n                    <!-- <ec-select\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.prodYear\"\r\n                    >\r\n                      <a-select-option v-for=\"item in prodYear\" :key=\"item\">\r\n                        {{ item }}\r\n                      </a-select-option>\r\n                    </ec-select> -->\r\n                    <a-input v-model=\"formData.prodYear\"  :disabled=\"true\"/>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"调拨年度\" prop=\"busiYear\">\r\n                    <a-input v-model=\"formData.busiYear\"  :disabled=\"true\"/>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"重量\" prop=\"totalWeight\">\r\n                    <a-input-number v-model=\"formData.totalWeight\"  :disabled=\"true\"/>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n            </ec-form>\r\n          </ec-panel-item>\r\n        </ec-panel>\r\n\r\n        <!-- <ec-panel color-code=\"001\" title=\"配置信息\">\r\n          <ec-panel-item>\r\n            <ec-form :model=\"formData\" :rules=\"formRules\" ref=\"formRef\">\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"默认打印模板文件名\" prop=\"defaultTplName\">\r\n                   \r\n\r\n                    <a-upload @change=\"upload\">\r\n                      <a-input-search\r\n                        placeholder=\"输入文件名\"\r\n                        size=\"large\"\r\n                        v-model=\"formData.defaultTplName\"\r\n                      >\r\n                        <a-button slot=\"enterButton\"> 点击上传 </a-button>\r\n                      </a-input-search>\r\n                    </a-upload>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"是否启用\">\r\n                    <ec-select\r\n                      showSearch\r\n                      allow-clear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.isEnable\"\r\n                    >\r\n                      <a-select-option v-for=\"item in state\" :key=\"item.id\" :value=\"item.isEnable\">\r\n                        {{ item.state }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"左边距\">\r\n                    <a-input v-model=\"formData.leftMargin\" />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"上边距\">\r\n                    <a-input v-model=\"formData.topMargin\" />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n            </ec-form>\r\n          </ec-panel-item>\r\n        </ec-panel> -->\r\n      </ec-container-body>\r\n      <ec-container-footer fixed>\r\n        <a-space>\r\n          <!-- <a-button :loading=\"loading\" type=\"primary\" @click=\"onSave\">保存</a-button> -->\r\n          <a-button @click=\"onclose\">关闭</a-button>\r\n        </a-space>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n<script>\r\nimport { OrgPicker, OrgTree, DivisionPicker } from '@/components/TreePicker';\r\nexport default {\r\n  name: 'EditModal',\r\n  components: {\r\n    OrgPicker,\r\n    OrgTree,\r\n    DivisionPicker,\r\n  },\r\n  data() {\r\n    return {\r\n      value: '',\r\n      // 业务类型\r\n      businessTypeList: [\r\n        { busiTypeCode: '', busiTypeName: '全部' },\r\n        { busiTypeCode: 'YW9401', busiTypeName: '升溢' },\r\n        { busiTypeCode: 'YW9402', busiTypeName: '损耗' },\r\n      ],\r\n      // 烟叶类型\r\n      leafTypeList: [\r\n        { leafTypeCode: '10', leafTypeName: '烤烟' },\r\n        { leafTypeCode: '20', leafTypeName: '晾晒烟' },\r\n      ],\r\n      // 烟叶形态\r\n      leafFormList: [{ leafFormCode: '101', leafFormName: '原烟' }],\r\n      // 罚没烟\r\n      confiscationSmokeList: [{ confFlag: '0', confFlagName: '非罚没烟' }],\r\n      // 生产年度\r\n      prodYear: '',\r\n      // 调拨年度\r\n      busiYear: '',\r\n      // 用户信息\r\n      userInfo: {},\r\n      dateFormat: 'YYYY-MM-DD HH:mm:ss',\r\n      visible: false,\r\n      loading: false,\r\n      formData: {\r\n        orgCode: '',\r\n        orgName: '',\r\n        bizCode: '',\r\n        levelCode: '',\r\n        billDate: '',\r\n        busiTypeCode: '',\r\n        leafTypeCode: '',\r\n        leafFormName:\"\",\r\n        leafFormCode: '',\r\n        confFlag: '',\r\n        prodYear: '',\r\n        busiYear: '',\r\n        totalWeight: '',\r\n      },\r\n      formRules: {\r\n        billDate: { required: true, message: '请选择单据日期', trigger: 'blur' },\r\n        busiTypeName: { required: true, message: '请选择业务类型', trigger: 'blur' },\r\n        leafTypeCode: { required: true, message: '请选择烟叶类型', trigger: 'blur' },\r\n        leafFormCode: { required: true, message: '请选择烟叶形态', trigger: 'blur' },\r\n        confFlag: { required: true, message: '请选择', trigger: 'blur' },\r\n        prodYear: { required: true, message: '请选择生产年度', trigger: 'blur' },\r\n        busiYear: { required: true, message: '请选择调拨年度', trigger: 'blur' },\r\n        totalWeight: { required: true, message: '请输入重量', trigger: 'blur' },\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getUserInfoHandler();\r\n  },\r\n  methods: {\r\n    // 显示推窗\r\n    show(data) {\r\n      this.visible = true;\r\n      this.formData = data || { busiYear: this.busiYear };\r\n      this.prodYear = data.prodYear;\r\n      this.busiYear = data.busiYear;\r\n    },\r\n    // 获取当前登入用户信息\r\n    getUserInfoHandler() {\r\n      this.$apis.common.user.get({}).then((res) => {\r\n        this.userInfo = res || {};\r\n        this.formData.orgCode = res.orgCode;\r\n        this.formData.orgName = res.orgName;\r\n        this.formData.bizCode = res.bizCode;\r\n        this.formData.levelCode = res.cmTOrgMain.levelCode;\r\n        // console.log('登录信息', res);\r\n        // console.log('登录信息', this.formData.bizCode);\r\n        // console.log('登录信息', this.formData);\r\n      });\r\n    },\r\n\r\n    // 转化时间\r\n    // formatLongDate(date) {\r\n    //   let myyear = date.getFullYear();\r\n    //   let mymonth = date.getMonth() + 1;\r\n    //   let myweekday = date.getDate();\r\n    //   let myHour = date.getHours();\r\n    //   let myMin = date.getMinutes();\r\n    //   let mySec = date.getSeconds();\r\n    //   if (mymonth < 10) {\r\n    //     mymonth = '0' + mymonth;\r\n    //   }\r\n    //   if (myweekday < 10) {\r\n    //     myweekday = '0' + myweekday;\r\n    //   }\r\n    //   if (myHour < 10) {\r\n    //     myHour = '0' + myHour;\r\n    //   }\r\n    //   if (myMin < 10) {\r\n    //     myMin = '0' + myMin;\r\n    //   }\r\n    //   if (mySec < 10) {\r\n    //     mySec = '0' + mySec;\r\n    //   }\r\n    //   return myyear + '-' + mymonth + '-' + myweekday + '-' + myHour + '-' + myMin + '-' + mySec;\r\n    // },\r\n\r\n    // 保存\r\n    // onSave() {\r\n    //   this.$refs.formRef.validate((valid) => {\r\n    //     if (valid) {\r\n    //       if (this.formData?.lossReportQtyId) {\r\n    //         this.loading = true;\r\n\r\n    //         this.$apis.bpm.lossReportApply\r\n    //           .onEdit(this.formData)\r\n    //           .then(() => {\r\n    //             this.$message.success('操作成功');\r\n    //             this.$emit('finish');\r\n    //             this.onclose();\r\n    //           })\r\n    //           .finally(() => {\r\n    //             this.loading = false;\r\n    //           });\r\n    //       } else {\r\n    //         this.loading = true;\r\n    //         const data = { ...this.formData };\r\n    //         data.billDate = data.billDate.format('YYYY-MM-DD  ');\r\n    //         this.$apis.bpm.lossReportApply\r\n    //           .add(data)\r\n    //           .then(() => {\r\n    //             console.log(\"新增信息\",data);\r\n    //             this.$message.success('操作成功');\r\n    //             this.$emit('finish');\r\n    //             this.onclose();\r\n    //              this.loading = false;\r\n    //           })\r\n    //           .finally(() => {\r\n    //             this.loading = false;\r\n    //           });\r\n    //       }\r\n    //     } else {\r\n    //       this.$message.error('验证不通过');\r\n    //     }\r\n    //   });\r\n    // },\r\n    // 关闭\r\n    onclose() {\r\n      this.$refs.formRef.resetFields();\r\n      this.formData = {};\r\n      this.visible = false;\r\n    },\r\n    // onChange(value) {\r\n    //   console.log('changed', value);\r\n    // },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailModal.vue?vue&type=template&id=6bc51b54&scoped=true&\"\nimport script from \"./DetailModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6bc51b54\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <ec-container>\r\n    <ec-container-header>\r\n      <ec-panel-item>\r\n        <ec-panel-item-left>\r\n          <ec-header title=\"收购升损审核\" icon=\"onetomany\" color-code=\"008\" />\r\n        </ec-panel-item-left>\r\n      </ec-panel-item>\r\n    </ec-container-header>\r\n    <ec-container-body>\r\n      <ec-panel>\r\n        <ec-panel-toolbar>\r\n          <ec-query-panel @query=\"handleQuery\" @reset=\"handleReset\">\r\n            <ec-query-item label=\"状态\">\r\n              <ec-select showSearch allowClear placeholder=\"请选择\" v-model=\"queryData.auditState\">\r\n                <a-select-option v-for=\"item in stateList\" :key=\"item.auditStateCode\">\r\n                  {{ item.auditStateName }}\r\n                </a-select-option>\r\n              </ec-select>\r\n            </ec-query-item>\r\n            <ec-query-item label=\"业务类型\">\r\n              <ec-select\r\n                showSearch\r\n                allowClear\r\n                placeholder=\"请选择\"\r\n                v-model=\"queryData.busiTypeCode\"\r\n              >\r\n                <a-select-option\r\n                  v-for=\"item in businessTypeList\"\r\n                  :key=\"item.busiTypeCode\"\r\n                  :value=\"item.busiTypeCode\"\r\n                >\r\n                  {{ item.busiTypeName }}\r\n                </a-select-option>\r\n              </ec-select>\r\n            </ec-query-item>\r\n            <ec-query-item label=\"烟叶类型\">\r\n              <ec-select\r\n                showSearch\r\n                allowClear\r\n                placeholder=\"请选择\"\r\n                v-model=\"queryData.leafTypeCode\"\r\n              >\r\n                <a-select-option v-for=\"leafTypeEk in leafTypeList\" :key=\"leafTypeEk.leafTypeCode\">\r\n                  {{ leafTypeEk.leafTypeName }}\r\n                </a-select-option>\r\n              </ec-select>\r\n            </ec-query-item>\r\n            <template #inner>\r\n              <ec-query-item label=\"单位\">\r\n                <a-input v-model=\"queryData.orgName\" placeholder=\"请输入单位\" />\r\n              </ec-query-item>\r\n              <ec-query-item label=\"单据日期范围\">\r\n                <!-- <a-input v-model=\"name\" /> -->\r\n                <a-range-picker v-model=\"billDates\">\r\n                  <template slot=\"renderExtraFooter\"> extra footer </template>\r\n                </a-range-picker>\r\n              </ec-query-item>\r\n              <ec-query-item label=\"调拨年度\">\r\n                <!-- <a-input v-model=\"name\" /> -->\r\n                <a-input-number\r\n                  v-model=\"queryData.busiYear\"\r\n                  :disabled=\"disabled\"\r\n                  placeholder=\"请输入调拨年度\"\r\n                />\r\n              </ec-query-item>\r\n            </template>\r\n          </ec-query-panel>\r\n          <ec-divider />\r\n        </ec-panel-toolbar>\r\n        <ec-panel-body>\r\n          <ec-v-layout>\r\n            <!--按钮 -->\r\n            <ec-v-item>\r\n              <ec-panel-item>\r\n                <ec-panel-item-left>\r\n                  <a-button type=\"primary\" @click=\"onAgree\">同意</a-button>\r\n                  <a-button @click=\"onBack\">退回</a-button>\r\n                </ec-panel-item-left>\r\n                <ec-panel-item-right>\r\n                  <a-space :size=\"15\">\r\n                    <span>业务年度：{{ busiYear }}年</span>\r\n                    <span\r\n                      >重量单位：<ec-select\r\n                        showSearch\r\n                        allowClear\r\n                        placeholder=\"请选择\"\r\n                        v-model=\"weightUnit\"\r\n                        @select=\"handleUnitParse()\"\r\n                        style=\"width: 150px\"\r\n                      >\r\n                        <a-select-option\r\n                          v-for=\"weightUnit in weightUnitList\"\r\n                          :key=\"weightUnit.weightUnitCd\"\r\n                        >\r\n                          {{ weightUnit.weightUnitName }}\r\n                        </a-select-option>\r\n                      </ec-select></span\r\n                    >\r\n                  </a-space>\r\n                </ec-panel-item-right>\r\n              </ec-panel-item>\r\n            </ec-v-item>\r\n            <!-- 列表 -->\r\n            <ec-v-item>\r\n              <ec-table\r\n                ref=\"table\"\r\n                show-overflow\r\n                :loading=\"loading\"\r\n                :data=\"tableData\"\r\n                :pagination=\"pagination\"\r\n                @page-action=\"pageAction\"\r\n                @checkbox-all=\"selectAllEvent\"\r\n                @checkbox-change=\"selectRowChange\"\r\n                :checkbox-config=\"{ trigger: 'row', highlight: true, range: true }\"\r\n              >\r\n                <ec-table-col type=\"checkbox\" width=\"50\" align=\"center\"></ec-table-col>\r\n                <ec-table-col field=\"billDate\" title=\"单据日期\" />\r\n                <ec-table-col field=\"orgName\" title=\"单位\" align=\"left\" width=\"150\" />\r\n                <ec-table-col field=\"busiTypeName\" title=\"业务类型\" align=\"center\" />\r\n                <ec-table-col field=\"leafTypeName\" title=\"烟叶类型\" align=\"center\" />\r\n                <ec-table-col field=\"leafFormName\" title=\"烟叶形态\" align=\"center\" />\r\n                <ec-table-col field=\"confFlag\" title=\"罚没烟\" align=\"center\">\r\n                  <template #default=\"{ row }\">\r\n                    <div v-if=\"row.confFlag === '0'\">\r\n                      <span>非罚没烟</span>\r\n                    </div>\r\n                    <div v-else-if=\"row.confFlag === '1'\">\r\n                      <span>罚没烟</span>\r\n                    </div>\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"busiYear\" title=\"调拨年度\" align=\"center\" />\r\n                <ec-table-col field=\"prodYear\" title=\"生产年度\" align=\"center\" />\r\n                <ec-table-col field=\"totalWeight\" title=\"重量\" align=\"right\" />\r\n                <ec-table-col field=\"auditState\" title=\"状态\" align=\"center\">\r\n                  <template #default=\"{ row }\">\r\n                    <div v-if=\"row.auditState === '0'\">\r\n                      <span>未上报</span>\r\n                    </div>\r\n                    <div v-else-if=\"row.auditState === '1'\">\r\n                      <span>省公司待审核</span>\r\n                    </div>\r\n                    <div v-else-if=\"row.auditState === '2'\">\r\n                      <span>省公司退回</span>\r\n                    </div>\r\n                    <div v-else>\r\n                      <span>完成</span>\r\n                    </div>\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"field\" title=\"操作\" align=\"center\">\r\n                  <template #default=\"{ row }\">\r\n                    <a-button type=\"link\" @click=\"onDetail(row)\">详细</a-button>\r\n                  </template>\r\n                </ec-table-col>\r\n              </ec-table>\r\n            </ec-v-item>\r\n          </ec-v-layout>\r\n        </ec-panel-body>\r\n      </ec-panel>\r\n      <!-- 增加、编辑 -->\r\n      <detail-modal ref=\"detailModalRef\" @finish=\"handleReset\" />\r\n    </ec-container-body>\r\n  </ec-container>\r\n</template>\r\n\r\n<script>\r\nimport DetailModal from './DetailModal.vue';\r\nimport _ from 'lodash';\r\nexport default {\r\n  components: {\r\n    DetailModal,\r\n  },\r\n  data() {\r\n    return {\r\n      // 列表数据\r\n      tableData: [],\r\n      // 查询\r\n      billDates: '',\r\n      queryData: {\r\n        busiYear: '',\r\n      },\r\n      // 烟叶类型\r\n      leafTypeList: [\r\n        { leafTypeCode: '', leafTypeName: '全部' },\r\n        { leafTypeCode: '10', leafTypeName: '烤烟' },\r\n        { leafTypeCode: '20', leafTypeName: '晾晒烟' },\r\n      ],\r\n      // 业务类型\r\n      businessTypeList: [\r\n        { busiTypeCode: 'YW9401', busiTypeName: '升溢' },\r\n        { busiTypeCode: 'YW9402', busiTypeName: '损耗' },\r\n      ],\r\n      // 状态\r\n      stateList: [\r\n        { auditStateCode: '', auditStateName: '全部' },\r\n        { auditStateCode: '0', auditStateName: '未上报' },\r\n        { auditStateCode: '1', auditStateName: '省公司待审核' },\r\n        { auditStateCode: '2', auditStateName: '省公司退回' },\r\n        { auditStateCode: '5', auditStateName: '完成' },\r\n      ],\r\n      // 计量单位\r\n      weightList: [\r\n        { name: '万担', id: '万担' },\r\n        { name: '担', id: '担' },\r\n        { name: '公斤', id: '公斤' },\r\n      ],\r\n      weightUnitList: [\r\n        { weightUnitCd: 500000, weightUnitName: '万担', isSelected: false },\r\n        { weightUnitCd: 50, weightUnitName: '担', isSelected: false },\r\n        { weightUnitCd: 1, weightUnitName: '公斤', isSelected: false },\r\n      ],\r\n      weightUnit: 50,\r\n      oldDataRow: [],\r\n      levelCode: '',\r\n      // 调拨年度\r\n      busiYear: '',\r\n      // 生产年度\r\n      prodYear: '',\r\n      // 用户信息\r\n      userInfo: {},\r\n      pagination: {\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n      // 选择的数组\r\n      selectedRows: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.onQuery();\r\n    this.getUserInfoHandler();\r\n  },\r\n  methods: {\r\n    // 重置\r\n    handleReset() {\r\n      this.queryData = {};\r\n      this.billDates = '';\r\n      this.onQuery();\r\n    },\r\n    // 初始化页面数据\r\n    onQuery() {\r\n      this.$apis.bpm.lossReportApply.query({}).then((res) => {\r\n        this.tableData = res.rows;\r\n        this.pagination.total = res.rows.length;\r\n        this.busiYear = res.rows[0].busiYear;\r\n        this.prodYear = res.rows[0].prodYear;\r\n        // console.log(res);\r\n        this.oldDataRow = JSON.parse(JSON.stringify(res.rows));\r\n        this.handleUnitParse();\r\n      });\r\n    },\r\n    // 处理单位切换\r\n    handleUnitParse() {\r\n      const newTableData = [];\r\n      // console.log(`單位：${this.weightUnit}`);\r\n      const handleOlDataRow = JSON.parse(JSON.stringify(this.oldDataRow)) || [];\r\n      handleOlDataRow.forEach((item) => {\r\n        const obj = item;\r\n        obj.totalWeight = (obj.totalWeight / this.weightUnit).toFixed(2);\r\n        newTableData.push(obj);\r\n      });\r\n      // console.log(newTableData);\r\n      this.tableData = newTableData;\r\n    },\r\n    // 查询\r\n    handleQuery() {\r\n      console.log(this.queryData);\r\n      const data = {\r\n        ...this.queryData,\r\n        billBeginDate: this.billDates[0],\r\n        billEndDate: this.billDates[1],\r\n      };\r\n      this.$apis.bpm.lossReportApply.query(data).then((res) => {\r\n        // console.log(res);\r\n        this.tableData = res.rows;\r\n        this.pagination.total = res.rows.length;\r\n        this.loading = false;\r\n        this.handleUnitParse()\r\n      });\r\n    },\r\n    // 详细\r\n    onDetail(row) {\r\n      this.$refs.detailModalRef.show(_.cloneDeep(row));\r\n    },\r\n\r\n    // 选中所有列表\r\n    selectAllEvent({ records }) {\r\n      this.selectedRows = records;\r\n    },\r\n    // 选中列表\r\n    selectRowChange({ records }) {\r\n      this.selectedRows = records;\r\n    },\r\n    isSelectTableData(records) {\r\n      if (records?.length === 0 || !records) {\r\n        this.$message.error(`请选择一条数据再操作`);\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    // 获取当前登入用户信息\r\n    getUserInfoHandler() {\r\n      // console.log('00000000000');\r\n      // this.$apis.common.user.get({}).then((res) => {\r\n      //   // this.userInfo = res || {};\r\n      //   console.log('登录信息', res);\r\n      // })\r\n      this.$apis.common.user.get({}).then((res) => {\r\n        // console.log('登录信息', res);\r\n        this.userInfo = res;\r\n      \r\n      });\r\n    },\r\n    // 同意\r\n    onAgree() {\r\n      if (!this.selectedRows || this.selectedRows.length <= 0) {\r\n        this.$message.error('请选择一条数据再同意');\r\n        return;\r\n      }\r\n\r\n      this.$confirm({\r\n        title: '是否执行该操作?',\r\n        content: () => (\r\n          <div style=\"color:red;\">\r\n            是否确认同意选中的数据，确认请点击'确认'按钮，取消点击'取消'按钮。\r\n          </div>\r\n        ),\r\n        onOk: () => {\r\n          this.loading = true;\r\n          const lossReportQtyIds = [];\r\n          for (let i = 0; i < this.selectedRows.length; i++) {\r\n            lossReportQtyIds.push(this.selectedRows[i].lossReportQtyId);\r\n          }\r\n          const data = {\r\n            lossReportQtyIds,\r\n            levelCode: this.levelCode,\r\n            busiYear: this.busiYear,\r\n          };\r\n          this.$apis.bpm.lossReportApply.onAgree(data).then((res) => {\r\n            // console.log(JSON.stringify(res));\r\n            if (res.result) {\r\n              this.loading = false;\r\n              this.$message.success('操作成功');\r\n              this.onQuery();\r\n            } else {\r\n              this.$message.error('操作失败，仅待审核状态可操作');\r\n            }\r\n          });\r\n        },\r\n      });\r\n    },\r\n\r\n    // 按钮退回\r\n    onBack() {\r\n      if (!this.selectedRows || this.selectedRows.length <= 0) {\r\n        this.$message.error('请选择一条数据再退回');\r\n        return;\r\n      }\r\n\r\n      this.$confirm({\r\n        title: '是否执行该操作?',\r\n        content: () => (\r\n          <div style=\"color:red;\">\r\n            是否确认退回选中的数据，确认请点击'确认'按钮，取消点击'取消'按钮。\r\n          </div>\r\n        ),\r\n        onOk: () => {\r\n          this.loading = true;\r\n          const lossReportQtyIds = [];\r\n          for (let i = 0; i < this.selectedRows.length; i++) {\r\n            lossReportQtyIds.push(this.selectedRows[i].lossReportQtyId);\r\n          }\r\n          this.$apis.bpm.lossReportApply\r\n            .onBack({ lossReportQtyIds })\r\n            .then((res) => {\r\n              console.log(JSON.stringify(res));\r\n              if (res.result) {\r\n                this.loading = false;\r\n                this.$message.success('操作成功');\r\n                this.onQuery();\r\n              } else {\r\n                this.$message.error('仅待审核的状态可以退回');\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              this.loading = false;\r\n              if (error) {\r\n                this.$message.error(error.message || '操作失败');\r\n              } else {\r\n                this.$message.error('操作失败');\r\n              }\r\n            });\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=02409948&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TreeSearch',_vm._g(_vm._b({ref:\"org\",attrs:{\"lazy\":_vm.lazy,\"join\":_vm.join,\"search\":_vm.search,\"activeFirst\":_vm.activeFirst,\"initLevel\":_vm.initLevel,\"fetchData\":_vm.fetchGetTree,\"fetchDataById\":_vm.fetchGetTreeById,\"fetchDataByName\":_vm.fetchGetTreeByName,\"replaceFields\":_vm.replaceFields,\"valueField\":_vm.valueField,\"isShowParent\":_vm.isShowParent},on:{\"select\":_vm.onSelectTreeData}},'TreeSearch',_vm.$attrs,false),_vm.$listeners),[_c('template',{slot:\"title\"},[_vm._t(\"title\")],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <TreeSearch\r\n    ref=\"org\"\r\n    v-bind=\"$attrs\"\r\n    :lazy=\"lazy\"\r\n    :join=\"join\"\r\n    :search=\"search\"\r\n    :activeFirst=\"activeFirst\"\r\n    :initLevel=\"initLevel\"\r\n    :fetchData=\"fetchGetTree\"\r\n    :fetchDataById=\"fetchGetTreeById\"\r\n    :fetchDataByName=\"fetchGetTreeByName\"\r\n    :replaceFields=\"replaceFields\"\r\n    :valueField=\"valueField\"\r\n    :isShowParent=\"isShowParent\"\r\n    v-on=\"$listeners\"\r\n    @select=\"onSelectTreeData\"\r\n  >\r\n    <template slot=\"title\"><slot name=\"title\"></slot></template>\r\n  </TreeSearch>\r\n</template>\r\n<script>\r\nimport TreeSearch from './TreeSearch.vue';\r\nimport { treeFormatList } from '@/components/_utils';\r\n\r\nexport default {\r\n  inheritAttrs: false,\r\n  name: 'OrgTree',\r\n  components: {\r\n    TreeSearch,\r\n  },\r\n  props: {\r\n    baseUrl: {\r\n      type: String,\r\n      default: '/dts/bim',\r\n    },\r\n    treeApi: {\r\n      type: String,\r\n      default: '/q/cmTOrgMain/getCmTOrgMainTreeDataList/v1',\r\n    },\r\n    treeApiById: {\r\n      type: String,\r\n      default: '/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgUniqueCode/v1',\r\n    },\r\n    treeApiByName: {\r\n      type: String,\r\n      default: '/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgName/v1',\r\n    },\r\n    // 选择框默认文字\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择关键词搜索',\r\n    },\r\n    // 是否支持多选\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    isShowParent: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    activeFirst: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否支持清除\r\n    allowClear: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    initLevel: {\r\n      type: [Number, null],\r\n      default: 2,\r\n    },\r\n    // 树加载层级\r\n    limitLevel: {\r\n      type: [Number, String, null],\r\n      default: null,\r\n    },\r\n    replaceFields: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          pkey: 'pkey',\r\n          title: 'title',\r\n          key: 'key',\r\n          children: 'children',\r\n        };\r\n      },\r\n    },\r\n    valueField: {\r\n      type: String,\r\n      default: 'key',\r\n    },\r\n    join: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    search: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    lazy: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      otherParams: {},\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取树\r\n    fetchGetTree(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const orgUniqueCode = params?.code;\r\n\r\n        orgUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApi, {\r\n            orgLevelNum: this.limitLevel,\r\n            orgUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeById(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const orgUniqueCode = params?.code;\r\n        orgUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiById, {\r\n            orgLevelNum: this.limitLevel,\r\n            orgUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeByName(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const orgName = params?.name;\r\n        orgName && Reflect.deleteProperty(params, 'name');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiByName, {\r\n            orgLevelNum: this.limitLevel,\r\n            orgName,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 从树中获取数据,临时存储\r\n    onSelectTreeData({ treeSelectedKeys, treeData, selectOption }) {\r\n      Object.assign(this, {\r\n        selectedKeys: treeSelectedKeys,\r\n        selectOption,\r\n        treeData,\r\n      });\r\n    },\r\n    // 刷新树\r\n    onRefreshTree(params) {\r\n      this.otherParams = params;\r\n      this.$refs.org && this.$refs.org.handleTreeData(params);\r\n    },\r\n    // 手动触发select节点事件\r\n    onSelectTreeFn(keys) {\r\n      this.$refs.org && this.$refs.org.onSelectTreeFn(keys);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\"></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrgTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrgTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrgTree.vue?vue&type=template&id=eeec6864&\"\nimport script from \"./OrgTree.vue?vue&type=script&lang=js&\"\nexport * from \"./OrgTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SelectPicker',_vm._g(_vm._b({attrs:{\"title\":_vm.title,\"value\":_vm.value,\"search\":_vm.search,\"allow-clear\":_vm.allowClear,\"placeholder\":_vm.placeholder,\"multiple\":_vm.multiple,\"disabled\":_vm.disabled,\"valueField\":_vm.valueField,\"fetchData\":_vm.fetchGetTree,\"fetchDataById\":_vm.fetchGetTreeById,\"fetchDataByName\":_vm.fetchGetTreeByName}},'SelectPicker',_vm.$attrs,false),_vm.$listeners))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <SelectPicker\r\n    v-bind=\"$attrs\"\r\n    :title=\"title\"\r\n    :value=\"value\"\r\n    :search=\"search\"\r\n    :allow-clear=\"allowClear\"\r\n    :placeholder=\"placeholder\"\r\n    :multiple=\"multiple\"\r\n    :disabled=\"disabled\"\r\n    :valueField=\"valueField\"\r\n    :fetchData=\"fetchGetTree\"\r\n    :fetchDataById=\"fetchGetTreeById\"\r\n    :fetchDataByName=\"fetchGetTreeByName\"\r\n    v-on=\"$listeners\"\r\n  />\r\n</template>\r\n<script>\r\nimport SelectPicker from './SelectPicker.vue';\r\nimport { treeFormatList } from '@/components/_utils';\r\n\r\nexport default {\r\n  inheritAttrs: false,\r\n  name: 'DivisionPicker',\r\n  components: {\r\n    SelectPicker,\r\n  },\r\n  model: {\r\n    prop: 'value',\r\n    event: 'change',\r\n  },\r\n  props: {\r\n    value: {\r\n      type: [String, Array, null],\r\n      default: null,\r\n    },\r\n    baseUrl: {\r\n      type: String,\r\n      default: '/dts/bim',\r\n    },\r\n    treeApi: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeDataList/v1',\r\n    },\r\n    treeApiById: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentById/v1',\r\n    },\r\n    treeApiByName: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentByIName/v1',\r\n    },\r\n    // 选择框默认文字\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择关键词搜索',\r\n    },\r\n    // 是否支持多选\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否支持清除\r\n    allowClear: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否禁用\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 选择器弹窗标题\r\n    title: {\r\n      type: String,\r\n      default: '行政区域选择器',\r\n    },\r\n    search: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // 选择器弹窗的宽度 单位 px/%/vw (仅数字则视为 px)，默认560px\r\n    width: {\r\n      type: [String, Number],\r\n      default: '425px',\r\n    },\r\n    // 选择器弹窗的高度 单位 px/%/vh (仅数字则视为 px)，默认500px\r\n    height: {\r\n      type: [String, Number],\r\n      default: '370px',\r\n    },\r\n    // 选择器弹窗距页面顶部的距离 单位 px/%/vh (仅数字则视为 px)，默认100px\r\n    top: {\r\n      type: [String, Number],\r\n      default: '100px',\r\n    },\r\n    // 选择器弹窗是否垂直居中展示，默认 false\r\n    centered: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    initLevel: {\r\n      type: [Number, null],\r\n      default: 2,\r\n    },\r\n    limitLevel: {\r\n      type: [Number, null],\r\n      default: null,\r\n    },\r\n    replaceFields: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          pkey: 'pkey',\r\n          title: 'title',\r\n          key: 'key',\r\n          children: 'children',\r\n        };\r\n      },\r\n    },\r\n    valueField: {\r\n      type: String,\r\n      default: 'key',\r\n    },\r\n    join: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    lazy: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  methods: {\r\n    // 获取树\r\n    fetchGetTree(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApi, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeById(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiById, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeByName(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionName = params?.name;\r\n        divisionName && Reflect.deleteProperty(params, 'name');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiByName, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionName,\r\n            ...params,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\"></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DivisionPicker.vue?vue&type=template&id=69513891&\"\nimport script from \"./DivisionPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./DivisionPicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TreeSearch',_vm._g(_vm._b({ref:\"division\",attrs:{\"lazy\":_vm.lazy,\"join\":_vm.join,\"search\":_vm.search,\"activeFirst\":_vm.activeFirst,\"initLevel\":_vm.initLevel,\"fetchData\":_vm.fetchGetTree,\"fetchDataById\":_vm.fetchGetTreeById,\"fetchDataByName\":_vm.fetchGetTreeByName,\"replaceFields\":_vm.replaceFields,\"valueField\":_vm.valueField,\"isShowParent\":_vm.isShowParent},on:{\"select\":_vm.onSelectTreeData}},'TreeSearch',_vm.$attrs,false),_vm.$listeners),[_c('template',{slot:\"title\"},[_vm._t(\"title\")],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <TreeSearch\r\n    ref=\"division\"\r\n    v-bind=\"$attrs\"\r\n    :lazy=\"lazy\"\r\n    :join=\"join\"\r\n    :search=\"search\"\r\n    :activeFirst=\"activeFirst\"\r\n    :initLevel=\"initLevel\"\r\n    :fetchData=\"fetchGetTree\"\r\n    :fetchDataById=\"fetchGetTreeById\"\r\n    :fetchDataByName=\"fetchGetTreeByName\"\r\n    :replaceFields=\"replaceFields\"\r\n    :valueField=\"valueField\"\r\n    :isShowParent=\"isShowParent\"\r\n    v-on=\"$listeners\"\r\n    @select=\"onSelectTreeData\"\r\n  >\r\n    <template slot=\"title\"><slot name=\"title\"></slot></template>\r\n  </TreeSearch>\r\n</template>\r\n<script>\r\nimport TreeSearch from './TreeSearch.vue';\r\nimport { treeFormatList } from '@/components/_utils';\r\n\r\nexport default {\r\n  inheritAttrs: false,\r\n  name: 'DivisionTree',\r\n  components: {\r\n    TreeSearch,\r\n  },\r\n  props: {\r\n    baseUrl: {\r\n      type: String,\r\n      default: '/dts/bim',\r\n    },\r\n    treeApi: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeDataList/v1',\r\n    },\r\n    treeApiById: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentById/v1',\r\n    },\r\n    treeApiByName: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentByIName/v1',\r\n    },\r\n    // 选择框默认文字\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择关键词搜索',\r\n    },\r\n    // 是否支持多选\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    isShowParent: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    activeFirst: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否支持清除\r\n    allowClear: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    initLevel: {\r\n      type: [Number, null],\r\n      default: 2,\r\n    },\r\n    // 树加载层级\r\n    limitLevel: {\r\n      type: [Number, String, null],\r\n      default: null,\r\n    },\r\n    replaceFields: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          pkey: 'pkey',\r\n          title: 'title',\r\n          key: 'key',\r\n          children: 'children',\r\n        };\r\n      },\r\n    },\r\n    valueField: {\r\n      type: String,\r\n      default: 'key',\r\n    },\r\n    join: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    search: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    lazy: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      otherParams: {},\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取树\r\n    fetchGetTree(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApi, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeById(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiById, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeByName(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionName = params?.name;\r\n        divisionName && Reflect.deleteProperty(params, 'name');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiByName, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionName,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 从树中获取数据,临时存储\r\n    onSelectTreeData({ treeSelectedKeys, treeData, selectOption }) {\r\n      Object.assign(this, {\r\n        selectedKeys: treeSelectedKeys,\r\n        selectOption,\r\n        treeData,\r\n      });\r\n    },\r\n    // 刷新树\r\n    onRefreshTree(params) {\r\n      this.otherParams = params;\r\n      this.$refs.division && this.$refs.division.handleTreeData(params);\r\n    },\r\n    // 手动触发select节点事件\r\n    onSelectTreeFn(keys) {\r\n      this.$refs.division && this.$refs.division.onSelectTreeFn(keys);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\"></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DivisionTree.vue?vue&type=template&id=6b88db6e&\"\nimport script from \"./DivisionTree.vue?vue&type=script&lang=js&\"\nexport * from \"./DivisionTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}