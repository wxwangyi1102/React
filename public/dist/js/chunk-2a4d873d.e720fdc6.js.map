{"version":3,"sources":["webpack:///./src/views/bpm/execution-params/backups.vue?7f55","webpack:///src/views/bpm/execution-params/backups.vue","webpack:///./src/views/bpm/execution-params/backups.vue?df2f","webpack:///./src/views/bpm/execution-params/backups.vue","webpack:///./src/views/bpm/execution-params/backups.vue?7a05"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","queryHandle","resetHandle","selectedStatusList","model","value","callback","$$v","statusVal","expression","_l","s","key","id","_v","_s","name","ref","arr","scopedSlots","_u","fn","row","diffExportFlag","$event","Distinguish","Indistinguishable","staticRenderFns","components","data","disflag","indisflag","statusList","params","busiYear","yearValue","tableData","rowsList","orgUniqueCode","orgCode","mounted","methods","init","orgName","console","buPlanParamId","updatePcTBuPlanParam","updataList","then","catch","finally","OnfindAllChildOrgList","orgTypeEk","orgLevelEk","parentOrgUniqueCode","findAllChildOrgList","ChildOrgList","OnGetYearByOrgAndType","yearTypeCode","appCode","getYearByOrgAndType","OrgAndType","window","OnQueryPcTBuPlanParam","QueryPcTBuPlanParam","component"],"mappings":"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","file":"js/chunk-2a4d873d.e720fdc6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-container',{attrs:{\"height\":\"auto\",\"title\":\"收购计划执行量参数设置\",\"icon\":\"onetomany\",\"color-code\":\"003\"}},[_c('ec-container-body',[_c('ec-panel',[_c('ec-panel-toolbar',[_c('ec-query-panel',{on:{\"query\":_vm.queryHandle,\"reset\":_vm.resetHandle}},[[_c('ec-query-item',{attrs:{\"label\":\"种植收购年度\"}},[_c('a-select',{attrs:{\"showSearch\":\"\",\"allow-clear\":\"\",\"placeholder\":\"2022\"},on:{\"select\":_vm.selectedStatusList},model:{value:(_vm.statusVal),callback:function ($$v) {_vm.statusVal=$$v},expression:\"statusVal\"}},_vm._l((_vm.statusList),function(s){return _c('a-select-option',{key:s.id},[_vm._v(\" \"+_vm._s(s.name)+\" \")])}),1)],1)]],2),_c('ec-divider')],1),_c('ec-panel-body',[_c('ec-v-layout',[_c('ec-v-item',[_c('ec-table',{ref:\"xTable1\",attrs:{\"show-overflow\":\"\",\"border\":\"\",\"data\":_vm.arr,\"height\":\"680\"}},[_c('ec-table-col',{attrs:{\"type\":\"seq\",\"title\":\"序号\",\"width\":\"50\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"orgName\",\"title\":\"单位名称\",\"width\":\"350\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"title\":\"是否区分出口备货\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.diffExportFlag != 0)?_c('span',[_vm._v(\"否\")]):_c('span',[_vm._v(\"是\")])]}}])}),_c('ec-table-col',{attrs:{\"title\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-button',{attrs:{\"type\":\"link\",\"disabled\":row.diffExportFlag == 0},on:{\"click\":function($event){return _vm.Distinguish(row)}}},[_vm._v(\"区分\")]),_c('a-button',{attrs:{\"type\":\"link\",\"disabled\":row.diffExportFlag == 1},on:{\"click\":function($event){return _vm.Indistinguishable(row)}}},[_vm._v(\"不区分\")])]}}])})],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-container height=\"auto\" title=\"收购计划执行量参数设置\" icon=\"onetomany\" color-code=\"003\">\r\n    <ec-container-body>\r\n      <ec-panel>\r\n        <ec-panel-toolbar>\r\n          <ec-query-panel @query=\"queryHandle\" @reset=\"resetHandle\">\r\n            <template>\r\n              <ec-query-item label=\"种植收购年度\">\r\n                <a-select\r\n                  showSearch\r\n                  allow-clear\r\n                  placeholder=\"2022\"\r\n                  v-model=\"statusVal\"\r\n                  @select=\"selectedStatusList\"\r\n                >\r\n                  <a-select-option v-for=\"s in statusList\" :key=\"s.id\">\r\n                    {{ s.name }}\r\n                  </a-select-option>\r\n                </a-select>\r\n              </ec-query-item>\r\n            </template>\r\n          </ec-query-panel>\r\n          <ec-divider />\r\n        </ec-panel-toolbar>\r\n        <ec-panel-body>\r\n          <ec-v-layout>\r\n            <!-- 列表 -->\r\n            <ec-v-item>\r\n              <ec-table ref=\"xTable1\" show-overflow border :data=\"arr\" height=\"680\">\r\n                <ec-table-col type=\"seq\" title=\"序号\" width=\"50\" align=\"center\" />\r\n                <ec-table-col field=\"orgName\" title=\"单位名称\" width=\"350\" align=\"center\" />\r\n                <ec-table-col title=\"是否区分出口备货\">\r\n                  <template #default=\"{ row }\">\r\n                    <span v-if=\"row.diffExportFlag != 0\">否</span>\r\n                    <span v-else>是</span>\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col title=\"操作\" align=\"center\">\r\n                  <template #default=\"{ row }\">\r\n                    <a-button\r\n                      type=\"link\"\r\n                      @click=\"Distinguish(row)\"\r\n                      :disabled=\"row.diffExportFlag == 0\"\r\n                      >区分</a-button\r\n                    >\r\n                    <a-button\r\n                      type=\"link\"\r\n                      @click=\"Indistinguishable(row)\"\r\n                      :disabled=\"row.diffExportFlag == 1\"\r\n                      >不区分</a-button\r\n                    >\r\n                  </template>\r\n                </ec-table-col>\r\n              </ec-table>\r\n            </ec-v-item>\r\n          </ec-v-layout>\r\n        </ec-panel-body>\r\n      </ec-panel>\r\n    </ec-container-body>\r\n  </ec-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AdminParameter',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      disflag: false,\r\n      indisflag: false,\r\n      statusVal: undefined,\r\n      statusList: [\r\n        { name: '2022', id: 0 },\r\n        { name: '停用', id: 1 },\r\n      ],\r\n      params: {\r\n        busiYear: 2022,\r\n      },\r\n      yearValue: null,\r\n      tableData: [],\r\n\r\n      rowsList: [],\r\n      arr: [],\r\n      orgUniqueCode: '',\r\n      orgCode: '',\r\n    };\r\n  },\r\n  mounted() {\r\n    this.OnQueryPcTBuPlanParam();\r\n    this.OnGetYearByOrgAndType();\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.arr = [];\r\n      for (let i = 0; i < this.tableData.length; i++) {\r\n        this.orgUniqueCode = this.tableData[i].orgUniqueCode;\r\n        this.arr.push({\r\n          orgName: this.tableData[i].orgName,\r\n          diffExportFlag: this.rowsList[0].diffExportFlag,\r\n          orgCode: this.tableData[i].orgUniqueCode,\r\n        });\r\n        // eslint-disable-next-line no-empty\r\n        if (this.orgUniqueCode === this.orgCode) {\r\n          // console.log(666);\r\n          // this.diffExportFlag = \"否\"\r\n          this.arr[i].diffExportFlag = 1;\r\n        }\r\n        // eslint-disable-next-line no-empty\r\n        //  if(this.arr[i].diffExportFlag === 1){\r\n        //     this.disflag = true\r\n        //     this.indisflag = true\r\n        //  }\r\n      }\r\n      // console.log(55,this.arr.diffExportFlag);\r\n\r\n      console.log(211, this.arr);\r\n    },\r\n    // 区分\r\n    Distinguish(row) {\r\n      console.log(row);\r\n      // eslint-disable-next-line no-param-reassign\r\n      row.diffExportFlag = 0;\r\n      const updataList = {\r\n        buPlanParamId: row.buPlanParamId,\r\n        orgCode: row.orgCode,\r\n        diffExportFlag: row.diffExportFlag,\r\n        busiYear: this.yearValue,\r\n      };\r\n      this.$apis.parameter.parameter\r\n        .updatePcTBuPlanParam(updataList)\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.OnQueryPcTBuPlanParam();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {});\r\n    },\r\n    // 不区分\r\n    Indistinguishable(row) {\r\n      console.log(row);\r\n      // eslint-disable-next-line no-param-reassign\r\n      row.diffExportFlag = 1;\r\n      const updataList = {\r\n        buPlanParamId: row.buPlanParamId,\r\n        orgCode: row.orgCode,\r\n        diffExportFlag: row.diffExportFlag,\r\n        busiYear: this.yearValue,\r\n      };\r\n      this.$apis.parameter.parameter\r\n        .updatePcTBuPlanParam(updataList)\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.OnQueryPcTBuPlanParam();\r\n          this.init();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {});\r\n    },\r\n    // 获取所有下级的组织单位机构集合\r\n    OnfindAllChildOrgList() {\r\n      const ChildOrgList = {\r\n        busiYear: this.yearValue,\r\n        orgTypeEk: 'TOBACCO',\r\n        orgLevelEk: '2',\r\n        parentOrgUniqueCode: '11000001000000000000',\r\n      };\r\n      this.$apis.parameter.parameter\r\n        .findAllChildOrgList(ChildOrgList)\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.tableData = res.rows;\r\n          console.log(this.tableData);\r\n          this.init();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {});\r\n    },\r\n    // 按单位和年度类型查询年度参数设置信息\r\n    OnGetYearByOrgAndType() {\r\n      const OrgAndType = {\r\n        orgCode: '11000001000000000000',\r\n        yearTypeCode: 'BU_YEAR',\r\n        appCode: 'CM',\r\n      };\r\n      this.$apis.parameter.parameter\r\n        .getYearByOrgAndType(OrgAndType)\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.yearValue = res.yearValue;\r\n          this.OnfindAllChildOrgList();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {\r\n          window.localStorage.setItem();\r\n        });\r\n    },\r\n    // 获取列表\r\n    OnQueryPcTBuPlanParam() {\r\n      this.$apis.parameter.parameter\r\n        .QueryPcTBuPlanParam(this.params)\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.rowsList = res.rows;\r\n          for (let i = 0; i < this.rowsList.length; i++) {\r\n            this.orgCode = this.rowsList[i].orgCode;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {});\r\n    },\r\n    // 查询\r\n    queryHandle() {\r\n      this.$apis.parameter.parameter.QueryPcTBuPlanParam(this.params).then((res) => {\r\n        console.log(res);\r\n        this.rowsList = res.rows;\r\n      });\r\n    },\r\n    // 重置\r\n    async resetHandle() {\r\n      await this.$apis.parameter.parameter.QueryPcTBuPlanParam(this.params).then((res) => {\r\n        console.log(res);\r\n      });\r\n    },\r\n    selectedStatusList(value) {\r\n      this.statusVal = value;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// ::v-deep .ec-query-item-vertical {\r\n//     display: flex;\r\n// }\r\n// ::v-deep .ec-query-item__label{\r\n//     margin: 0 20px 0 0;\r\n// }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./backups.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./backups.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./backups.vue?vue&type=template&id=b3ef0e04&scoped=true&\"\nimport script from \"./backups.vue?vue&type=script&lang=js&\"\nexport * from \"./backups.vue?vue&type=script&lang=js&\"\nimport style0 from \"./backups.vue?vue&type=style&index=0&id=b3ef0e04&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b3ef0e04\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./backups.vue?vue&type=style&index=0&id=b3ef0e04&prod&lang=less&scoped=true&\""],"sourceRoot":""}