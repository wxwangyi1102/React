{"version":3,"sources":["webpack:///./src/views/apm/daily/pool/AddModal/AddModal.vue?52e1","webpack:///./src/views/apm/daily/pool/Index.vue?c270","webpack:///./src/views/apm/daily/pool/AddModal/AddModal.vue?daf4","webpack:///src/views/apm/daily/pool/AddModal/AddModal.vue","webpack:///./src/views/apm/daily/pool/AddModal/AddModal.vue?ddc5","webpack:///./src/views/apm/daily/pool/AddModal/AddModal.vue","webpack:///src/views/apm/daily/pool/Index.vue","webpack:///./src/views/apm/daily/pool/Index.vue?9c7f","webpack:///./src/views/apm/daily/pool/Index.vue","webpack:///./src/components/TreePicker/src/OrgTree.vue?a763","webpack:///src/components/TreePicker/src/OrgTree.vue","webpack:///./src/components/TreePicker/src/OrgTree.vue?dd69","webpack:///./src/components/TreePicker/src/OrgTree.vue","webpack:///./src/components/TreePicker/src/DivisionPicker.vue?6ba2","webpack:///src/components/TreePicker/src/DivisionPicker.vue","webpack:///./src/components/TreePicker/src/DivisionPicker.vue?e579","webpack:///./src/components/TreePicker/src/DivisionPicker.vue","webpack:///./src/components/TreePicker/src/DivisionTree.vue?cedc","webpack:///src/components/TreePicker/src/DivisionTree.vue","webpack:///./src/components/TreePicker/src/DivisionTree.vue?b70b","webpack:///./src/components/TreePicker/src/DivisionTree.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","_v","_s","busiYear","on","queryHandle","resetHandle","scopedSlots","_u","key","fn","model","value","listQuery","callback","$$v","$set","expression","proxy","trim","_l","item","enumKey","name","onAdd","ref","tableData","loading","pagination","footerMethod","handlePagination","row","$event","onDetails","operateTypeList","staticRenderFns","staticClass","isAdd","visible","cancel","ruleForm","rules","trigger","mode","type","apprWeightChange","_e","fileList","fileUpload","saveUpdate","save","components","OrgPicker","props","data","rowData","checked","planMakeOrgList","SAVE_STORAGE","computed","listenChange","supplyOrgCode","demandOrgCode","watch","console","queryBaAdjustPcTAsAssoApprTpl","then","aaApprWeight","baApprWeight","pprWeight","catch","methods","that","uid","param","$ec","post","headers","finally","show","queryDetailPcTAsAssoApprTpl","asAssoApprTplId","localStorage","addPagePcTAsSliceApprTpl","created","component","AddModal","weightUnitList","pageNumber","pageSize","total","getTableData","pageNo","res","getFormat","priceSearchformat","functionCode","enmuType","init","getEnumType","enumTypeCodes","sumNum","list","field","count","columns","includes","column","_g","_b","lazy","join","search","activeFirst","initLevel","fetchGetTree","fetchGetTreeById","fetchGetTreeByName","replaceFields","valueField","isShowParent","onSelectTreeData","$attrs","$listeners","slot","_t","inheritAttrs","TreeSearch","baseUrl","default","treeApi","treeApiById","treeApiByName","placeholder","multiple","allowClear","limitLevel","pkey","title","children","otherParams","params","orgUniqueCode","send","orgLevelNum","resolve","reject","orgName","Object","selectedKeys","selectOption","treeData","onRefreshTree","onSelectTreeFn","keys","disabled","SelectPicker","prop","event","width","height","top","centered","divisionUniqueCode","divisionLevelNum","divisionName"],"mappings":"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","file":"js/chunk-1614a3ef.aab79a23.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddModal.vue?vue&type=style&index=0&id=54b588bf&prod&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-container',{attrs:{\"title\":\"联营加工调拨计划量登记\",\"icon\":\"onetomany\",\"color-code\":\"001\"}},[_c('ec-container-body',[_c('ec-panel',[_c('ec-panel-toolbar',[_c('ec-panel-item',[_c('ec-panel-item-right',{staticStyle:{\"font-size\":\"16px\"}},[_vm._v(\"业务年度: \"+_vm._s(_vm.busiYear))])],1),_c('ec-panel-item',[_c('ec-query-panel',{attrs:{\"defaultFold\":true},on:{\"query\":_vm.queryHandle,\"reset\":_vm.resetHandle},scopedSlots:_vm._u([{key:\"inner\",fn:function(){return [_c('ec-query-item',{attrs:{\"label\":\"办理依据\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.listQuery.remark),callback:function ($$v) {_vm.$set(_vm.listQuery, \"remark\", $$v)},expression:\"listQuery.remark\"}})],1)]},proxy:true}])},[_c('ec-query-item',{attrs:{\"label\":\"供方单位\"}},[_c('OrgPicker',{model:{value:(_vm.listQuery.supplyOrgCode),callback:function ($$v) {_vm.$set(_vm.listQuery, \"supplyOrgCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"listQuery.supplyOrgCode\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"需方单位\"}},[_c('OrgPicker',{model:{value:(_vm.listQuery.demandOrgCode),callback:function ($$v) {_vm.$set(_vm.listQuery, \"demandOrgCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"listQuery.demandOrgCode\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"计量单位\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.listQuery.weightUnit),callback:function ($$v) {_vm.$set(_vm.listQuery, \"weightUnit\", $$v)},expression:\"listQuery.weightUnit\"}},_vm._l((_vm.weightUnitList),function(item){return _c('a-select-option',{key:item.enumKey,attrs:{\"value\":item.enumKey}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"操作类型\"}},[_c('a-select',{attrs:{\"allowClear\":\"\",\"placeholder\":\"请选择操作类型\"},model:{value:(_vm.listQuery.operateType),callback:function ($$v) {_vm.$set(_vm.listQuery, \"operateType\", $$v)},expression:\"listQuery.operateType\"}},_vm._l((_vm.operateTypeList),function(item){return _c('a-select-option',{key:item.enumKey,attrs:{\"value\":item.enumKey}},[_vm._v(_vm._s(item.name))])}),1)],1)],1)],1),_c('ec-divider')],1),_c('ec-panel-body',[_c('ec-v-layout',[_c('ec-v-item',[_c('ec-panel-toolbar',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onAdd}},[_vm._v(\"新增\")])],1)],1),_c('ec-v-item',[_c('ec-table',{ref:\"table\",attrs:{\"data\":_vm.tableData,\"loading\":_vm.loading,\"border\":\"\",\"pagination\":_vm.pagination,\"footer-method\":_vm.footerMethod,\"show-footer\":\"\"},on:{\"page-action\":_vm.handlePagination}},[_c('ec-table-col',{attrs:{\"width\":\"60\",\"type\":\"checkbox\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"title\":\"序号\",\"width\":\"80\",\"type\":\"seq\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"title\":\"供方单位\",\"field\":\"supplyOrgName\"}}),_c('ec-table-col',{attrs:{\"title\":\"需方单位\",\"field\":\"demandOrgName\"}}),_c('ec-table-col',{attrs:{\"title\":\"计划核定量\",\"field\":\"apprWeight\",\"align\":\"right\"}}),_c('ec-table-col',{attrs:{\"title\":\"办理依据\",\"field\":\"remark\"}}),_c('ec-table-col',{attrs:{\"title\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.onDetails(row, 'range')}}},[_vm._v(\"详细\")])]}}])})],1)],1)],1)],1)],1),_c('add-modal',{ref:\"addModal\",attrs:{\"operateTypeList\":_vm.operateTypeList}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":!_vm.isAdd ? '详细' : '新增',\"visible\":_vm.visible,\"size\":\"large\",\"is-confirm\":true},on:{\"close\":_vm.cancel}},[_c('ec-container',[_c('ec-container-body',[_c('ec-panel',{attrs:{\"title\":\"第一步: 选取供需方单位、操作类型\",\"color-code\":\"003\"}},[_c('ec-panel-item',[_c('ec-panel-item-right',{staticStyle:{\"font-size\":\"16px\"}},[_vm._v(\"业务年度: \"+_vm._s(_vm.busiYear))])],1),_c('ec-panel-item',[_c('ec-form',{ref:\"modelAddForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules}},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":12}},[_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"供方单位\",\"prop\":\"supplyOrgCode\"}},[_c('OrgPicker',{model:{value:(_vm.ruleForm.supplyOrgCode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"supplyOrgCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.supplyOrgCode\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"需方单位\",\"prop\":\"demandOrgCode\"}},[_c('OrgPicker',{model:{value:(_vm.ruleForm.demandOrgCode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"demandOrgCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.demandOrgCode\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"操作类型\",\"prop\":\"operateType\"}},[_c('a-select',{attrs:{\"allowClear\":\"\",\"placeholder\":\"请选择操作类型\"},model:{value:(_vm.ruleForm.operateType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"operateType\", $$v)},expression:\"ruleForm.operateType\"}},_vm._l((_vm.operateTypeList),function(item){return _c('a-select-option',{key:item.enumKey,attrs:{\"value\":item.name}},[_vm._v(_vm._s(item.name))])}),1)],1)],1)],1),_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":12}},[_c('a-col',{attrs:{\"span\":24}},[_c('a-form-model-item',{attrs:{\"label\":\"办理依据\",\"prop\":\"remark\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入办理依据\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.remark),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"remark\", $$v)},expression:\"ruleForm.remark\"}})],1)],1)],1)],1)],1)],1),_c('ec-panel',{attrs:{\"title\":\"步骤二: 录入/编辑数量\",\"color-code\":\"003\"}},[_c('ec-panel-item',[_c('ec-table',{ref:\"xTable\",attrs:{\"border\":\"\",\"auto\":\"\",\"height\":\"\",\"edit-config\":{ trigger: 'click', mode: 'row' },\"data\":_vm.tableData}},[_c('ec-table-col',{attrs:{\"title\":\"调整前量\",\"field\":\"baApprWeight\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input',{model:{value:(row.baApprWeight),callback:function ($$v) {_vm.$set(row, \"baApprWeight\", $$v)},expression:\"row.baApprWeight\"}})]}}])}),_c('ec-table-col',{attrs:{\"title\":\"本次调整量\",\"field\":\"apprWeight\",\"align\":\"center\",\"edit-render\":{ name: 'input', attrs: { type: 'text' } }},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.apprWeight)?_c('div',[_c('a-input',{on:{\"change\":function($event){return _vm.apprWeightChange(row)}},model:{value:(row.apprWeight),callback:function ($$v) {_vm.$set(row, \"apprWeight\", $$v)},expression:\"row.apprWeight\"}})],1):_vm._e()]}}])}),_c('ec-table-col',{attrs:{\"title\":\"调整后量\",\"field\":\"aaApprWeight\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input',{model:{value:(row.aaApprWeight),callback:function ($$v) {_vm.$set(row, \"aaApprWeight\", $$v)},expression:\"row.aaApprWeight\"}})]}}])})],1)],1)],1),_c('ec-panel',{attrs:{\"title\":\"第三步: 上传凭据附件\",\"color-code\":\"003\"}},[_c('ec-panel-item',[_c('a-upload',{attrs:{\"fileList\":_vm.fileList,\"action\":\"/dts/plm/c/pcTAsSliceApprTpl/fileUploadPcTAsAttachFiles/v1\",\"size\":5210},on:{\"change\":_vm.fileUpload},model:{value:(_vm.ruleForm.file),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"file\", $$v)},expression:\"ruleForm.file\"}},[_vm._v(\" 附件：\"),(_vm.isAdd)?_c('a-button',{attrs:{\"icon\":\"upload\"}},[_vm._v(\"上传文件\")]):_vm._e()],1),_c('p',{staticClass:\"tips\"},[_vm._v(\" 支持扩展名：.rar .zip .doc .docx .pdf .jpg .xls .xlsx 文件大小不超过50M \")])],1)],1)],1),(_vm.isAdd)?_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveUpdate}},[_vm._v(\"保存并新增\")]),_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_c('a-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"关闭\")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer\r\n    :title=\"!isAdd ? '详细' : '新增'\"\r\n    :visible=\"visible\"\r\n    size=\"large\"\r\n    @close=\"cancel\"\r\n    class=\"ec-draw-form\"\r\n    :is-confirm=\"true\"\r\n  >\r\n    <ec-container>\r\n      <ec-container-body>\r\n        <ec-panel title=\"第一步: 选取供需方单位、操作类型\" color-code=\"003\">\r\n          <ec-panel-item>\r\n            <ec-panel-item-right style=\"font-size: 16px\"\r\n              >业务年度: {{ busiYear }}</ec-panel-item-right\r\n            >\r\n          </ec-panel-item>\r\n          <ec-panel-item>\r\n            <ec-form ref=\"modelAddForm\" :model=\"ruleForm\" :rules=\"rules\">\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"供方单位\" prop=\"supplyOrgCode\">\r\n                    <!-- <ec-org-picker allow-clear v-model=\"ruleForm.supplyOrgCode\" /> -->\r\n                    <OrgPicker v-model.trim=\"ruleForm.supplyOrgCode\"></OrgPicker>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"需方单位\" prop=\"demandOrgCode\">\r\n                    <!-- <ec-org-picker allow-clear v-model=\"ruleForm.demandOrgCode\" /> -->\r\n                    <OrgPicker v-model.trim=\"ruleForm.demandOrgCode\"></OrgPicker>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"8\">\r\n                  <a-form-model-item label=\"操作类型\" prop=\"operateType\">\r\n                    <a-select\r\n                      allowClear\r\n                      v-model=\"ruleForm.operateType\"\r\n                      placeholder=\"请选择操作类型\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"item in operateTypeList\"\r\n                        :key=\"item.enumKey\"\r\n                        :value=\"item.name\"\r\n                        >{{ item.name }}</a-select-option\r\n                      >\r\n                    </a-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"24\">\r\n                  <a-form-model-item label=\"办理依据\" prop=\"remark\">\r\n                    <a-input\r\n                      v-model=\"ruleForm.remark\"\r\n                      placeholder=\"请输入办理依据\"\r\n                      autocomplete=\"off\"\r\n                    />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n            </ec-form>\r\n          </ec-panel-item>\r\n        </ec-panel>\r\n        <ec-panel title=\"步骤二: 录入/编辑数量\" color-code=\"003\">\r\n          <ec-panel-item>\r\n            <ec-table\r\n              ref=\"xTable\"\r\n              border\r\n              auto\r\n              height=\"\"\r\n              :edit-config=\"{ trigger: 'click', mode: 'row' }\"\r\n              :data=\"tableData\"\r\n            >\r\n              <ec-table-col title=\"调整前量\" field=\"baApprWeight\" align=\"center\">\r\n                <template #edit=\"{ row }\"> <a-input v-model=\"row.baApprWeight\"></a-input> </template\r\n              ></ec-table-col>\r\n              <ec-table-col\r\n                title=\"本次调整量\"\r\n                field=\"apprWeight\"\r\n                align=\"center\"\r\n                :edit-render=\"{ name: 'input', attrs: { type: 'text' } }\"\r\n              >\r\n                <template #default=\"{ row }\">\r\n                  <div v-if=\"row.apprWeight\">\r\n                    <a-input v-model=\"row.apprWeight\" @change=\"apprWeightChange(row)\"></a-input>\r\n                  </div>\r\n                  <!-- <div v-else>0</div> -->\r\n                </template>\r\n              </ec-table-col>\r\n              <ec-table-col title=\"调整后量\" field=\"aaApprWeight\" align=\"center\">\r\n                <template #edit=\"{ row }\"> <a-input v-model=\"row.aaApprWeight\"></a-input> </template\r\n              ></ec-table-col>\r\n            </ec-table>\r\n          </ec-panel-item>\r\n        </ec-panel>\r\n        <ec-panel title=\"第三步: 上传凭据附件\" color-code=\"003\">\r\n          <ec-panel-item>\r\n            <a-upload\r\n              :fileList=\"fileList\"\r\n              action=\"/dts/plm/c/pcTAsSliceApprTpl/fileUploadPcTAsAttachFiles/v1\"\r\n              @change=\"fileUpload\"\r\n              v-model=\"ruleForm.file\"\r\n              :size=\"5210\"\r\n            >\r\n              附件：<a-button icon=\"upload\" v-if=\"isAdd\">上传文件</a-button>\r\n            </a-upload>\r\n            <p class=\"tips\">\r\n              支持扩展名：.rar .zip .doc .docx .pdf .jpg .xls .xlsx 文件大小不超过50M\r\n            </p>\r\n          </ec-panel-item>\r\n        </ec-panel>\r\n      </ec-container-body>\r\n      <ec-container-footer fixed v-if=\"isAdd\">\r\n        <a-button type=\"primary\" @click=\"saveUpdate\">保存并新增</a-button>\r\n        <a-button type=\"primary\" @click=\"save\">保存</a-button>\r\n        <a-button @click=\"cancel\">关闭</a-button>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n<script>\r\nimport { OrgPicker } from '@/components/TreePicker';\r\n\r\nexport default {\r\n  name: 'AdminOrgManageEdit',\r\n  components: {\r\n    OrgPicker,\r\n  },\r\n  props: {\r\n    operateTypeList: {\r\n      type: Array,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      busiYear: new Date().getFullYear(),\r\n      fileList: [],\r\n      rowData: '',\r\n      visible: false,\r\n      checked: false,\r\n      ruleForm: {},\r\n      rules: {\r\n        // memberOrgCode: { required: true, message: '请输入会员单位' },\r\n        // operateType: { required: true, message: '请输入操作类型' },\r\n        // planMakeOrg: { required: true, message: '请输入计量单位' },\r\n        // remark: { required: true, message: '请输入办理依据' },\r\n      },\r\n      planMakeOrgList: [],\r\n      tableData: [],\r\n      isAdd: true,\r\n      SAVE_STORAGE: '',\r\n    };\r\n  },\r\n  computed: {\r\n    listenChange() {\r\n      const { supplyOrgCode, demandOrgCode } = this.ruleForm;\r\n      return { supplyOrgCode, demandOrgCode };\r\n    },\r\n  },\r\n  watch: {\r\n    listenChange(value) {\r\n      if (value.supplyOrgCode && value.demandOrgCode) {\r\n        const data = {\r\n          demandOrgCode: value.demandOrgCode[0],\r\n          supplyOrgCode: value.supplyOrgCode[0],\r\n          busiYear: this.busiYear,\r\n        };\r\n        console.log(data);\r\n        this.$apis.apm.dailyPool\r\n          .queryBaAdjustPcTAsAssoApprTpl(data)\r\n          .then((res) => {\r\n            console.log(res);\r\n            const { aaApprWeight, baApprWeight } = res;\r\n            this.tableData = [\r\n              {\r\n                aaApprWeight: aaApprWeight || 0,\r\n                baApprWeight: baApprWeight || 0,\r\n                pprWeight: this.ruleForm.apprWeight,\r\n              },\r\n            ];\r\n            console.log(this.tableData);\r\n            // this.addChange(this.tableData[1]);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n      console.log(value);\r\n    },\r\n  },\r\n  methods: {\r\n    apprWeightChange(row) {\r\n      this.$set(this.tableData[0], 'aaApprWeight', row.ApprWeight + row.apprWeight);\r\n    },\r\n    // 文件上传\r\n    async fileUpload(data) {\r\n      const that = this;\r\n      if (that._data.uploading) {\r\n        return;\r\n      }\r\n      const { uid } = data.file;\r\n      // 由于上传附件change事件会在上传中、完成、失败都调用，那么需要判断，如果是在上传中，就不能重复调用\r\n      if (uid && that._data.fileUid !== uid) {\r\n        this._data.fileUid = uid;\r\n        const param = new FormData();\r\n        param.append('file', data.file.originFileObj);\r\n        // param.append('moduleCode', 'PIM001001001');\r\n        // param.append('moduleName', '执行量录入');\r\n        // param.append('busiYear', that._data.nowYear);\r\n        // param.append('orgCode', that._data.orgCode);\r\n        that._data.uploading = true;\r\n        await $ec.http\r\n          .post('/dts/plm/c/pcTAsSliceApprTpl/fileUploadPcTAsAttachFile/v1', param, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data',\r\n            },\r\n          })\r\n          .then((res) => {\r\n            console.log(res);\r\n            this.ruleForm.fileId = res.id;\r\n            if (!res.id) {\r\n              this.$message.error('上传失败');\r\n            } else {\r\n              this.$message.success('上传成功');\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          })\r\n          .finally(() => {\r\n            // 设置上传中的上传效果，同时使用该参数设置上传状态不可用，保证幂等性\r\n            that._data.uploading = false;\r\n          });\r\n        // 上传之后重新处理列表数据\r\n        // await that.handleFileInit('query');\r\n      }\r\n    },\r\n    // 显示推窗\r\n    show(row) {\r\n      // console.log('row', row);\r\n      this.visible = true;\r\n      // 判断是否新增\r\n      if (row) {\r\n        this.isAdd = false;\r\n        // 请求详细信息\r\n        this.$apis.apm.dailyPool\r\n          .queryDetailPcTAsAssoApprTpl({ asAssoApprTplId: row.asAssoApprTplId })\r\n          .then((res) => {\r\n            console.log(res);\r\n            this.ruleForm = res;\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n        // this.$http.post('/pages', this.ruleForm).then(data => {\r\n        //   this.$message.success('操作成功！')\r\n        // })\r\n        // console.log(row);\r\n        // this.ruleForm = row;\r\n      } else {\r\n        // JSON.parse(localStorage.getItem('SAVE_STORAGE'))\r\n        //   ? (this.ruleForm = this.SAVE_STORAGE)\r\n        //   : (this.ruleForm = {});\r\n        this.ruleForm = {};\r\n        this.tableData = [{}];\r\n      }\r\n    },\r\n    // 保存本地\r\n    save() {\r\n      localStorage.setItem('SAVE_STORAGE', JSON.stringify(this.ruleForm));\r\n    },\r\n    // 保存并更新\r\n    saveUpdate() {\r\n      // 如果只需要验证一个form表单\r\n      this.$refs.modelAddForm.validate((valid) => {\r\n        if (valid) {\r\n          // 1. 保存数据逻辑\r\n          // this.$http.post('/pages', this.form).then(res => {\r\n          //   this.$message.success('操作成功！')\r\n          //   this.formCancel()\r\n          // })\r\n          console.log('验证通过');\r\n          // this.formCancel();\r\n        } else {\r\n          console.log('验证未通过');\r\n        }\r\n      });\r\n\r\n      this.$apis.apm.dailyThin\r\n        .addPagePcTAsSliceApprTpl({\r\n          ...this.ruleForm,\r\n          demandOrgCode: this.ruleForm.demandOrgCode[0],\r\n          supplyOrgCode: this.ruleForm.supplyOrgCode[0],\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n        });\r\n    },\r\n    // 取消\r\n    cancel() {\r\n      this.visible = false;\r\n      this.isAdd = true;\r\n      // 清空form\r\n      this.$refs.modelAddForm.resetFields();\r\n    },\r\n  },\r\n  created() {},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.tips {\r\n  color: rgb(183, 177, 177);\r\n  text-indent: 2em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddModal.vue?vue&type=template&id=54b588bf&scoped=true&\"\nimport script from \"./AddModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddModal.vue?vue&type=style&index=0&id=54b588bf&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54b588bf\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <ec-container title=\"联营加工调拨计划量登记\" icon=\"onetomany\" color-code=\"001\">\r\n    <ec-container-body>\r\n      <ec-panel>\r\n        <ec-panel-toolbar>\r\n          <ec-panel-item>\r\n            <ec-panel-item-right style=\"font-size: 16px\"\r\n              >业务年度: {{ busiYear }}</ec-panel-item-right\r\n            >\r\n          </ec-panel-item>\r\n          <ec-panel-item>\r\n            <ec-query-panel :defaultFold=\"true\" @query=\"queryHandle\" @reset=\"resetHandle\">\r\n              <ec-query-item label=\"供方单位\">\r\n                <OrgPicker v-model.trim=\"listQuery.supplyOrgCode\"></OrgPicker>\r\n              </ec-query-item>\r\n              <ec-query-item label=\"需方单位\">\r\n                <OrgPicker v-model.trim=\"listQuery.demandOrgCode\"></OrgPicker>\r\n              </ec-query-item>\r\n              <ec-query-item label=\"计量单位\">\r\n                <ec-select\r\n                  showSearch\r\n                  allowClear\r\n                  placeholder=\"请选择\"\r\n                  v-model=\"listQuery.weightUnit\"\r\n                >\r\n                  <a-select-option\r\n                    v-for=\"item in weightUnitList\"\r\n                    :key=\"item.enumKey\"\r\n                    :value=\"item.enumKey\"\r\n                  >\r\n                    {{ item.name }}\r\n                  </a-select-option>\r\n                </ec-select>\r\n              </ec-query-item>\r\n              <ec-query-item label=\"操作类型\">\r\n                <a-select allowClear v-model=\"listQuery.operateType\" placeholder=\"请选择操作类型\">\r\n                  <a-select-option\r\n                    v-for=\"item in operateTypeList\"\r\n                    :key=\"item.enumKey\"\r\n                    :value=\"item.enumKey\"\r\n                    >{{ item.name }}</a-select-option\r\n                  >\r\n                </a-select>\r\n              </ec-query-item>\r\n              <template #inner>\r\n                <ec-query-item label=\"办理依据\">\r\n                  <a-input v-model=\"listQuery.remark\" placeholder=\"请输入\" />\r\n                </ec-query-item>\r\n              </template>\r\n            </ec-query-panel>\r\n          </ec-panel-item>\r\n          <ec-divider />\r\n        </ec-panel-toolbar>\r\n\r\n        <ec-panel-body>\r\n          <ec-v-layout>\r\n            <ec-v-item>\r\n              <ec-panel-toolbar>\r\n                <a-button type=\"primary\" @click=\"onAdd\">新增</a-button>\r\n              </ec-panel-toolbar>\r\n            </ec-v-item>\r\n            <ec-v-item>\r\n              <ec-table\r\n                ref=\"table\"\r\n                :data=\"tableData\"\r\n                :loading=\"loading\"\r\n                border\r\n                @page-action=\"handlePagination\"\r\n                :pagination=\"pagination\"\r\n                :footer-method=\"footerMethod\"\r\n                show-footer\r\n              >\r\n                <ec-table-col width=\"60\" type=\"checkbox\" align=\"center\"></ec-table-col>\r\n                <ec-table-col title=\"序号\" width=\"80\" type=\"seq\" align=\"center\"></ec-table-col>\r\n                <ec-table-col title=\"供方单位\" field=\"supplyOrgName\"></ec-table-col>\r\n                <ec-table-col title=\"需方单位\" field=\"demandOrgName\"></ec-table-col>\r\n                <ec-table-col title=\"计划核定量\" field=\"apprWeight\" align=\"right\"></ec-table-col>\r\n                <ec-table-col title=\"办理依据\" field=\"remark\"></ec-table-col>\r\n                <ec-table-col title=\"操作\" #default=\"{ row }\" align=\"center\">\r\n                  <a-button type=\"link\" @click=\"onDetails(row, 'range')\">详细</a-button>\r\n                </ec-table-col>\r\n              </ec-table>\r\n            </ec-v-item>\r\n          </ec-v-layout>\r\n        </ec-panel-body>\r\n      </ec-panel>\r\n      <add-modal ref=\"addModal\" :operateTypeList=\"operateTypeList\"></add-modal>\r\n    </ec-container-body>\r\n  </ec-container>\r\n</template>\r\n\r\n<script>\r\nimport AddModal from './AddModal/AddModal.vue';\r\nimport { OrgPicker } from '@/components/TreePicker';\r\n\r\nexport default {\r\n  name: 'dailyPool',\r\n  components: {\r\n    AddModal,\r\n    OrgPicker,\r\n  },\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      weightUnitList: [],\r\n      operateTypeList: [],\r\n      busiYear: new Date().getFullYear(),\r\n      loading: false,\r\n      listQuery: {},\r\n      pagination: {\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n    };\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    // 新增\r\n    onAdd() {\r\n      console.log('ggggggggggggggggggggggggggggggggg');\r\n      this.$refs.addModal.show();\r\n    },\r\n    // 详细查询\r\n    onDetails(row) {\r\n      this.$refs.addModal.show(row);\r\n    },\r\n    // 重置\r\n    resetHandle() {\r\n      this.listQuery = {};\r\n    },\r\n    // 请求分页查询\r\n    async getTableData() {\r\n      try {\r\n        const res = await this.$apis.apm.dailyPool.queryPagePcTAsAssoApprTpl({\r\n          ...this.listQuery,\r\n          // supplyOrgCode: this.listQuery.supplyOrgCode[0],\r\n          // demandOrgCode: this.listQuery.demandOrgCode[0],\r\n          pageNo: this.pagination.pageNumber,\r\n          pageSize: this.pagination.pageSize,\r\n        });\r\n        console.log(res);\r\n        this.tableData = res.rows;\r\n        this.pagination.total = res.totalRows;\r\n      } catch (err) {\r\n        console.log('err', err.message);\r\n      }\r\n      // const leafTypeCode = this.leafTypeList.length ? this.leafTypeList[0].id : '';\r\n      // const leafTypeName = this.leafTypeList.length ? this.leafTypeList[0].label : '';\r\n      // this.$apis.apm.dailyPool\r\n      //   .getDataGridCols({\r\n      //     enableFlag: 1,\r\n      //     leafTypeCode: '13',\r\n      //     leafTypeName: '13',\r\n      //   })\r\n      //   .then((info) => {\r\n      //     this.tableData = info?.priceTagList;\r\n      //   });\r\n    },\r\n    handlePagination(pageNumber, pageSize) {\r\n      this.pagination.pageNumber = pageNumber;\r\n      this.pagination.pageSize = pageSize;\r\n    },\r\n    // 查询\r\n    queryHandle() {\r\n      this.getTableData();\r\n    },\r\n    // 枚举数据获取\r\n    getFormat() {\r\n      this.$apis.apm.dailyPool\r\n        .priceSearchformat({ functionCode: 'MK5705', enmuType: 'TL_PRICE_UNIT' })\r\n        .then((data) => {\r\n          this.bizYear = data?.bizYear;\r\n          this.leafTypeList = data?.leafTypeList;\r\n          this.leafVarietyList = data?.leafVarietyList;\r\n          console.log(data);\r\n          this.getTableData();\r\n        });\r\n    },\r\n    init() {\r\n      this.getEnumType();\r\n    },\r\n    getEnumType() {\r\n      this.$apis.enum.index\r\n        .getEnumType({\r\n          enumTypeCodes: ['OPERATE_TYPE', 'WEIGHT_UNIT'],\r\n        })\r\n        .then((res) => {\r\n          if (res) {\r\n            console.log(res);\r\n            this.operateTypeList = res.enumMap.OPERATE_TYPE;\r\n            this.weightUnitList = res.enumMap.WEIGHT_UNIT;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    // 计算合计的数据\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        count += Number(item[field]);\r\n      });\r\n      return count.toFixed(2);\r\n    },\r\n    // 底部的合计\r\n    footerMethod({ columns, data }) {\r\n      // console.log(columns, data);\r\n      return [\r\n        columns.map((column, columnIndex) => {\r\n          if (columnIndex === 0) {\r\n            return '合计';\r\n          }\r\n          if (\r\n            [\r\n              'materialWeight',\r\n              // 'materialProdWeight',\r\n              // 'materialBuyWeight',\r\n              // 'sliceWeight',\r\n              // 'sliceProdWeight',\r\n              // 'sliceSaleWeight',\r\n            ].includes(column.property)\r\n          ) {\r\n            return this.sumNum(data, column.property);\r\n          }\r\n          return null;\r\n        }),\r\n      ];\r\n    },\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=3dad8fb3&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TreeSearch',_vm._g(_vm._b({ref:\"org\",attrs:{\"lazy\":_vm.lazy,\"join\":_vm.join,\"search\":_vm.search,\"activeFirst\":_vm.activeFirst,\"initLevel\":_vm.initLevel,\"fetchData\":_vm.fetchGetTree,\"fetchDataById\":_vm.fetchGetTreeById,\"fetchDataByName\":_vm.fetchGetTreeByName,\"replaceFields\":_vm.replaceFields,\"valueField\":_vm.valueField,\"isShowParent\":_vm.isShowParent},on:{\"select\":_vm.onSelectTreeData}},'TreeSearch',_vm.$attrs,false),_vm.$listeners),[_c('template',{slot:\"title\"},[_vm._t(\"title\")],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <TreeSearch\r\n    ref=\"org\"\r\n    v-bind=\"$attrs\"\r\n    :lazy=\"lazy\"\r\n    :join=\"join\"\r\n    :search=\"search\"\r\n    :activeFirst=\"activeFirst\"\r\n    :initLevel=\"initLevel\"\r\n    :fetchData=\"fetchGetTree\"\r\n    :fetchDataById=\"fetchGetTreeById\"\r\n    :fetchDataByName=\"fetchGetTreeByName\"\r\n    :replaceFields=\"replaceFields\"\r\n    :valueField=\"valueField\"\r\n    :isShowParent=\"isShowParent\"\r\n    v-on=\"$listeners\"\r\n    @select=\"onSelectTreeData\"\r\n  >\r\n    <template slot=\"title\"><slot name=\"title\"></slot></template>\r\n  </TreeSearch>\r\n</template>\r\n<script>\r\nimport TreeSearch from './TreeSearch.vue';\r\nimport { treeFormatList } from '@/components/_utils';\r\n\r\nexport default {\r\n  inheritAttrs: false,\r\n  name: 'OrgTree',\r\n  components: {\r\n    TreeSearch,\r\n  },\r\n  props: {\r\n    baseUrl: {\r\n      type: String,\r\n      default: '/dts/bim',\r\n    },\r\n    treeApi: {\r\n      type: String,\r\n      default: '/q/cmTOrgMain/getCmTOrgMainTreeDataList/v1',\r\n    },\r\n    treeApiById: {\r\n      type: String,\r\n      default: '/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgUniqueCode/v1',\r\n    },\r\n    treeApiByName: {\r\n      type: String,\r\n      default: '/q/cmTOrgMain/getCmTOrgMainTreeParentByOrgName/v1',\r\n    },\r\n    // 选择框默认文字\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择关键词搜索',\r\n    },\r\n    // 是否支持多选\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    isShowParent: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    activeFirst: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否支持清除\r\n    allowClear: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    initLevel: {\r\n      type: [Number, null],\r\n      default: 2,\r\n    },\r\n    // 树加载层级\r\n    limitLevel: {\r\n      type: [Number, String, null],\r\n      default: null,\r\n    },\r\n    replaceFields: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          pkey: 'pkey',\r\n          title: 'title',\r\n          key: 'key',\r\n          children: 'children',\r\n        };\r\n      },\r\n    },\r\n    valueField: {\r\n      type: String,\r\n      default: 'key',\r\n    },\r\n    join: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    search: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    lazy: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      otherParams: {},\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取树\r\n    fetchGetTree(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const orgUniqueCode = params?.code;\r\n\r\n        orgUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApi, {\r\n            orgLevelNum: this.limitLevel,\r\n            orgUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeById(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const orgUniqueCode = params?.code;\r\n        orgUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiById, {\r\n            orgLevelNum: this.limitLevel,\r\n            orgUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeByName(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const orgName = params?.name;\r\n        orgName && Reflect.deleteProperty(params, 'name');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiByName, {\r\n            orgLevelNum: this.limitLevel,\r\n            orgName,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 从树中获取数据,临时存储\r\n    onSelectTreeData({ treeSelectedKeys, treeData, selectOption }) {\r\n      Object.assign(this, {\r\n        selectedKeys: treeSelectedKeys,\r\n        selectOption,\r\n        treeData,\r\n      });\r\n    },\r\n    // 刷新树\r\n    onRefreshTree(params) {\r\n      this.otherParams = params;\r\n      this.$refs.org && this.$refs.org.handleTreeData(params);\r\n    },\r\n    // 手动触发select节点事件\r\n    onSelectTreeFn(keys) {\r\n      this.$refs.org && this.$refs.org.onSelectTreeFn(keys);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\"></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrgTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrgTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrgTree.vue?vue&type=template&id=eeec6864&\"\nimport script from \"./OrgTree.vue?vue&type=script&lang=js&\"\nexport * from \"./OrgTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SelectPicker',_vm._g(_vm._b({attrs:{\"title\":_vm.title,\"value\":_vm.value,\"search\":_vm.search,\"allow-clear\":_vm.allowClear,\"placeholder\":_vm.placeholder,\"multiple\":_vm.multiple,\"disabled\":_vm.disabled,\"valueField\":_vm.valueField,\"fetchData\":_vm.fetchGetTree,\"fetchDataById\":_vm.fetchGetTreeById,\"fetchDataByName\":_vm.fetchGetTreeByName}},'SelectPicker',_vm.$attrs,false),_vm.$listeners))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <SelectPicker\r\n    v-bind=\"$attrs\"\r\n    :title=\"title\"\r\n    :value=\"value\"\r\n    :search=\"search\"\r\n    :allow-clear=\"allowClear\"\r\n    :placeholder=\"placeholder\"\r\n    :multiple=\"multiple\"\r\n    :disabled=\"disabled\"\r\n    :valueField=\"valueField\"\r\n    :fetchData=\"fetchGetTree\"\r\n    :fetchDataById=\"fetchGetTreeById\"\r\n    :fetchDataByName=\"fetchGetTreeByName\"\r\n    v-on=\"$listeners\"\r\n  />\r\n</template>\r\n<script>\r\nimport SelectPicker from './SelectPicker.vue';\r\nimport { treeFormatList } from '@/components/_utils';\r\n\r\nexport default {\r\n  inheritAttrs: false,\r\n  name: 'DivisionPicker',\r\n  components: {\r\n    SelectPicker,\r\n  },\r\n  model: {\r\n    prop: 'value',\r\n    event: 'change',\r\n  },\r\n  props: {\r\n    value: {\r\n      type: [String, Array, null],\r\n      default: null,\r\n    },\r\n    baseUrl: {\r\n      type: String,\r\n      default: '/dts/bim',\r\n    },\r\n    treeApi: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeDataList/v1',\r\n    },\r\n    treeApiById: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentById/v1',\r\n    },\r\n    treeApiByName: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentByIName/v1',\r\n    },\r\n    // 选择框默认文字\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择关键词搜索',\r\n    },\r\n    // 是否支持多选\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否支持清除\r\n    allowClear: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否禁用\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 选择器弹窗标题\r\n    title: {\r\n      type: String,\r\n      default: '行政区域选择器',\r\n    },\r\n    search: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // 选择器弹窗的宽度 单位 px/%/vw (仅数字则视为 px)，默认560px\r\n    width: {\r\n      type: [String, Number],\r\n      default: '425px',\r\n    },\r\n    // 选择器弹窗的高度 单位 px/%/vh (仅数字则视为 px)，默认500px\r\n    height: {\r\n      type: [String, Number],\r\n      default: '370px',\r\n    },\r\n    // 选择器弹窗距页面顶部的距离 单位 px/%/vh (仅数字则视为 px)，默认100px\r\n    top: {\r\n      type: [String, Number],\r\n      default: '100px',\r\n    },\r\n    // 选择器弹窗是否垂直居中展示，默认 false\r\n    centered: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    initLevel: {\r\n      type: [Number, null],\r\n      default: 2,\r\n    },\r\n    limitLevel: {\r\n      type: [Number, null],\r\n      default: null,\r\n    },\r\n    replaceFields: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          pkey: 'pkey',\r\n          title: 'title',\r\n          key: 'key',\r\n          children: 'children',\r\n        };\r\n      },\r\n    },\r\n    valueField: {\r\n      type: String,\r\n      default: 'key',\r\n    },\r\n    join: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    lazy: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  methods: {\r\n    // 获取树\r\n    fetchGetTree(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApi, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeById(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiById, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeByName(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionName = params?.name;\r\n        divisionName && Reflect.deleteProperty(params, 'name');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiByName, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionName,\r\n            ...params,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\"></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DivisionPicker.vue?vue&type=template&id=69513891&\"\nimport script from \"./DivisionPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./DivisionPicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TreeSearch',_vm._g(_vm._b({ref:\"division\",attrs:{\"lazy\":_vm.lazy,\"join\":_vm.join,\"search\":_vm.search,\"activeFirst\":_vm.activeFirst,\"initLevel\":_vm.initLevel,\"fetchData\":_vm.fetchGetTree,\"fetchDataById\":_vm.fetchGetTreeById,\"fetchDataByName\":_vm.fetchGetTreeByName,\"replaceFields\":_vm.replaceFields,\"valueField\":_vm.valueField,\"isShowParent\":_vm.isShowParent},on:{\"select\":_vm.onSelectTreeData}},'TreeSearch',_vm.$attrs,false),_vm.$listeners),[_c('template',{slot:\"title\"},[_vm._t(\"title\")],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <TreeSearch\r\n    ref=\"division\"\r\n    v-bind=\"$attrs\"\r\n    :lazy=\"lazy\"\r\n    :join=\"join\"\r\n    :search=\"search\"\r\n    :activeFirst=\"activeFirst\"\r\n    :initLevel=\"initLevel\"\r\n    :fetchData=\"fetchGetTree\"\r\n    :fetchDataById=\"fetchGetTreeById\"\r\n    :fetchDataByName=\"fetchGetTreeByName\"\r\n    :replaceFields=\"replaceFields\"\r\n    :valueField=\"valueField\"\r\n    :isShowParent=\"isShowParent\"\r\n    v-on=\"$listeners\"\r\n    @select=\"onSelectTreeData\"\r\n  >\r\n    <template slot=\"title\"><slot name=\"title\"></slot></template>\r\n  </TreeSearch>\r\n</template>\r\n<script>\r\nimport TreeSearch from './TreeSearch.vue';\r\nimport { treeFormatList } from '@/components/_utils';\r\n\r\nexport default {\r\n  inheritAttrs: false,\r\n  name: 'DivisionTree',\r\n  components: {\r\n    TreeSearch,\r\n  },\r\n  props: {\r\n    baseUrl: {\r\n      type: String,\r\n      default: '/dts/bim',\r\n    },\r\n    treeApi: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeDataList/v1',\r\n    },\r\n    treeApiById: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentById/v1',\r\n    },\r\n    treeApiByName: {\r\n      type: String,\r\n      default: '/q/cmOmDivision/getCmOmDivisionTreeParentByIName/v1',\r\n    },\r\n    // 选择框默认文字\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择关键词搜索',\r\n    },\r\n    // 是否支持多选\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    isShowParent: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    activeFirst: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否支持清除\r\n    allowClear: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    initLevel: {\r\n      type: [Number, null],\r\n      default: 2,\r\n    },\r\n    // 树加载层级\r\n    limitLevel: {\r\n      type: [Number, String, null],\r\n      default: null,\r\n    },\r\n    replaceFields: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          pkey: 'pkey',\r\n          title: 'title',\r\n          key: 'key',\r\n          children: 'children',\r\n        };\r\n      },\r\n    },\r\n    valueField: {\r\n      type: String,\r\n      default: 'key',\r\n    },\r\n    join: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    search: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    lazy: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      otherParams: {},\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取树\r\n    fetchGetTree(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApi, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeById(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionUniqueCode = params?.code;\r\n        divisionUniqueCode && Reflect.deleteProperty(params, 'code');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiById, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionUniqueCode,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 获取树id节点数据\r\n    fetchGetTreeByName(params) {\r\n      return new Promise((resolve, reject) => {\r\n        const divisionName = params?.name;\r\n        divisionName && Reflect.deleteProperty(params, 'name');\r\n        $ec.http\r\n          .send(this.baseUrl + this.treeApiByName, {\r\n            divisionLevelNum: this.limitLevel,\r\n            divisionName,\r\n            ...params,\r\n            ...this.otherParams,\r\n          })\r\n          .then(({ rows }) => {\r\n            const data = treeFormatList(rows, this.replaceFields);\r\n            resolve(data);\r\n          })\r\n          .catch((err) => {\r\n            // 发生错误在catch分支判断\r\n            reject(err);\r\n          })\r\n          .finally(() => {\r\n            console.log('finally');\r\n          });\r\n      });\r\n    },\r\n    // 从树中获取数据,临时存储\r\n    onSelectTreeData({ treeSelectedKeys, treeData, selectOption }) {\r\n      Object.assign(this, {\r\n        selectedKeys: treeSelectedKeys,\r\n        selectOption,\r\n        treeData,\r\n      });\r\n    },\r\n    // 刷新树\r\n    onRefreshTree(params) {\r\n      this.otherParams = params;\r\n      this.$refs.division && this.$refs.division.handleTreeData(params);\r\n    },\r\n    // 手动触发select节点事件\r\n    onSelectTreeFn(keys) {\r\n      this.$refs.division && this.$refs.division.onSelectTreeFn(keys);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\"></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivisionTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DivisionTree.vue?vue&type=template&id=6b88db6e&\"\nimport script from \"./DivisionTree.vue?vue&type=script&lang=js&\"\nexport * from \"./DivisionTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}