{"version":3,"sources":["webpack:///./src/views/centre/audit/Index.vue?f607","webpack:///./src/views/centre/audit/Details.vue?2712","webpack:///src/views/centre/audit/Details.vue","webpack:///./src/views/centre/audit/Details.vue?744b","webpack:///./src/views/centre/audit/Details.vue","webpack:///src/views/centre/audit/Index.vue","webpack:///./src/views/centre/audit/Index.vue?8236","webpack:///./src/views/centre/audit/Index.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/views/centre/audit/Index.vue?e4a8","webpack:///./src/views/centre/audit/Details.vue?dbe4","webpack:///./src/components/_utils.js","webpack:///./src/utils/utils.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","busiYear","on","init","resetHandle","scopedSlots","_u","key","fn","model","value","queryItems","callback","$$v","$set","expression","getfetchData","$event","handlepickerValue","supplyOrgCode_temporary","demandOrgCode_temporary","statusValOptions","proxy","businessTypeOptions","_l","s","id","label","staticClass","unitstr","name","handleraudit","handlerreject","_e","ref","height","tableData","pagination","queryPagination","handlerSelectRow","handlerRowlist","row","stopPropagation","handleDetails","FocusDealDetailData","cellStyle","footerMethod","findlabel","apprTypeCode","leafTypeCode","handlerWeightcalculate","supplyWeight","demandWeight","finalWeight","staticRenderFns","modeltag","visible","cancel","state","billNo","useGetname","supplyOrgCode","supplyProvOrgCode","supplyCreateDate","supplyUploadTime","supplyProvAuditTime","supplyProvAuditState","demandOrgCode","demandProvOrgCode","demandCreateDate","demandUploadTime","demandProvAuditTime","demandProvAuditState","finalAuditTime","finalAuditState","class","istabletotabs","trigger","mode","onGetapprTypeCode","immediate","loading","handleSubmit","data","computed","_api","methods","show","response","type","list","pcAsFocusDealDetailList","asFocusDealMasId","updateButton","params","then","finally","val","sumNum","field","count","columns","num","unit","textAlign","component","components","Details","SelectPicker","bizCode","orgType","orgCode","islock","auditLoading","code","records","children","unitstrOptions","brandId","statusVal","treeData","treeParams","orgTypeEk","orgLevelEk","paramMap","isCorporation","statusList","searchType","rules","pageNumber","pageSize","total","_apply","_confirm","_audit","appConfig","created","$ec","query","handlerSelectleafType","e","index","operateType","asFocusDealMasIds","getPass","queryRowBaseDetails","res","getDetails","handlerorgValueChange","treeGetlist","fields","pkey","title","resolve","onInfo","queryRowlist","A","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","listFormatTree","replace","option","Array","isArray","console","error","child","parentId","parent","parentTmp","String","cloneDeep","Reflect","deleteProperty","root","every","item","n","treeFormatList","clone","stack","node","shift","filterList","filterFn","uniqueArrayBy","arr","prop","isPlainObject","from","Set","map","Map","Error","set","size","values","getExpandedKeys","selected","paths","select","add","isLeaf","delete","reverse","getSelectedBy","by","getNodeBy","getNameBy","dicList","prototype","toString","document","addEventListener","removeEventListener","weightMatching","k","includes","DownloadA","url","filename","link","createElement","style","display","href","setAttribute","body","appendChild","click","removeChild"],"mappings":"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","file":"js/chunk-c42de348.9f1e0243.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-container',{attrs:{\"height\":\"auto\"}},[_c('ec-container-header',[_c('ec-panel-toolbar',[_c('ec-panel-item-left',[_c('ec-header',{attrs:{\"title\":\"交易衔接量审核\",\"icon\":\"onetomany\",\"color-code\":\"003\"}})],1),_c('ec-panel-item-right',[_c('div',[_vm._v(\"集中交易年度：\"+_vm._s(_vm.busiYear)+\"年\")])])],1)],1),_c('ec-container-body',[_c('ec-panel',[_c('ec-panel-toolbar',[_c('ec-query-panel',{attrs:{\"defaultFold\":true},on:{\"query\":_vm.init,\"reset\":_vm.resetHandle},scopedSlots:_vm._u([{key:\"inner\",fn:function(){return [_c('ec-query-item',{attrs:{\"label\":\"单据编号\"}},[_c('a-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.queryItems.billNo),callback:function ($$v) {_vm.$set(_vm.queryItems, \"billNo\", $$v)},expression:\"queryItems.billNo\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"供方单位\"}},[_c('select-picker',{attrs:{\"title\":\"选择单位\",\"lazy\":false,\"search\":false,\"fetchData\":_vm.getfetchData},on:{\"ok\":function($event){return _vm.handlepickerValue($event, 'supplyOrgCode')}},model:{value:(_vm.supplyOrgCode_temporary),callback:function ($$v) {_vm.supplyOrgCode_temporary=$$v},expression:\"supplyOrgCode_temporary\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"需方单位\"}},[_c('select-picker',{attrs:{\"title\":\"选择单位\",\"lazy\":false,\"search\":false,\"fetchData\":_vm.getfetchData},on:{\"ok\":function($event){return _vm.handlepickerValue($event, 'demandOrgCode')}},model:{value:(_vm.demandOrgCode_temporary),callback:function ($$v) {_vm.demandOrgCode_temporary=$$v},expression:\"demandOrgCode_temporary\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"烟叶类型\"}},[_c('a-cascader',{attrs:{\"options\":_vm.statusValOptions,\"change-on-select\":\"\",\"placeholder\":\"\"},model:{value:(_vm.queryItems.leafTypeCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"leafTypeCode\", $$v)},expression:\"queryItems.leafTypeCode\"}})],1)]},proxy:true}])},[_c('ec-query-item',{attrs:{\"label\":\"业务类型\"}},[_c('a-cascader',{attrs:{\"options\":_vm.businessTypeOptions,\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.apprTypeCode),callback:function ($$v) {_vm.$set(_vm.queryItems, \"apprTypeCode\", $$v)},expression:\"queryItems.apprTypeCode\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"状态\"}},[_c('a-select',{attrs:{\"showSearch\":\"\",\"allow-clear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryItems.circleSate),callback:function ($$v) {_vm.$set(_vm.queryItems, \"circleSate\", $$v)},expression:\"queryItems.circleSate\"}},_vm._l((_vm.statusList),function(s){return _c('a-select-option',{key:s.id},[_vm._v(\" \"+_vm._s(s.label)+\" \")])}),1)],1),_c('ec-query-item',{staticClass:\"org\",attrs:{\"label\":\"计量单位\"}},[_c('a-select',{attrs:{\"allow-clear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.unitstr),callback:function ($$v) {_vm.unitstr=$$v},expression:\"unitstr\"}},_vm._l((_vm.unitstrOptions),function(s){return _c('a-select-option',{key:s.id},[_vm._v(\" \"+_vm._s(s.name)+\" \")])}),1)],1)],1),_c('ec-divider')],1),_c('ec-panel-item',[(_vm.islock)?_c('ec-panel-item-left',[(_vm.auditLoading)?_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleraudit}},[_vm._v(\"同意\")]):_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":\"\"}},[_vm._v(\"审核中\")]),_c('a-button',{on:{\"click\":function($event){return _vm.handlerreject('rejectSupply')}}},[_vm._v(\"退回供方\")]),_c('a-button',{on:{\"click\":function($event){return _vm.handlerreject('rejectDemand')}}},[_vm._v(\"退回需方\")])],1):_vm._e()],1),_c('ec-panel-body',[_c('ec-v-layout',[_c('ec-v-item',[_c('ec-table',{ref:\"xTable1\",attrs:{\"show-overflow\":\"\",\"header-align\":\"center\",\"align\":\"center\",\"height\":!_vm.height ? '200' : '300',\"data\":_vm.tableData,\"pagination\":_vm.pagination},on:{\"page-action\":_vm.queryPagination,\"checkbox-all\":_vm.handlerSelectRow,\"checkbox-change\":_vm.handlerSelectRow,\"cell-click\":_vm.handlerRowlist}},[_c('ec-table-col',{attrs:{\"type\":\"checkbox\",\"width\":\"60\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"type\":\"seq\",\"title\":\"序号\",\"width\":\"50\"}}),_c('ec-table-col',{attrs:{\"field\":\"billNo\",\"title\":\"单据编号\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"supplyOrgName\",\"title\":\"供方单位\"}}),_c('ec-table-col',{attrs:{\"field\":\"demandOrgName\",\"title\":\"需方单位\"}}),_c('ec-table-col',{attrs:{\"field\":\"supplyStates\",\"title\":\"供方状态\"}}),_c('ec-table-col',{attrs:{\"field\":\"demandStates\",\"title\":\"需方状态\"}}),_c('ec-table-col',{attrs:{\"title\":\"操作\",\"width\":\"190\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDetails(row, 'update')}}},[_vm._v(\"编辑\")]),_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDetails(row, 'main')}}},[_vm._v(\"详细\")])]}}])})],1)],1),_c('ec-v-item',[_c('h2',{staticClass:\"details-bg\"},[_vm._v(\"详细\")]),_c('ec-table',{ref:\"xTable2\",attrs:{\"show-overflow\":\"\",\"height\":\"216\",\"data\":_vm.FocusDealDetailData,\"header-align\":\"center\",\"align\":\"center\",\"show-footer\":\"\",\"cell-style\":_vm.cellStyle,\"footer-method\":_vm.footerMethod}},[_c('ec-table-col',{attrs:{\"type\":\"seq\",\"title\":\"序号\",\"width\":\"50\"}}),_c('ec-table-col',{attrs:{\"field\":\"apprTypeCode\",\"title\":\"业务类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.findlabel(row.apprTypeCode, _vm.businessTypeOptions)))]}}])}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeCode\",\"title\":\"烟叶类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.findlabel(row.leafTypeCode, _vm.statusValOptions)))]}}])}),_c('ec-table-col',{attrs:{\"field\":\"leafFormName\",\"title\":\"烟叶形态\"}}),_c('ec-table-col',{attrs:{\"field\":\"supplyWeight\",\"title\":\"供方提报量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm.handlerWeightcalculate(row.supplyWeight, _vm.unitstr)))]}}])}),_c('ec-table-col',{attrs:{\"field\":\"demandWeight\",\"title\":\"需方提报量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm.handlerWeightcalculate(row.demandWeight, _vm.unitstr)))]}}])}),_c('ec-table-col',{attrs:{\"field\":\"finalWeight\",\"title\":\"总公司审核量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm.handlerWeightcalculate(row.finalWeight, _vm.unitstr)))]}}])}),_c('ec-table-col',{attrs:{\"title\":\"操作\",\"width\":\"190\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.apprTypeCode === 'HT1104')?_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDetails(row, 'basedetails')}}},[_vm._v(\"详细\")]):_vm._e()]}}])})],1)],1)],1)],1)],1),_c('Details',{ref:\"detailsRef\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":_vm.modeltag === 'update' ? '编辑' : '详细',\"visible\":_vm.visible,\"size\":\"large\"},on:{\"close\":_vm.cancel}},[_c('ec-container',{attrs:{\"height\":\"auto\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',[(_vm.istabletotabs)?[_c('a-descriptions',{attrs:{\"bordered\":\"\",\"size\":\"small\",\"title\":\"主信息\",\"column\":2}},[_c('a-descriptions-item',{attrs:{\"label\":\"单据编号\"}},[_vm._v(\" \"+_vm._s(_vm.state.billNo)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"交易集中年度\"}},[_vm._v(\" \"+_vm._s(_vm.busiYear)+\" \")])],1),_c('a-descriptions',{attrs:{\"bordered\":\"\",\"size\":\"small\",\"title\":\"供方资料区\"}},[_c('a-descriptions-item',{attrs:{\"label\":\"供方市\"}},[_vm._v(\" \"+_vm._s(_vm.useGetname(_vm.state.supplyOrgCode))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"供方省\"}},[_vm._v(\" \"+_vm._s(_vm.useGetname(_vm.state.supplyProvOrgCode))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"录入日期\"}},[_vm._v(_vm._s(_vm.state.supplyCreateDate)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"上报日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.supplyUploadTime)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"确认日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.supplyProvAuditTime)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"确认状态\"}},[_vm._v(\" \"+_vm._s(_vm.state.supplyProvAuditState === '0' ? '未确认' : _vm.state.supplyProvAuditState === '1' ? '已确认' : '')+\" \")])],1),_c('a-descriptions',{attrs:{\"bordered\":\"\",\"size\":\"small\",\"title\":\"需方资料区\"}},[_c('a-descriptions-item',{attrs:{\"label\":\"需方市\"}},[_vm._v(\" \"+_vm._s(_vm.useGetname(_vm.state.demandOrgCode))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"需方省\"}},[_vm._v(\" \"+_vm._s(_vm.useGetname(_vm.state.demandProvOrgCode))+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"录入日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.demandCreateDate)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"上报日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.demandUploadTime)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"确认日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.demandProvAuditTime)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"确认状态\"}},[_vm._v(\" \"+_vm._s(_vm.state.demandProvAuditState === '0' ? '未确认' : _vm.state.demandProvAuditState === '1' ? '已确认' : '')+\" \")])],1),_c('a-descriptions',{attrs:{\"bordered\":\"\",\"size\":\"small\",\"title\":\"总公司资料区\"}},[_c('a-descriptions-item',{attrs:{\"label\":\"总公司\"}},[_vm._v(\" 中国烟叶公司\")]),_c('a-descriptions-item',{attrs:{\"label\":\"审核日期\"}},[_vm._v(\" \"+_vm._s(_vm.state.finalAuditTime)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"审核状态\"}},[_vm._v(\" \"+_vm._s(_vm.state.finalAuditState === '0' ? '未审核' : _vm.state.finalAuditState === '1' ? '已审核' : '')+\" \")])],1)]:_vm._e(),_c('ec-panel-toolbar',[_c('ec-panel-item-left',[_c('span',{class:{ 'vxetable-title': _vm.istabletotabs }},[_vm._v(\"明细信息\")])]),_c('ec-panel-item-right',[(_vm.istabletotabs)?_c('span',{staticClass:\"vxetable-title\"},[_vm._v(\"计量单位：\"+_vm._s(_vm.unitstr === '50' ? '担' : '万担'))]):_c('span',[_vm._v(\"集中交易年度:\"+_vm._s(_vm.busiYear)+\" 计量单位：\"+_vm._s(_vm.unitstr === '50' ? '担' : '万担'))])])],1),_c('vxe-table',{ref:\"xTable\",staticClass:\"editable-footer\",attrs:{\"border\":\"\",\"show-footer\":\"\",\"show-overflow\":\"\",\"highlight-hover-row\":\"\",\"height\":\"300\",\"header-align\":\"center\",\"align\":\"center\",\"cell-style\":_vm.cellStyle,\"footer-method\":_vm.footerMethod,\"data\":_vm.tableData,\"edit-config\":_vm.modeltag === 'update' ? { trigger: 'click', mode: 'row' } : {}}},[_c('vxe-column',{attrs:{\"width\":\"60\",\"type\":\"seq\",\"title\":\"序号\",\"align\":\"center\"}}),_c('vxe-column',{attrs:{\"title\":\"业务类型\",\"field\":\"apprTypeCode\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.onGetapprTypeCode(row.apprTypeCode)))]}}])}),_c('vxe-column',{attrs:{\"title\":\"基地单元名称\",\"field\":\"baseCellName\"}}),_c('vxe-column',{attrs:{\"title\":\"烟叶类型\",\"field\":\"leafTypeCode\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(row.leafTypeCode === '20' ? '晾晒烟' : row.leafTypeCode === '10' ? '烤烟' : '雪茄烟叶'))]}}])}),_c('vxe-column',{attrs:{\"title\":\"烟叶形态\",\"field\":\"leafFormName\"}}),_c('vxe-column',{attrs:{\"title\":\"供方提报量\",\"field\":\"supplyWeight\",\"edit-render\":{ name: 'input', immediate: true }},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"type\":\"text\",\"min\":0},model:{value:(row.supplyWeight),callback:function ($$v) {_vm.$set(row, \"supplyWeight\", $$v)},expression:\"row.supplyWeight\"}})]}},{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.supplyWeight)+\" \")]}}])}),_c('vxe-column',{attrs:{\"title\":\"需方提报量\",\"field\":\"demandWeight\",\"edit-render\":{ name: 'input', immediate: true }},scopedSlots:_vm._u([{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-input-number',{attrs:{\"type\":\"text\",\"min\":0},model:{value:(row.demandWeight),callback:function ($$v) {_vm.$set(row, \"demandWeight\", $$v)},expression:\"row.demandWeight\"}})]}},{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.demandWeight)+\" \")]}}])}),_c('vxe-column',{attrs:{\"title\":\"总公司审核量\",\"field\":\"finalWeight\"}})],1)],2),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[(_vm.modeltag === 'update' && _vm.loading)?_c('a-button',{attrs:{\"loading\":\"\"}},[_vm._v(\"保存中\")]):_vm._e(),(_vm.modeltag === 'update' && !_vm.loading)?_c('a-button',{on:{\"click\":_vm.handleSubmit}},[_vm._v(\"保存\")]):_vm._e(),_c('a-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"关闭\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer\r\n    :title=\"modeltag === 'update' ? '编辑' : '详细'\"\r\n    :visible=\"visible\"\r\n    size=\"large\"\r\n    @close=\"cancel\"\r\n    class=\"ec-draw-form\"\r\n  >\r\n    <ec-container height=\"auto\" fixed=\"top bottom\" color-code=\"007\">\r\n      <ec-container-body>\r\n        <template v-if=\"istabletotabs\">\r\n          <a-descriptions bordered size=\"small\" title=\"主信息\" :column=\"2\">\r\n            <a-descriptions-item label=\"单据编号\"> {{ state.billNo }} </a-descriptions-item>\r\n            <a-descriptions-item label=\"交易集中年度\"> {{ busiYear }} </a-descriptions-item>\r\n          </a-descriptions>\r\n          <a-descriptions bordered size=\"small\" title=\"供方资料区\">\r\n            <a-descriptions-item label=\"供方市\">\r\n              {{ useGetname(state.supplyOrgCode) }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"供方省\">\r\n              {{ useGetname(state.supplyProvOrgCode) }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"录入日期\"\r\n              >{{ state.supplyCreateDate }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"上报日期\">\r\n              {{ state.supplyUploadTime }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"确认日期\">\r\n              {{ state.supplyProvAuditTime }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"确认状态\">\r\n              {{\r\n                state.supplyProvAuditState === '0'\r\n                  ? '未确认'\r\n                  : state.supplyProvAuditState === '1'\r\n                  ? '已确认'\r\n                  : ''\r\n              }}\r\n            </a-descriptions-item>\r\n          </a-descriptions>\r\n          <a-descriptions bordered size=\"small\" title=\"需方资料区\">\r\n            <a-descriptions-item label=\"需方市\">\r\n              {{ useGetname(state.demandOrgCode) }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"需方省\">\r\n              {{ useGetname(state.demandProvOrgCode) }}\r\n            </a-descriptions-item>\r\n\r\n            <a-descriptions-item label=\"录入日期\">\r\n              {{ state.demandCreateDate }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"上报日期\">\r\n              {{ state.demandUploadTime }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"确认日期\">\r\n              {{ state.demandProvAuditTime }}\r\n            </a-descriptions-item>\r\n            <a-descriptions-item label=\"确认状态\">\r\n              {{\r\n                state.demandProvAuditState === '0'\r\n                  ? '未确认'\r\n                  : state.demandProvAuditState === '1'\r\n                  ? '已确认'\r\n                  : ''\r\n              }}\r\n            </a-descriptions-item>\r\n          </a-descriptions>\r\n          <a-descriptions bordered size=\"small\" title=\"总公司资料区\">\r\n            <a-descriptions-item label=\"总公司\"> 中国烟叶公司</a-descriptions-item>\r\n            <a-descriptions-item label=\"审核日期\"> {{ state.finalAuditTime }} </a-descriptions-item>\r\n            <a-descriptions-item label=\"审核状态\">\r\n              {{\r\n                state.finalAuditState === '0'\r\n                  ? '未审核'\r\n                  : state.finalAuditState === '1'\r\n                  ? '已审核'\r\n                  : ''\r\n              }}\r\n            </a-descriptions-item>\r\n          </a-descriptions>\r\n        </template>\r\n        <ec-panel-toolbar>\r\n          <ec-panel-item-left>\r\n            <span :class=\"{ 'vxetable-title': istabletotabs }\">明细信息</span></ec-panel-item-left\r\n          >\r\n          <ec-panel-item-right\r\n            ><span v-if=\"istabletotabs\" class=\"vxetable-title\"\r\n              >计量单位：{{ unitstr === '50' ? '担' : '万担' }}</span\r\n            >\r\n            <span v-else\r\n              >集中交易年度:{{ busiYear }} 计量单位：{{ unitstr === '50' ? '担' : '万担' }}</span\r\n            >\r\n          </ec-panel-item-right>\r\n        </ec-panel-toolbar>\r\n        <vxe-table\r\n          border\r\n          show-footer\r\n          show-overflow\r\n          highlight-hover-row\r\n          ref=\"xTable\"\r\n          height=\"300\"\r\n          header-align=\"center\"\r\n          align=\"center\"\r\n          :cell-style=\"cellStyle\"\r\n          class=\"editable-footer\"\r\n          :footer-method=\"footerMethod\"\r\n          :data=\"tableData\"\r\n          :edit-config=\"modeltag === 'update' ? { trigger: 'click', mode: 'row' } : {}\"\r\n        >\r\n          <vxe-column width=\"60\" type=\"seq\" title=\"序号\" align=\"center\"></vxe-column>\r\n          <vxe-column title=\"业务类型\" field=\"apprTypeCode\">\r\n            <template #default=\"{ row }\"> {{ onGetapprTypeCode(row.apprTypeCode) }}</template>\r\n          </vxe-column>\r\n          <vxe-column title=\"基地单元名称\" field=\"baseCellName\"></vxe-column>\r\n          <vxe-column title=\"烟叶类型\" field=\"leafTypeCode\">\r\n            <template #default=\"{ row }\">{{\r\n              row.leafTypeCode === '20' ? '晾晒烟' : row.leafTypeCode === '10' ? '烤烟' : '雪茄烟叶'\r\n            }}</template>\r\n          </vxe-column>\r\n          <vxe-column title=\"烟叶形态\" field=\"leafFormName\"></vxe-column>\r\n          <vxe-column\r\n            title=\"供方提报量\"\r\n            field=\"supplyWeight\"\r\n            :edit-render=\"{ name: 'input', immediate: true }\"\r\n            ><template #edit=\"{ row }\">\r\n              <a-input-number type=\"text\" :min=\"0\" v-model=\"row.supplyWeight\"></a-input-number>\r\n            </template>\r\n            <template #default=\"{ row }\"> {{ row.supplyWeight }} </template></vxe-column\r\n          >\r\n          <vxe-column\r\n            title=\"需方提报量\"\r\n            field=\"demandWeight\"\r\n            :edit-render=\"{ name: 'input', immediate: true }\"\r\n            ><template #edit=\"{ row }\">\r\n              <a-input-number type=\"text\" :min=\"0\" v-model=\"row.demandWeight\"></a-input-number>\r\n            </template>\r\n            <template #default=\"{ row }\"> {{ row.demandWeight }} </template></vxe-column\r\n          >\r\n          <vxe-column title=\"总公司审核量\" field=\"finalWeight\"></vxe-column>\r\n        </vxe-table>\r\n      </ec-container-body>\r\n      <ec-container-footer fixed>\r\n        <a-space>\r\n          <a-button v-if=\"modeltag === 'update' && loading\" loading>保存中</a-button>\r\n          <a-button v-if=\"modeltag === 'update' && !loading\" @click=\"handleSubmit\">保存</a-button>\r\n          <a-button @click=\"cancel\">关闭</a-button>\r\n        </a-space>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n<script>\r\nimport { weightMatching } from '@/utils/utils';\r\n\r\nexport default {\r\n  name: 'AuditDetail',\r\n  data() {\r\n    return {\r\n      modeltag: '',\r\n      // bolean\r\n      istabletotabs: null,\r\n      unitstr: null,\r\n      busiYear: null,\r\n\r\n      tableData: [],\r\n      visible: false,\r\n      loading: false,\r\n      // state\r\n      state: null,\r\n      businessTypeOptions: [\r\n        { label: '工商普通购销', value: 'HT1101' },\r\n        { label: '出口备货普通购销', value: 'HT1201' },\r\n        { label: '基地烟', value: 'HT1104' },\r\n        { label: '国内合计', value: 'HT11' },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    _api() {\r\n      return this.$apis.centre.audit;\r\n    },\r\n  },\r\n  methods: {\r\n    // 数据初始化\r\n    // 显示推窗\r\n    show(response, type) {\r\n      let list = [];\r\n      // modeltag istabletotabs  只用一个也可以\r\n      if (type === 'basedetails') {\r\n        // 基地详情\r\n        list = [...response.rows];\r\n        this.istabletotabs = false;\r\n      } else {\r\n        this.istabletotabs = true;\r\n        this.state = response;\r\n        list = response?.pcTAsFocusDealDetlDTOList;\r\n      }\r\n\r\n      this.tableData = weightMatching(\r\n        ['supplyWeight', 'demandWeight', 'finalWeight'],\r\n        list,\r\n        response.unitstr,\r\n        '/',\r\n      );\r\n      this.modeltag = type;\r\n      this.busiYear = response.busiYear;\r\n      this.unitstr = response.unitstr;\r\n      this.visible = true;\r\n    },\r\n    // 关闭\r\n    cancel() {\r\n      this.tableData = [];\r\n      this.visible = false;\r\n    },\r\n    handleSubmit() {\r\n      // 已超计划量，不允许确认\r\n      this.loading = true;\r\n      const pcAsFocusDealDetailList = weightMatching(\r\n        ['supplyWeight', 'demandWeight', 'finalWeight'],\r\n        this.tableData,\r\n        this.unitstr,\r\n        '*',\r\n      );\r\n      const params = {\r\n        pcAsFocusDealDetailList,\r\n        busiYear: this.busiYear,\r\n        asFocusDealMasId: this.state.asFocusDealMasId,\r\n      };\r\n      this._api\r\n        .updateButton(params)\r\n        .then((res) => {\r\n          if (res.ifCanSave) {\r\n            this.visible = false;\r\n            this.$message.success('保存成功');\r\n          } else {\r\n            this.$message.error(res.returnMessage);\r\n          }\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    onGetapprTypeCode(val) {\r\n      const list = [...this.businessTypeOptions];\r\n      return list.find((item) => item.value === val)?.label;\r\n    },\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        count += Number(item[field]);\r\n      });\r\n      return count;\r\n    },\r\n    footerMethod({ columns, data }) {\r\n      return [\r\n        columns.map((column, columnIndex) => {\r\n          if (columnIndex === 2) {\r\n            return '合计';\r\n          }\r\n          if (['finalWeight', 'supplyWeight', 'demandWeight'].includes(column.property)) {\r\n            return this.sumNum(data, column.property);\r\n          }\r\n          return null;\r\n        }),\r\n      ];\r\n    },\r\n    useGetname(key) {\r\n      const { treeData } = this.state;\r\n      return treeData.find((item) => item.key === key)?.title || '';\r\n    },\r\n    // 单位换算\r\n    handlerWeightcalculate(num, unit) {\r\n      return num / unit;\r\n    },\r\n    cellStyle({ $columnIndex }) {\r\n      if ($columnIndex === 7 || $columnIndex === 5 || $columnIndex === 6) {\r\n        return { textAlign: 'right' };\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n/deep/.ant-modal-header {\r\n  padding: 8px 24px;\r\n}\r\n/deep/.ant-modal-body {\r\n  padding: 0;\r\n}\r\n.ec-container .ec-container-body {\r\n  background-color: transparent;\r\n}\r\n.ant-descriptions:not(:last-child) {\r\n  margin-bottom: 15px;\r\n}\r\n/deep/.ant-descriptions-title {\r\n  margin-bottom: 20px;\r\n  color: rgba(24, 144, 255, 1);\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  line-height: 1;\r\n}\r\n.vxetable-title {\r\n  margin-bottom: 10px;\r\n  color: rgba(24, 144, 255, 1);\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n  line-height: 2.4;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Details.vue?vue&type=template&id=79279373&scoped=true&\"\nimport script from \"./Details.vue?vue&type=script&lang=js&\"\nexport * from \"./Details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Details.vue?vue&type=style&index=0&id=79279373&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79279373\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <ec-container height=\"auto\">\r\n    <ec-container-header>\r\n      <ec-panel-toolbar>\r\n        <ec-panel-item-left>\r\n          <ec-header title=\"交易衔接量审核\" icon=\"onetomany\" color-code=\"003\" />\r\n        </ec-panel-item-left>\r\n        <ec-panel-item-right>\r\n          <div>集中交易年度：{{ busiYear }}年</div>\r\n        </ec-panel-item-right>\r\n      </ec-panel-toolbar>\r\n    </ec-container-header>\r\n    <ec-container-body>\r\n      <ec-panel>\r\n        <ec-panel-toolbar>\r\n          <ec-query-panel :defaultFold=\"true\" @query=\"init\" @reset=\"resetHandle\">\r\n            <ec-query-item label=\"业务类型\">\r\n              <a-cascader\r\n                v-model=\"queryItems.apprTypeCode\"\r\n                :options=\"businessTypeOptions\"\r\n                placeholder=\"请选择\"\r\n              />\r\n            </ec-query-item>\r\n            <ec-query-item label=\"状态\">\r\n              <a-select showSearch allow-clear placeholder=\"请选择\" v-model=\"queryItems.circleSate\">\r\n                <a-select-option v-for=\"s in statusList\" :key=\"s.id\">\r\n                  {{ s.label }}\r\n                </a-select-option>\r\n              </a-select>\r\n            </ec-query-item>\r\n            <ec-query-item label=\"计量单位\" class=\"org\">\r\n              <a-select allow-clear placeholder=\"请选择\" v-model=\"unitstr\">\r\n                <a-select-option v-for=\"s in unitstrOptions\" :key=\"s.id\">\r\n                  {{ s.name }}\r\n                </a-select-option>\r\n              </a-select>\r\n            </ec-query-item>\r\n            <template #inner>\r\n              <ec-query-item label=\"单据编号\">\r\n                <a-input v-model=\"queryItems.billNo\" placeholder=\"\" />\r\n              </ec-query-item>\r\n              <ec-query-item label=\"供方单位\">\r\n                <select-picker\r\n                  title=\"选择单位\"\r\n                  :lazy=\"false\"\r\n                  :search=\"false\"\r\n                  v-model=\"supplyOrgCode_temporary\"\r\n                  :fetchData=\"getfetchData\"\r\n                  @ok=\"handlepickerValue($event, 'supplyOrgCode')\"\r\n                />\r\n              </ec-query-item>\r\n              <ec-query-item label=\"需方单位\">\r\n                <select-picker\r\n                  title=\"选择单位\"\r\n                  :lazy=\"false\"\r\n                  :search=\"false\"\r\n                  v-model=\"demandOrgCode_temporary\"\r\n                  :fetchData=\"getfetchData\"\r\n                  @ok=\"handlepickerValue($event, 'demandOrgCode')\"\r\n                />\r\n              </ec-query-item>\r\n              <ec-query-item label=\"烟叶类型\">\r\n                <a-cascader\r\n                  :options=\"statusValOptions\"\r\n                  v-model=\"queryItems.leafTypeCode\"\r\n                  change-on-select\r\n                  placeholder=\"\"\r\n                />\r\n              </ec-query-item>\r\n            </template>\r\n          </ec-query-panel>\r\n          <ec-divider />\r\n        </ec-panel-toolbar>\r\n        <ec-panel-item>\r\n          <!-- 表格工具栏 -->\r\n          <ec-panel-item-left v-if=\"islock\">\r\n            <a-button v-if=\"auditLoading\" type=\"primary\" @click=\"handleraudit\">同意</a-button>\r\n            <a-button v-else type=\"primary\" loading>审核中</a-button>\r\n            <a-button @click=\"handlerreject('rejectSupply')\">退回供方</a-button>\r\n            <a-button @click=\"handlerreject('rejectDemand')\">退回需方</a-button>\r\n          </ec-panel-item-left>\r\n        </ec-panel-item>\r\n        <ec-panel-body>\r\n          <ec-v-layout>\r\n            <!-- 主列表 -->\r\n            <ec-v-item>\r\n              <ec-table\r\n                ref=\"xTable1\"\r\n                show-overflow\r\n                header-align=\"center\"\r\n                align=\"center\"\r\n                :height=\"!height ? '200' : '300'\"\r\n                :data=\"tableData\"\r\n                :pagination=\"pagination\"\r\n                @page-action=\"queryPagination\"\r\n                @checkbox-all=\"handlerSelectRow\"\r\n                @checkbox-change=\"handlerSelectRow\"\r\n                @cell-click=\"handlerRowlist\"\r\n              >\r\n                <ec-table-col type=\"checkbox\" width=\"60\" align=\"center\"></ec-table-col>\r\n                <ec-table-col type=\"seq\" title=\"序号\" width=\"50\" />\r\n                <ec-table-col field=\"billNo\" title=\"单据编号\" width=\"150\" />\r\n                <ec-table-col field=\"supplyOrgName\" title=\"供方单位\" />\r\n                <ec-table-col field=\"demandOrgName\" title=\"需方单位\" />\r\n                <ec-table-col field=\"supplyStates\" title=\"供方状态\" />\r\n                <ec-table-col field=\"demandStates\" title=\"需方状态\" />\r\n                <ec-table-col title=\"操作\" width=\"190\" align=\"center\">\r\n                  <template #default=\"{ row }\">\r\n                    <a-button type=\"link\" @click.stop=\"handleDetails(row, 'update')\">编辑</a-button>\r\n                    <a-button type=\"link\" @click.stop=\"handleDetails(row, 'main')\">详细</a-button>\r\n                  </template>\r\n                </ec-table-col>\r\n              </ec-table>\r\n            </ec-v-item>\r\n            <!-- //  详情列表 -->\r\n            <ec-v-item>\r\n              <h2 class=\"details-bg\">详细</h2>\r\n              <ec-table\r\n                ref=\"xTable2\"\r\n                show-overflow\r\n                height=\"216\"\r\n                :data=\"FocusDealDetailData\"\r\n                header-align=\"center\"\r\n                align=\"center\"\r\n                show-footer\r\n                :cell-style=\"cellStyle\"\r\n                :footer-method=\"footerMethod\"\r\n              >\r\n                <ec-table-col type=\"seq\" title=\"序号\" width=\"50\" />\r\n                <ec-table-col field=\"apprTypeCode\" title=\"业务类型\">\r\n                  <template #default=\"{ row }\">\r\n                    {{ findlabel(row.apprTypeCode, businessTypeOptions) }}</template\r\n                  >\r\n                </ec-table-col>\r\n                <ec-table-col field=\"leafTypeCode\" title=\"烟叶类型\">\r\n                  <template #default=\"{ row }\">\r\n                    {{ findlabel(row.leafTypeCode, statusValOptions) }}</template\r\n                  >\r\n                </ec-table-col>\r\n                <ec-table-col field=\"leafFormName\" title=\"烟叶形态\" />\r\n\r\n                <ec-table-col field=\"supplyWeight\" title=\"供方提报量\">\r\n                  <template #default=\"{ row }\">{{\r\n                    handlerWeightcalculate(row.supplyWeight, unitstr)\r\n                  }}</template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"demandWeight\" title=\"需方提报量\">\r\n                  <template #default=\"{ row }\">{{\r\n                    handlerWeightcalculate(row.demandWeight, unitstr)\r\n                  }}</template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"finalWeight\" title=\"总公司审核量\">\r\n                  <template #default=\"{ row }\">{{\r\n                    handlerWeightcalculate(row.finalWeight, unitstr)\r\n                  }}</template>\r\n                </ec-table-col>\r\n\r\n                <ec-table-col title=\"操作\" width=\"190\"\r\n                  ><template #default=\"{ row }\">\r\n                    <a-button\r\n                      v-if=\"row.apprTypeCode === 'HT1104'\"\r\n                      type=\"link\"\r\n                      @click.stop=\"handleDetails(row, 'basedetails')\"\r\n                      >详细</a-button\r\n                    >\r\n                  </template>\r\n                </ec-table-col>\r\n              </ec-table>\r\n            </ec-v-item>\r\n          </ec-v-layout>\r\n        </ec-panel-body>\r\n      </ec-panel>\r\n      <Details ref=\"detailsRef\" />\r\n    </ec-container-body>\r\n  </ec-container>\r\n</template>\r\n\r\n<script>\r\nimport Details from './Details.vue';\r\nimport { SelectPicker } from '@euler-material/ecm-ui';\r\nimport { treeFormatList, cloneDeep } from '@euler-material/ecm-utils';\r\n\r\nexport default {\r\n  name: 'Audit',\r\n  components: {\r\n    Details,\r\n    SelectPicker,\r\n  },\r\n  data() {\r\n    return {\r\n      // 初始化数据\r\n      demandOrgCode_temporary: '',\r\n      supplyOrgCode_temporary: '',\r\n      bizCode: '',\r\n      orgType: 'I', // I 代表需方,O代表供方\r\n      demandOrgCode: '',\r\n      supplyOrgCode: '',\r\n      asFocusDealMasId: '',\r\n\r\n      orgCode: '',\r\n\r\n      height: true,\r\n      islock: true,\r\n      auditLoading: true,\r\n      name: '',\r\n      code: '',\r\n      // store\r\n      records: [],\r\n      // 烟叶options\r\n      statusValOptions: [\r\n        {\r\n          value: '10',\r\n          label: '烤烟',\r\n        },\r\n        {\r\n          value: '20',\r\n          label: '晾晒烟',\r\n          children: [\r\n            {\r\n              value: '2013',\r\n              label: '雪茄烟叶',\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      unitstr: '50',\r\n      unitstrOptions: [\r\n        { name: '担', id: '50' },\r\n        { name: '万担', id: '500000' },\r\n      ],\r\n\r\n      brandId: undefined,\r\n      statusVal: undefined,\r\n\r\n      treeData: null,\r\n      treeParams: {\r\n        bizCode: '11000001000000000000',\r\n        orgTypeEk: 'EXPORT,INDUSTRY,TOBACCO',\r\n        orgLevelEk: '3',\r\n        paramMap: {\r\n          isCorporation: '1',\r\n        },\r\n      },\r\n      statusList: [\r\n        { id: '1', label: '供方省公司待确认' },\r\n        { id: '2', label: '需方省公司待确认' },\r\n        { id: '8', label: '供方省公司已确认' },\r\n        { id: '9', label: '需方省公司已确认' },\r\n        { id: '3', label: '双方省公司待确认' },\r\n        { id: '4', label: '总公司待审核' },\r\n        { id: '5', label: '总公司已审核' },\r\n        { id: '6', label: '总公司退回供方' },\r\n        { id: '7', label: '总公司退回需方' },\r\n      ],\r\n      // 业务类型\r\n      businessTypeOptions: [\r\n        {\r\n          value: '0',\r\n          label: '业务类型',\r\n          children: [\r\n            {\r\n              value: '1',\r\n              label: '购销',\r\n              children: [\r\n                {\r\n                  value: '1-1',\r\n                  label: '工商购销',\r\n                  children: [\r\n                    { value: 'HT1101', label: '工商普通购销' },\r\n                    { value: 'HT1104', label: '基地烟' },\r\n                  ],\r\n                },\r\n                {\r\n                  value: '1-2',\r\n                  label: '出口备货购销',\r\n                  children: [{ value: 'HT1201', label: '出口备货普通购销' }],\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      leafTypeCode: ['10'],\r\n      queryItems: {\r\n        searchType: 'gjjType',\r\n      },\r\n      rules: {},\r\n      tableData: [],\r\n      FocusDealDetailData: [],\r\n      pagination: {\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    _apply() {\r\n      return this.$apis.centre.apply;\r\n    },\r\n    _confirm() {\r\n      return this.$apis.centre.confirm;\r\n    },\r\n    _audit() {\r\n      return this.$apis.centre.audit;\r\n    },\r\n    appConfig() {\r\n      return this.$store.getters.getAppConfig;\r\n    },\r\n    busiYear() {\r\n      return this.$store.getters.getAppConfig?.yearValueMap?.CENTER_YEAR;\r\n    },\r\n  },\r\n  created() {\r\n    this.onInfo();\r\n  },\r\n  methods: {\r\n    // 数据初始化\r\n    init() {\r\n      $ec.showLoading();\r\n      this.records = [];\r\n      this.FocusDealDetailData = []; // 清空详细数据\r\n      // 构造请求参数\r\n      const params = { ...this.queryItems };\r\n      params.orgCode = this.orgCode;\r\n      params.busiYear = this.busiYear;\r\n      // 树级选择框 值为数组改为最后一个元素\r\n      if (params.apprTypeCode && params.apprTypeCode?.length !== 0)\r\n        params.apprTypeCode = params.apprTypeCode.reverse()[0];\r\n      if (params.leafTypeCode && params.leafTypeCode?.length !== 0)\r\n        params.leafTypeCode = params.leafTypeCode.reverse()[0];\r\n      this._audit\r\n        .query(params)\r\n        .then((res) => {\r\n          this.tableData = res.rows;\r\n          this.pagination.total = res.totalRows;\r\n        })\r\n        .finally(() => {\r\n          $ec.hideLoading();\r\n        });\r\n    },\r\n    // 重置\r\n    resetHandle() {\r\n      this.queryItems = {\r\n        searchType: 'gjjType',\r\n      };\r\n      this.init();\r\n    },\r\n    // 烟叶类型Change\r\n    handlerSelectleafType(value) {\r\n      this.statusVal = value;\r\n    },\r\n    // 组织单位change\r\n    handlepickerValue(e, index) {\r\n      const { val } = e.selectOption;\r\n      this.queryItems[index] = val;\r\n    },\r\n    // 同意\r\n    handleraudit() {\r\n      if (this.records.length === 0) {\r\n        this.$message.error('请选中数据后再进行操作!');\r\n        return false;\r\n      }\r\n      const isok = this.records.some((item) => item.circleSate === '4'); // 4\r\n      if (!isok) {\r\n        this.$message.warning('下级单位还未审核，不允许审核！');\r\n        return;\r\n      }\r\n      this.auditLoading = false;\r\n      const params = {\r\n        operateType: 'audit',\r\n        busiYear: this.busiYear,\r\n        asFocusDealMasIds: this.records.map((item) => item.asFocusDealMasId) || [],\r\n      };\r\n      this._audit\r\n        .getPass(params)\r\n        .then(() => {\r\n          this.init();\r\n          this.$message.success('审核成功');\r\n        })\r\n        .finally(() => {\r\n          this.auditLoading = true;\r\n        });\r\n    },\r\n    // 退回\r\n    handlerreject(operateType) {\r\n      if (this.records.length === 0) {\r\n        this.$message.error('请选中数据后再进行操作!');\r\n        return false;\r\n      }\r\n      $ec.showLoading();\r\n      const params = {\r\n        operateType,\r\n        busiYear: this.busiYear,\r\n        asFocusDealMasIds: this.records.map((item) => item.asFocusDealMasId) || [],\r\n      };\r\n      this._audit\r\n        .getPass(params)\r\n        .then(() => {\r\n          this.init();\r\n          this.$message.success('退回成功');\r\n        })\r\n        .finally(() => {\r\n          $ec.hideLoading();\r\n        });\r\n    },\r\n    // open details\r\n    handleDetails(row, type) {\r\n      $ec.showLoading();\r\n      if (type === 'basedetails') {\r\n        // 明细表详情\r\n        const params = {\r\n          orgType: 'gjj',\r\n          busiYear: this.busiYear,\r\n        };\r\n        this._audit\r\n          .queryRowBaseDetails(params)\r\n          .then((res) => {\r\n            const objparams = {\r\n              ...res,\r\n              busiYear: this.busiYear,\r\n              unitstr: this.unitstr,\r\n              treeData: this.treeData,\r\n            };\r\n            this.$refs.detailsRef.show(objparams, type);\r\n          })\r\n          .finally(() => {\r\n            $ec.hideLoading();\r\n          });\r\n      } else {\r\n        const { demandOrgCode, supplyOrgCode } = row;\r\n        const params = {\r\n          demandOrgCode,\r\n          supplyOrgCode,\r\n          orgType: 'gjj',\r\n          asFocusDealMasId: row.asFocusDealMasId,\r\n        };\r\n        this._audit\r\n          .getDetails(params)\r\n          .then((res) => {\r\n            const objparams = {\r\n              ...res,\r\n              treeData: this.treeData,\r\n              unitstr: this.unitstr,\r\n              busiYear: this.busiYear,\r\n            };\r\n            this.$refs.detailsRef.show(objparams, type);\r\n          })\r\n          .finally(() => {\r\n            $ec.hideLoading();\r\n          });\r\n      }\r\n    },\r\n    // 分页\r\n    queryPagination(pageNumber, pageSize) {\r\n      this.queryItems.pageNumber = pageNumber;\r\n      this.queryItems.pageSize = pageSize;\r\n      this.init();\r\n    },\r\n\r\n    // 组织单位change\r\n    handlerorgValueChange(value) {\r\n      this.queryItems.orgCode = value;\r\n    },\r\n    // utils\r\n    // 获取组织树数据\r\n    async treeGetlist() {\r\n      const fields = {\r\n        pkey: 'parentOrgUniqueCode',\r\n        title: 'orgName',\r\n        key: 'orgUniqueCode',\r\n        children: 'children',\r\n      };\r\n      this.treeParams.bizCode = this.appConfig?.bizCode;\r\n      const response = await this._apply.getreeDate(this.treeParams);\r\n      this.treeData = treeFormatList(response?.rows, fields);\r\n    },\r\n    // 渲染组织树数据\r\n    getfetchData() {\r\n      return new Promise((resolve) => {\r\n        const list = cloneDeep(this.treeData);\r\n        resolve(list);\r\n      });\r\n    },\r\n    // 登陆数据初始化\r\n    async onInfo() {\r\n      // 供需方字段orgTypeEk\r\n      const { orgCode, orgTypeEk, bizCode } = await this.$apis.bpm.executionEnter.getOrgCode({});\r\n      this.orgCode = orgCode; // 登陆单位\r\n      this.bizCode = bizCode;\r\n      this.orgType = orgTypeEk === 'TOBACCO' ? 'O' : 'I';\r\n\r\n      this.treeParams.bizYear = this.busiYear;\r\n      await this.treeGetlist();\r\n      this.init();\r\n    },\r\n    // 选中行 获取详情list\r\n    handlerRowlist({ row }) {\r\n      $ec.showLoading();\r\n      this.asFocusDealMasId = row.asFocusDealMasId;\r\n      const params = {\r\n        orgType: 'gjj',\r\n        supplyOrgCode: row.supplyOrgCode,\r\n        asFocusDealMasId: row.asFocusDealMasId,\r\n      };\r\n      this._audit\r\n        .queryRowlist(params)\r\n        .then((res) => {\r\n          this.FocusDealDetailData = res.rows || [];\r\n        })\r\n        .finally(() => {\r\n          $ec.hideLoading();\r\n        });\r\n    },\r\n    // 主列表 checkbox\r\n    handlerSelectRow({ records }) {\r\n      this.records = records;\r\n    },\r\n    // search Options\r\n    // 获取烟叶类型name\r\n    findlabel(key, list) {\r\n      let label;\r\n      fn(list, key);\r\n      function fn(A, k) {\r\n        A.forEach((item) => {\r\n          if (item.value === k) {\r\n            label = item.label;\r\n            return false;\r\n          } else if ('children' in item) {\r\n            fn(item.children, k);\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n      return label;\r\n    },\r\n    // 合计栏\r\n    footerMethod({ columns, data }) {\r\n      return [\r\n        columns.map((column, columnIndex) => {\r\n          if (columnIndex === 1) {\r\n            return '合计';\r\n          }\r\n          if (['demandWeight', 'supplyWeight', 'finalWeight'].includes(column.property)) {\r\n            return this.sumNum(data, column.property);\r\n          }\r\n          return null;\r\n        }),\r\n      ];\r\n    },\r\n    sumNum(list, field) {\r\n      let count = 0;\r\n      list.forEach((item) => {\r\n        count += Number(item[field]);\r\n      });\r\n      return count;\r\n    },\r\n    // 单位换算\r\n    handlerWeightcalculate(num, unit) {\r\n      return num / unit;\r\n    },\r\n    cellStyle({ $columnIndex }) {\r\n      if ($columnIndex === 4 || $columnIndex === 5 || $columnIndex === 6) {\r\n        return { textAlign: 'right' };\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.btn-other {\r\n  border: 1px solid #0070d2;\r\n  color: #0070d2;\r\n}\r\n\r\n.table-bar-icon-btn {\r\n  width: 32px;\r\n\r\n  > i {\r\n    margin-left: -4px;\r\n  }\r\n}\r\n/deep/.ant-modal-body {\r\n  padding: 6px 24px;\r\n}\r\n/deep/.org.ec-query-item-inline .ec-query-item__control {\r\n  min-width: 76px;\r\n}\r\n.details-bg {\r\n  background-color: rgba(248, 248, 249, 1);\r\n  color: rgb(48, 48, 48);\r\n  font-weight: 600;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=90bb5c28&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=90bb5c28&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"90bb5c28\",\n  null\n  \n)\n\nexport default component.exports","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=90bb5c28&prod&lang=less&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=style&index=0&id=79279373&prod&lang=less&scoped=true&\"","import cloneDeep from 'lodash/cloneDeep';\r\nimport isPlainObject from 'lodash/isPlainObject';\r\n/**\r\n * 平铺树结构转换标注树结构\r\n * @param {Array} list 平铺类型数据\r\n * @param {Object | Null} replace 替换属性名称，key原来属性，value新属性\r\n * @param {Object} option 对应replace中的key字段，pkey和children必填\r\n * @returns treeData树结构\r\n */\r\nexport function listFormatTree(\r\n  list = [],\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title', children: 'children' },\r\n  option = { pkey: 'pkey', children: 'children' },\r\n) {\r\n  if (!Array.isArray(list)) {\r\n    return console.error('请传入一个list数组');\r\n  }\r\n  list.forEach((child) => {\r\n    const parentId = child[option.pkey];\r\n    if (parentId) {\r\n      list.forEach((parent) => {\r\n        const parentTmp = parent;\r\n        // 替换属性\r\n        if (replace) {\r\n          for (const key in replace) {\r\n            // 新旧属性不一致的替换\r\n            if (String(key) !== String(replace[key])) {\r\n              if (\r\n                Array.isArray(parentTmp[replace[key]]) ||\r\n                parentTmp[replace[key]] instanceof Object\r\n              ) {\r\n                parentTmp[key] = cloneDeep(parentTmp[replace[key]]);\r\n              } else {\r\n                parentTmp[key] = parentTmp[replace[key]];\r\n              }\r\n              Reflect.deleteProperty(parentTmp, replace[key]);\r\n            }\r\n          }\r\n        }\r\n        if (parentTmp && parentTmp.key === parentId) {\r\n          parentTmp[option.children] = parentTmp[option.children] || [];\r\n          parentTmp[option.children].push(child);\r\n        }\r\n      });\r\n    }\r\n  });\r\n  const root = list.every((item) => item[replace.pkey]);\r\n  if (root) {\r\n    return console.error('至少有一个根节点pid为null数组或传入一个空数组', list);\r\n  }\r\n  return list.filter((n) => !n[option.pkey]);\r\n}\r\n\r\n/**\r\n * 树转换为扁平树结构\r\n * @param {Array} treeData 树结构\r\n * @param {Object | Null} replace 替换属性名称，value要替换的属性名，null 不替换\r\n * @param {String} children 对应replace中children字段\r\n * @returns\r\n */\r\nexport function treeFormatList(\r\n  treeData = [],\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title' },\r\n  children = 'children',\r\n) {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  const list = [];\r\n  const clone = cloneDeep(treeData);\r\n  const stack = [...clone];\r\n  while (stack.length) {\r\n    const node = stack.shift();\r\n    const child = node[children];\r\n    if (child) {\r\n      stack.push(...child);\r\n    }\r\n    // 如果存在replace那就依次更换属性名称\r\n    if (replace) {\r\n      for (const key in replace) {\r\n        if (String(key) !== String(replace[key])) {\r\n          if (Array.isArray(node[replace[key]]) || node[replace[key]] instanceof Object) {\r\n            node[key] = cloneDeep(node[replace[key]]);\r\n          } else {\r\n            node[key] = node[replace[key]];\r\n          }\r\n          Reflect.deleteProperty(node, replace[key]);\r\n        }\r\n      }\r\n    }\r\n    // 删除空children属性\r\n    Reflect.deleteProperty(node, children);\r\n    list.push(node);\r\n  }\r\n  // 如果本身是list就返回本身\r\n  return list.length === 0 ? treeData : list;\r\n}\r\n\r\n/**\r\n * 过滤树，并保留原有的结构\r\n * @param {Array} treeData\r\n * @param {Function} filterFn 回调函数值判断来过滤，默认true不过滤\r\n * @param {String} children 子节点字段属性名称\r\n * @returns\r\n */\r\nexport function filterTree(treeData = [], filterFn = () => true, children = 'children') {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  function filter(treeDatas) {\r\n    if (!treeDatas?.length) {\r\n      return treeDatas;\r\n    }\r\n    return treeDatas.filter((data) => {\r\n      const item = data;\r\n      if (!filterFn(item)) {\r\n        return false;\r\n      }\r\n      item[children] = filter(item[children]);\r\n      return true;\r\n    });\r\n  }\r\n\r\n  return filter(treeData) || [];\r\n}\r\n\r\n/**\r\n * 树转为list并且过滤返回过滤的列表\r\n * @param {Array} treeData 树结构数据\r\n * @param {Function} filterFn 回调函数值判断来过滤，默认true不过滤\r\n * @param {Object | Null} replace 替换属性名称，value要替换的属性名，null 不替换\r\n * @returns 过滤后的数据\r\n */\r\nexport function filterList(\r\n  treeData,\r\n  filterFn = () => true,\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title' },\r\n) {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  const clone = cloneDeep(treeData);\r\n  const list = treeFormatList(clone, replace);\r\n  return list.filter((item) => {\r\n    if (!filterFn(item)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  });\r\n}\r\n\r\n/**\r\n * 数组去重\r\n * @param {Array} arr 存在重复数组对象\r\n * @param {String} prop 依据该属性判断唯一\r\n * @returns\r\n */\r\nexport function uniqueArrayBy(arr = [], prop = 'key') {\r\n  if (!Array.isArray(arr)) {\r\n    return console.error('请传入一个数组');\r\n  }\r\n  if (arr && arr.length !== 0 && isPlainObject(arr[0])) {\r\n    const map = new Map();\r\n    arr.forEach((item) => {\r\n      if (item[prop]) {\r\n        map.set(item[prop], item);\r\n      } else {\r\n        throw new Error('prop参数不匹配，在节点找不到对应的值');\r\n      }\r\n    });\r\n    if (map.size !== 0) {\r\n      return Array.from(map.values());\r\n    }\r\n  } else {\r\n    return Array.from(new Set(arr));\r\n  }\r\n}\r\n\r\n/**\r\n * 获取选中节点展开的keys\r\n * @param {Array} treeData 树data\r\n * @param {String} selected 选中的节点\r\n * @param {Object | Null} replace 替换属性名称，value要替换的属性名，null 不替换\r\n * @param {Object} option 默认配置\r\n * @returns {Array} 路径数组\r\n */\r\nexport function getExpandedKeys(\r\n  treeData,\r\n  selected,\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title' },\r\n  option = { pkey: 'pkey', key: 'key' },\r\n) {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  const paths = new Set();\r\n  const data = treeFormatList(treeData, replace);\r\n  function fn(list, select) {\r\n    list.forEach((node) => {\r\n      if (String(node[option.key]) === String(select)) {\r\n        paths.add(node[option.key]);\r\n        // 移除叶子节点\r\n        if (node.isLeaf) {\r\n          paths.delete(node[option.key]);\r\n        }\r\n        fn(list, node[option.pkey]);\r\n      }\r\n    });\r\n  }\r\n  fn(data, selected);\r\n  return Array.from(paths)\r\n    .reverse()\r\n    .filter((item) => item !== selected);\r\n}\r\n\r\n/**\r\n * 获取选中节点选择的keys\r\n * @param {Array} treeData 树data\r\n * @param {String} selected 选中的节点\r\n * @param {String} by 依据by字段取值，默认配置'key'\r\n * @param {Object | Null} replace 替换属性名称，value要替换的属性名，null 不替换\r\n * @param {Object} option 默认配置\r\n * @returns {Array} 路径数组\r\n */\r\nexport function getSelectedBy(\r\n  treeData,\r\n  selected,\r\n  by = 'key',\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title' },\r\n  option = { pkey: 'pkey', key: 'key' },\r\n) {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  const keys = new Set();\r\n  const data = treeFormatList(treeData, replace);\r\n  function fn(list, select) {\r\n    list.forEach((node) => {\r\n      if (String(node[option.key]) === String(select)) {\r\n        keys.add(node[by]);\r\n        fn(list, node[option.pkey]);\r\n      }\r\n    });\r\n  }\r\n  fn(data, selected);\r\n  return Array.from(keys).reverse();\r\n}\r\n\r\n/**\r\n * 根据选中的属性获取节点node\r\n * @param {Array} treeData 树data\r\n * @param {String} selected 选中的节点值\r\n * @param {String} by 属性名称\r\n * @param {Object | Null} replace 替换属性名称，key原来属性，value新属性\r\n * @returns {Object} 选中的节点对象\r\n */\r\nexport function getNodeBy(\r\n  treeData,\r\n  selected,\r\n  by = 'key',\r\n  replace = { pkey: 'pkey', key: 'key', title: 'title' },\r\n) {\r\n  if (!Array.isArray(treeData)) {\r\n    return console.error('请传入一个tree数组');\r\n  }\r\n  const data = treeFormatList(treeData, replace);\r\n  const node = data.filter((n) => {\r\n    return String(n[by]) === String(selected);\r\n  });\r\n  return Array.isArray(node) && node.length === 1 ? node[0] : null;\r\n}\r\n\r\n/**\r\n * 根据选中的属性获取对应的name名称\r\n * @param {Array} dicList 字典列表\r\n * @param {String} value 节点值\r\n * @param {String} option 字典中key和label字典对应字段名称\r\n * @returns {String} 值对应的属性\r\n */\r\nexport function getNameBy(dicList, value, option = { key: 'key', label: 'title' }) {\r\n  if (!Array.isArray(dicList)) {\r\n    return console.error('请传入一个字典数组');\r\n  }\r\n  const node = dicList.filter((n) => {\r\n    return String(n[option.key]) === String(value);\r\n  });\r\n  // console.log(node)\r\n  if (node && node.length !== 0) {\r\n    return node[0][option.label];\r\n  }\r\n  return '';\r\n}\r\n","const { toString } = Object.prototype;\r\n// 公共组件沉淀方法库导入导出\r\nexport * from '@/components/_utils';\r\nexport const isArray = (value) => {\r\n  if (typeof Array.isArray === 'function') {\r\n    return Array.isArray(value);\r\n  } else {\r\n    return toString.call(value) === '[object Array]';\r\n  }\r\n};\r\nexport const isObject = (value) => {\r\n  return toString.call(value) === '[object Object]';\r\n};\r\n\r\nexport const isNull = (value) => {\r\n  return value === null;\r\n};\r\n\r\nexport const isUndefined = (value) => {\r\n  return value === undefined;\r\n};\r\n\r\nexport const isString = (value) => {\r\n  return typeof value === 'string';\r\n};\r\n\r\nexport const isEmpty = (value) => {\r\n  if (isArray(value)) {\r\n    return value.length === 0;\r\n  }\r\n\r\n  if (isObject(value)) {\r\n    return Object.keys(value).length === 0;\r\n  }\r\n\r\n  return value === '' || isUndefined(value) || isNull(value);\r\n};\r\n\r\nexport const last = (data) => {\r\n  if (isEmpty(data)) return;\r\n\r\n  if (isArray(data) || isString(data)) {\r\n    return data[data.length - 1];\r\n  }\r\n};\r\n\r\n/**\r\n * @param {HTMLElement} element\r\n * @param {string} event\r\n * @param {function} handler\r\n */\r\nexport const on = (() => {\r\n  if (document.addEventListener) {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.addEventListener(event, handler, false);\r\n      }\r\n    };\r\n  } else {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.attachEvent(`on${event}`, handler);\r\n      }\r\n    };\r\n  }\r\n})();\r\n/**\r\n * @param {HTMLElement} element\r\n * @param {string} event\r\n * @param {function} handler\r\n */\r\nexport const off = (() => {\r\n  if (document.removeEventListener) {\r\n    return function (element, event, handler) {\r\n      if (element && event) {\r\n        element.removeEventListener(event, handler, false);\r\n      }\r\n    };\r\n  } else {\r\n    return function (element, event, handler) {\r\n      if (element && event) {\r\n        element.detachEvent(`on${event}`, handler);\r\n      }\r\n    };\r\n  }\r\n})();\r\n\r\n/**\r\n * @param {HTMLElement} el\r\n * @param {string} event\r\n * @param {function} fn\r\n */\r\nexport const once = (el, event, fn) => {\r\n  const listener = function (...args) {\r\n    if (fn) {\r\n      fn.apply(this, args);\r\n    }\r\n    off(el, event, listener);\r\n  };\r\n  on(el, event, listener);\r\n};\r\n\r\n/**\r\n * @param {array} list\r\n * @param {*} predicate\r\n * @returns {array}\r\n */\r\nexport const uniqBy = (list, predicate) => {\r\n  if (isEmpty(list)) return [];\r\n\r\n  const cb = typeof predicate === 'function' ? predicate : (o) => o[predicate];\r\n  return [\r\n    ...list\r\n      .reduce((map, item) => {\r\n        const key = isEmpty(item) ? item : cb(item);\r\n        map.has(key) || map.set(key, item);\r\n        return map;\r\n      }, new Map())\r\n      .values(),\r\n  ];\r\n};\r\n\r\n/**\r\n * 防抖\r\n * @param {function} fn\r\n * @param {number} delay\r\n * @returns\r\n */\r\nexport const debounce = (fn, delay) => {\r\n  let timer = null;\r\n\r\n  return function (...args) {\r\n    const context = this;\r\n\r\n    if (timer) {\r\n      clearTimeout(timer);\r\n\r\n      timer = setTimeout(() => {\r\n        fn.apply(context, args);\r\n      }, delay);\r\n    } else {\r\n      timer = setTimeout(() => {\r\n        fn.apply(context, args);\r\n      }, delay);\r\n    }\r\n  };\r\n};\r\n/**\r\n * @description 由于现在看到基本上接口树状数据都是统一这种结构 `{main:object,children:object[]}` 在这里统一处理成`{[key:string]:any,children:object[]}[]`\r\n * @param {{main:object,children:object[]} | {main:object,children:object[]}[]} data\r\n * @param {{children: string;title: string;key: string;value: string;}} props\r\n * @param {number?} level\r\n * @returns {{[key:string]:any,children:object[]}[]}\r\n * @example tree组件渲染只需要修改replaceFields\r\n * js\r\n *  import { deepTree } from \"@/utils/utils\";\r\n *  this.treeData = deepTree(res.orgTreeDate)\r\n * html\r\n *  <a-tree\r\n *    :tree-data=\"treeData\"\r\n *    :replaceFields=\"{\r\n *      key: 'orgUniqueCd',\r\n *      title: 'orgName',\r\n *  }\"\r\n *  />\r\n */\r\nconst deepTreeProps = {\r\n  children: 'children',\r\n  title: 'title',\r\n  key: 'key',\r\n  value: 'value',\r\n};\r\nexport const deepTree = (data = [], props = {}, level = 1) => {\r\n  const nProps = {\r\n    ...deepTreeProps,\r\n    ...props,\r\n  };\r\n  if (isEmpty(data)) return [];\r\n  const list = (isObject(data) ? [data] : data) || [];\r\n  const len = list.length;\r\n  const result = [];\r\n  for (let i = 0; i < len; i++) {\r\n    const item = list[i];\r\n    const children = item[nProps.children] ?? [];\r\n    const isLeaf = !children.length;\r\n\r\n    const nItem = {\r\n      _level: level,\r\n      ...item.main,\r\n      isLeaf,\r\n    };\r\n\r\n    nItem.key = nItem[nProps.key];\r\n    nItem.title = nItem[nProps.title];\r\n    nItem.value = nItem[nProps.value];\r\n\r\n    if (!isLeaf) {\r\n      nItem.children = deepTree(children, nProps, level + 1);\r\n    }\r\n    result.push(nItem);\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const fileSaveAs = (file, name) => {\r\n  if (!file) return;\r\n  const url = window.URL.createObjectURL(file);\r\n  const link = document.createElement('a');\r\n  link.style.display = 'none';\r\n  link.href = url;\r\n  link.setAttribute('download', name);\r\n  document.body.appendChild(link);\r\n  link.click();\r\n};\r\nexport const weightMatching = (fields, data, unit, type) => {\r\n  // 重量匹配\r\n  return data?.map((item) => {\r\n    const obj = { ...item };\r\n    for (const k in item) {\r\n      if (fields.includes(k)) {\r\n        if (type === '/') {\r\n          obj[k] /= unit;\r\n        } else {\r\n          obj[k] *= unit;\r\n        }\r\n      }\r\n    }\r\n    return obj;\r\n  });\r\n};\r\n// 判断是否是字符串数字\r\nexport const isNumber = (str) => !isNaN(Number(str));\r\n\r\n/**\r\n * 下载文件\r\n * @param url\r\n * @param filename\r\n */\r\nexport const DownloadA = (url, filename) => {\r\n  if (!url) return;\r\n  const link = document.createElement('a'); //  创建a标签\r\n  link.style.display = 'none'; //  使其隐藏\r\n  link.href = url; // 赋予文件下载地址\r\n  link.setAttribute('download', filename); // 设置下载属性 以及文件名\r\n  document.body.appendChild(link); // a标签插至页面中\r\n  link.click(); //  强制触发a标签事件\r\n  document.body.removeChild(link);\r\n};\r\n"],"sourceRoot":""}