{"version":3,"sources":["webpack:///./src/views/bpm/loss-report-apply/Index.vue?f4a4","webpack:///./src/views/bpm/loss-report-apply/EditModal.vue?a3ed","webpack:///src/views/bpm/loss-report-apply/EditModal.vue","webpack:///./src/views/bpm/loss-report-apply/EditModal.vue?2e6e","webpack:///./src/views/bpm/loss-report-apply/EditModal.vue","webpack:///src/views/bpm/loss-report-apply/Index.vue","webpack:///./src/views/bpm/loss-report-apply/Index.vue?526a","webpack:///./src/views/bpm/loss-report-apply/Index.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","handleQuery","handleReset","scopedSlots","_u","key","fn","model","value","queryData","callback","$$v","$set","expression","billDates","slot","_v","disabled","proxy","_l","item","auditStateCode","_s","auditStateName","busiTypeCode","busiTypeName","leafTypeEk","leafTypeCode","leafTypeName","$event","onEdit","b","prodYear","onDel","onReported","busiYear","staticStyle","handleUnitParse","weightUnit","weightUnitCd","weightUnitName","ref","loading","tableData","pagination","trigger","highlight","range","pageAction","selectAllEvent","selectRowChange","row","confFlag","_e","auditState","staticRenderFns","staticClass","formData","lossReportQtyId","visible","onclose","formRules","dateFormat","leafFormCode","leafFormName","confFlagName","onSave","name","components","data","businessTypeList","leafTypeList","leafFormList","confiscationSmokeList","userInfo","orgCode","orgName","bizCode","levelCode","billDate","totalWeight","required","message","created","methods","show","getUserInfoHandler","leafFormcode","onChange","then","finally","add","component","EditModal","stateList","weightList","id","weightUnitList","isSelected","oldDataRow","pageNumber","pageSize","total","selectedRows","initBizCode","orgLevelEk","handlerSelect","console","onQuery","handleOlDataRow","obj","newTableData","billBeginDate","billEndDate","title","content","onOk","lossReportQtyIds","auditStates","isSelectTableData","records","_defineProperty","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"js/chunk-07ba37d6.408f069d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-container',[_c('ec-container-header',[_c('ec-panel-item',[_c('ec-panel-item-left',[_c('ec-header',{attrs:{\"title\":\"收购升损申请\",\"icon\":\"onetomany\",\"color-code\":\"008\"}})],1)],1)],1),_c('ec-container-body',[_c('ec-panel',[_c('ec-panel-toolbar',[_c('ec-query-panel',{on:{\"query\":_vm.handleQuery,\"reset\":_vm.handleReset},scopedSlots:_vm._u([{key:\"inner\",fn:function(){return [_c('ec-query-item',{attrs:{\"label\":\"单位\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入单位\"},model:{value:(_vm.queryData.orgName),callback:function ($$v) {_vm.$set(_vm.queryData, \"orgName\", $$v)},expression:\"queryData.orgName\"}})],1),_c('ec-query-item',{attrs:{\"label\":\"单据日期范围\"}},[_c('a-range-picker',{model:{value:(_vm.billDates),callback:function ($$v) {_vm.billDates=$$v},expression:\"billDates\"}},[_c('template',{slot:\"renderExtraFooter\"},[_vm._v(\" extra footer \")])],2)],1),_c('ec-query-item',{attrs:{\"label\":\"调拨年度\"}},[_c('a-input-number',{attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"请输入调拨年度\"},model:{value:(_vm.queryData.busiYear),callback:function ($$v) {_vm.$set(_vm.queryData, \"busiYear\", $$v)},expression:\"queryData.busiYear\"}})],1)]},proxy:true}])},[_c('ec-query-item',{attrs:{\"label\":\"状态\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryData.auditState),callback:function ($$v) {_vm.$set(_vm.queryData, \"auditState\", $$v)},expression:\"queryData.auditState\"}},_vm._l((_vm.stateList),function(item){return _c('a-select-option',{key:item.auditStateCode},[_vm._v(\" \"+_vm._s(item.auditStateName)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"业务类型\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryData.busiTypeCode),callback:function ($$v) {_vm.$set(_vm.queryData, \"busiTypeCode\", $$v)},expression:\"queryData.busiTypeCode\"}},_vm._l((_vm.businessTypeList),function(item){return _c('a-select-option',{key:item.busiTypeCode,attrs:{\"value\":item.busiTypeCode}},[_vm._v(\" \"+_vm._s(item.busiTypeName)+\" \")])}),1)],1),_c('ec-query-item',{attrs:{\"label\":\"烟叶类型\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.queryData.leafTypeCode),callback:function ($$v) {_vm.$set(_vm.queryData, \"leafTypeCode\", $$v)},expression:\"queryData.leafTypeCode\"}},_vm._l((_vm.leafTypeList),function(leafTypeEk){return _c('a-select-option',{key:leafTypeEk.leafTypeCode},[_vm._v(\" \"+_vm._s(leafTypeEk.leafTypeName)+\" \")])}),1)],1)],1),_c('ec-divider')],1),_c('ec-panel-body',[_c('ec-v-layout',[_c('ec-v-item',[_c('ec-panel-item',[_c('ec-panel-item-left',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onEdit(_vm.b, _vm.prodYear)}}},[_vm._v(\"新增\")]),_c('a-button',{on:{\"click\":_vm.onDel}},[_vm._v(\"删除\")]),_c('a-button',{on:{\"click\":_vm.onReported}},[_vm._v(\"上报\")])],1),_c('ec-panel-item-right',[_c('a-space',{attrs:{\"size\":15}},[_c('span',[_vm._v(\"业务年度：\"+_vm._s(_vm.busiYear)+\"年\")]),_c('span',[_vm._v(\"重量单位：\"),_c('ec-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},on:{\"select\":function($event){return _vm.handleUnitParse()}},model:{value:(_vm.weightUnit),callback:function ($$v) {_vm.weightUnit=$$v},expression:\"weightUnit\"}},_vm._l((_vm.weightUnitList),function(weightUnit){return _c('a-select-option',{key:weightUnit.weightUnitCd},[_vm._v(\" \"+_vm._s(weightUnit.weightUnitName)+\" \")])}),1)],1)])],1)],1)],1),_c('ec-v-item',[_c('ec-table',{ref:\"table\",attrs:{\"show-overflow\":\"\",\"loading\":_vm.loading,\"data\":_vm.tableData,\"pagination\":_vm.pagination,\"checkbox-config\":{ trigger: 'row', highlight: true, range: true }},on:{\"page-action\":_vm.pageAction,\"checkbox-all\":_vm.selectAllEvent,\"checkbox-change\":_vm.selectRowChange}},[_c('ec-table-col',{attrs:{\"type\":\"checkbox\",\"width\":\"50\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"billDate\",\"title\":\"单据日期\"}}),_c('ec-table-col',{attrs:{\"field\":\"orgName\",\"title\":\"单位\",\"align\":\"left\",\"width\":\"150\"}}),_c('ec-table-col',{attrs:{\"field\":\"busiTypeName\",\"title\":\"业务类型\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafTypeName\",\"title\":\"烟叶类型\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"leafFormName\",\"title\":\"烟叶形态\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"confFlag\",\"title\":\"罚没烟\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.confFlag === '0')?_c('div',[_c('span',[_vm._v(\"非罚没烟\")])]):(row.confFlag === '1')?_c('div',[_c('span',[_vm._v(\"罚没烟\")])]):_vm._e()]}}])}),_c('ec-table-col',{attrs:{\"field\":\"busiYear\",\"title\":\"调拨年度\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"prodYear\",\"title\":\"生产年度\",\"align\":\"center\"}}),_c('ec-table-col',{attrs:{\"field\":\"totalWeight\",\"title\":\"重量\",\"align\":\"right\"}}),_c('ec-table-col',{attrs:{\"field\":\"auditState\",\"title\":\"状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.auditState === '0')?_c('div',[_c('span',[_vm._v(\"未上报\")])]):(row.auditState === '1')?_c('div',[_c('span',[_vm._v(\"省公司待审核\")])]):(row.auditState === '2')?_c('div',[_c('span',[_vm._v(\"省公司退回\")])]):_c('div',[_c('span',[_vm._v(\"完成\")])])]}}])}),_c('ec-table-col',{attrs:{\"field\":\"field\",\"title\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a-button',{attrs:{\"type\":\"link\",\"disabled\":row.auditState != '0' && row.auditState != '2' ? true : false},on:{\"click\":function($event){return _vm.onEdit(row)}}},[_vm._v(\"编辑\")])]}}])})],1)],1)],1)],1)],1),_c('edit-modal',{ref:\"editModalRef\",on:{\"finish\":_vm.handleReset}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ec-drawer',{staticClass:\"ec-draw-form\",attrs:{\"title\":_vm.formData.lossReportQtyId ? '编辑' : '新增',\"visible\":_vm.visible,\"size\":\"small\",\"is-confirm\":true},on:{\"close\":_vm.onclose}},[_c('ec-container',{attrs:{\"height\":\"auto\",\"fixed\":\"top bottom\",\"color-code\":\"007\"}},[_c('ec-container-body',[_c('ec-panel',{attrs:{\"color-code\":\"001\",\"title\":\"基本信息\"}},[_c('ec-panel-item',[_c('ec-form',{ref:\"formRef\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules}},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":12}},[_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"单据日期\",\"prop\":\"billDate\"}},[_c('a-date-picker',{attrs:{\"format\":_vm.dateFormat},model:{value:(_vm.formData.billDate),callback:function ($$v) {_vm.$set(_vm.formData, \"billDate\", $$v)},expression:\"formData.billDate\"}})],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"业务类型\",\"prop\":\"busiTypeName\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.formData.busiTypeName),callback:function ($$v) {_vm.$set(_vm.formData, \"busiTypeName\", $$v)},expression:\"formData.busiTypeName\"}},_vm._l((_vm.businessTypeList),function(item){return _c('a-select-option',{key:item.busiTypeCode,attrs:{\"value\":item.busiTypeName}},[_vm._v(\" \"+_vm._s(item.busiTypeName)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"烟叶类型\",\"prop\":\"leafTypeName\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.formData.leafTypeName),callback:function ($$v) {_vm.$set(_vm.formData, \"leafTypeName\", $$v)},expression:\"formData.leafTypeName\"}},_vm._l((_vm.leafTypeList),function(leafTypeEk){return _c('a-select-option',{key:leafTypeEk.leafTypeCode,attrs:{\"value\":leafTypeEk.leafTypeName}},[_vm._v(\" \"+_vm._s(leafTypeEk.leafTypeName)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"烟叶形态\",\"prop\":\"leafFormName\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.formData.leafFormName),callback:function ($$v) {_vm.$set(_vm.formData, \"leafFormName\", $$v)},expression:\"formData.leafFormName\"}},_vm._l((_vm.leafFormList),function(item){return _c('a-select-option',{key:item.leafFormCode,attrs:{\"value\":item.leafFormName}},[_vm._v(\" \"+_vm._s(item.leafFormName)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"罚没烟\",\"prop\":\"confFlag\"}},[_c('ec-select',{attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.formData.confFlag),callback:function ($$v) {_vm.$set(_vm.formData, \"confFlag\", $$v)},expression:\"formData.confFlag\"}},_vm._l((_vm.confiscationSmokeList),function(item){return _c('a-select-option',{key:item.confFlag},[_vm._v(\" \"+_vm._s(item.confFlagName)+\" \")])}),1)],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"生产年度\",\"prop\":\"prodYear\"}},[_c('a-input',{model:{value:(_vm.formData.prodYear),callback:function ($$v) {_vm.$set(_vm.formData, \"prodYear\", $$v)},expression:\"formData.prodYear\"}})],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"调拨年度\",\"prop\":\"busiYear\"}},[_c('a-input',{model:{value:(_vm.formData.busiYear),callback:function ($$v) {_vm.$set(_vm.formData, \"busiYear\", $$v)},expression:\"formData.busiYear\"}})],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"重量\",\"prop\":\"totalWeight\"}},[_c('a-input-number',{model:{value:(_vm.formData.totalWeight),callback:function ($$v) {_vm.$set(_vm.formData, \"totalWeight\", $$v)},expression:\"formData.totalWeight\"}})],1)],1)],1)],1)],1)],1)],1),_c('ec-container-footer',{attrs:{\"fixed\":\"\"}},[_c('a-space',[_c('a-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.onSave}},[_vm._v(\"保存\")]),_c('a-button',{on:{\"click\":_vm.onclose}},[_vm._v(\"关闭\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ec-drawer\r\n    :title=\"formData.lossReportQtyId ? '编辑' : '新增'\"\r\n    :visible=\"visible\"\r\n    size=\"small\"\r\n    @close=\"onclose\"\r\n    class=\"ec-draw-form\"\r\n    :is-confirm=\"true\"\r\n  >\r\n    <ec-container height=\"auto\" fixed=\"top bottom\" color-code=\"007\">\r\n      <ec-container-body>\r\n        <ec-panel color-code=\"001\" title=\"基本信息\">\r\n          <ec-panel-item>\r\n            <ec-form :model=\"formData\" :rules=\"formRules\" ref=\"formRef\">\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"单据日期\" prop=\"billDate\">\r\n                    <!-- <a-input v-model=\"formData.tplName\" /> -->\r\n                    <a-date-picker v-model=\"formData.billDate\" :format=\"dateFormat\" />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"业务类型\" prop=\"busiTypeName\">\r\n                    <ec-select\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.busiTypeName\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"item in businessTypeList\"\r\n                        :key=\"item.busiTypeCode\"\r\n                        :value=\"item.busiTypeName\"\r\n                      >\r\n                        {{ item.busiTypeName }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"烟叶类型\" prop=\"leafTypeName\">\r\n                    <ec-select\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.leafTypeName\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"leafTypeEk in leafTypeList\"\r\n                        :key=\"leafTypeEk.leafTypeCode\"\r\n                        :value=\"leafTypeEk.leafTypeName\"\r\n                      >\r\n                        {{ leafTypeEk.leafTypeName }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"烟叶形态\" prop=\"leafFormName\">\r\n                    <ec-select\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.leafFormName\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"item in leafFormList\"\r\n                        :key=\"item.leafFormCode\"\r\n                        :value=\"item.leafFormName\"\r\n                      >\r\n                        {{ item.leafFormName }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"罚没烟\" prop=\"confFlag\">\r\n                    <ec-select\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.confFlag\"\r\n                    >\r\n                      <a-select-option v-for=\"item in confiscationSmokeList\" :key=\"item.confFlag\">\r\n                        {{ item.confFlagName }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"生产年度\" prop=\"prodYear\">\r\n                    <!-- <ec-select\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.prodYear\"\r\n                    >\r\n                      <a-select-option v-for=\"item in prodYear\" :key=\"item\">\r\n                        {{ item }}\r\n                      </a-select-option>\r\n                    </ec-select> -->\r\n                    <a-input v-model=\"formData.prodYear\" />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"调拨年度\" prop=\"busiYear\">\r\n                    <a-input v-model=\"formData.busiYear\" />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"重量\" prop=\"totalWeight\">\r\n                    <a-input-number v-model=\"formData.totalWeight\" />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n            </ec-form>\r\n          </ec-panel-item>\r\n        </ec-panel>\r\n\r\n        <!-- <ec-panel color-code=\"001\" title=\"配置信息\">\r\n          <ec-panel-item>\r\n            <ec-form :model=\"formData\" :rules=\"formRules\" ref=\"formRef\">\r\n              <a-row type=\"flex\" :gutter=\"12\">\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"默认打印模板文件名\" prop=\"defaultTplName\">\r\n                   \r\n\r\n                    <a-upload @change=\"upload\">\r\n                      <a-input-search\r\n                        placeholder=\"输入文件名\"\r\n                        size=\"large\"\r\n                        v-model=\"formData.defaultTplName\"\r\n                      >\r\n                        <a-button slot=\"enterButton\"> 点击上传 </a-button>\r\n                      </a-input-search>\r\n                    </a-upload>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"是否启用\">\r\n                    <ec-select\r\n                      showSearch\r\n                      allow-clear\r\n                      placeholder=\"请选择\"\r\n                      v-model=\"formData.isEnable\"\r\n                    >\r\n                      <a-select-option v-for=\"item in state\" :key=\"item.id\" :value=\"item.isEnable\">\r\n                        {{ item.state }}\r\n                      </a-select-option>\r\n                    </ec-select>\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"左边距\">\r\n                    <a-input v-model=\"formData.leftMargin\" />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n\r\n                <a-col :span=\"12\">\r\n                  <a-form-model-item label=\"上边距\">\r\n                    <a-input v-model=\"formData.topMargin\" />\r\n                  </a-form-model-item>\r\n                </a-col>\r\n              </a-row>\r\n            </ec-form>\r\n          </ec-panel-item>\r\n        </ec-panel> -->\r\n      </ec-container-body>\r\n      <ec-container-footer fixed>\r\n        <a-space>\r\n          <a-button :loading=\"loading\" type=\"primary\" @click=\"onSave\">保存</a-button>\r\n          <a-button @click=\"onclose\">关闭</a-button>\r\n        </a-space>\r\n      </ec-container-footer>\r\n    </ec-container>\r\n  </ec-drawer>\r\n</template>\r\n<script>\r\n// import { OrgPicker, OrgTree, DivisionPicker } from '@/components/TreePicker';\r\nexport default {\r\n  name: 'EditModal',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      value: '',\r\n      // 业务类型\r\n      businessTypeList: [\r\n        { busiTypeCode: '', busiTypeName: '全部' },\r\n        { busiTypeCode: 'YW9401', busiTypeName: '升溢' },\r\n        { busiTypeCode: 'YW9402', busiTypeName: '损耗' },\r\n      ],\r\n      // 烟叶类型\r\n      leafTypeList: [\r\n        { leafTypeCode: '10', leafTypeName: '烤烟' },\r\n        { leafTypeCode: '20', leafTypeName: '晾晒烟' },\r\n      ],\r\n      // 烟叶形态\r\n      leafFormList: [{ leafFormCode: '101', leafFormName: '原烟' }],\r\n      // 罚没烟\r\n      confiscationSmokeList: [{ confFlag: '0', confFlagName: '非罚没烟' }],\r\n      // 生产年度\r\n      prodYear: '',\r\n      // 调拨年度\r\n      busiYear: '',\r\n      // 用户信息\r\n      userInfo: {},\r\n      dateFormat: 'YYYY-MM-DD   ',\r\n      visible: false,\r\n      loading: false,\r\n      formData: {\r\n        orgCode: '',\r\n        orgName: '',\r\n        bizCode: '',\r\n        levelCode: '',\r\n        billDate: '',\r\n        busiTypeCode: '',\r\n        leafTypeCode: '',\r\n        leafFormName: '',\r\n        leafFormCode: '',\r\n        confFlag: '',\r\n        prodYear: '',\r\n        busiYear: '',\r\n        totalWeight: '',\r\n      },\r\n      formRules: {\r\n        billDate: { required: true, message: '请选择单据日期', trigger: '' },\r\n        busiTypeName: { required: true, message: '请选择业务类型', trigger: 'blur' },\r\n        leafTypeName: { required: true, message: '请选择烟叶类型', trigger: 'blur' },\r\n        leafFormName: { required: true, message: '请选择烟叶形态', trigger: 'blur' },\r\n        confFlag: { required: true, message: '请选择', trigger: 'blur' },\r\n        prodYear: { required: true, message: '请选择生产年度', trigger: 'blur' },\r\n        busiYear: { required: true, message: '请选择调拨年度', trigger: 'blur' },\r\n        totalWeight: { required: true, message: '请输入重量', trigger: 'blur' },\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getUserInfoHandler();\r\n  },\r\n  methods: {\r\n    // 显示推窗\r\n    show(data) {\r\n      this.visible = true;\r\n      this.formData = data || { busiYear: this.busiYear };\r\n      this.prodYear = data.prodYear;\r\n      this.busiYear = data.busiYear;\r\n    },\r\n    // 获取当前登入用户信息\r\n    getUserInfoHandler() {\r\n      this.$apis.common.user.get({}).then((res) => {\r\n        this.userInfo = res || {};\r\n        this.formData.orgCode = res.orgCode;\r\n        this.formData.orgName = res.orgName;\r\n        this.formData.bizCode = res.bizCode;\r\n        this.formData.levelCode = res.cmTOrgMain.levelCode;\r\n        // console.log('登录信息', res);\r\n        // console.log('登录信息', this.formData.bizCode);\r\n        // console.log('登录信息', this.formData);\r\n      });\r\n    },\r\n\r\n    // 转化时间\r\n    // formatLongDate(date) {\r\n    //   let myyear = date.getFullYear();\r\n    //   let mymonth = date.getMonth() + 1;\r\n    //   let myweekday = date.getDate();\r\n    //   let myHour = date.getHours();\r\n    //   let myMin = date.getMinutes();\r\n    //   let mySec = date.getSeconds();\r\n    //   if (mymonth < 10) {\r\n    //     mymonth = '0' + mymonth;\r\n    //   }\r\n    //   if (myweekday < 10) {\r\n    //     myweekday = '0' + myweekday;\r\n    //   }\r\n    //   if (myHour < 10) {\r\n    //     myHour = '0' + myHour;\r\n    //   }\r\n    //   if (myMin < 10) {\r\n    //     myMin = '0' + myMin;\r\n    //   }\r\n    //   if (mySec < 10) {\r\n    //     mySec = '0' + mySec;\r\n    //   }\r\n    //   return myyear + '-' + mymonth + '-' + myweekday + '-' + myHour + '-' + myMin + '-' + mySec;\r\n    // },\r\n\r\n    // 保存\r\n    onSave() {\r\n      this.$refs.formRef.validate((valid) => {\r\n        if (valid) {\r\n          if (this.formData?.lossReportQtyId) {\r\n            this.loading = true;\r\n            const data = {\r\n              ...this.formData,\r\n              leafFormcode: this.formData.leafFormName === '原烟' ? '101' : '',\r\n              leafTypeCode: this.formData.leafTypeName === '烤烟' ? '10' : '20',\r\n              busiTypeCode: this.formData.busiTypeName === '升溢' ? 'YW9401' : 'YW9402',\r\n              orgCode: this.userInfo.orgCode,\r\n              orgName: this.userInfo.orgName,\r\n              levelCode: this.userInfo.cmTOrgMain.levelCode,\r\n              auditState: '0',\r\n            };\r\n            this.$apis.bpm.lossReportApply\r\n              .onChange(data)\r\n              .then(() => {\r\n                this.$message.success('操作成功');\r\n                this.$emit('finish');\r\n                this.onclose();\r\n              })\r\n              .finally(() => {\r\n                this.loading = false;\r\n              });\r\n          } else {\r\n            this.loading = true;\r\n            const data = {\r\n              ...this.formData,\r\n              // leafFormName:this.formData.leafFormCode==\"101\"?\"原烟\":\"\",\r\n              leafTypeName: this.formData.leafTypeCode === '10' ? '烤烟' : '晾晒烟',\r\n              leafFormcode: this.formData.leafFormName === '原烟' ? '101' : '',\r\n              leafTypeCode: this.formData.leafTypeName === '烤烟' ? '10' : '20',\r\n              busiTypeCode: this.formData.busiTypeName === '升溢' ? 'YW9401' : 'YW9402',\r\n              orgCode: this.userInfo.orgCode,\r\n              orgName: this.userInfo.orgName,\r\n              levelCode: this.userInfo.cmTOrgMain.levelCode,\r\n              auditState: '0',\r\n            };\r\n            data.billDate = data.billDate.format('YYYY-MM-DD');\r\n            this.$apis.bpm.lossReportApply\r\n              .add(data)\r\n              .then(() => {\r\n                // console.log('新增信息', data);\r\n                this.$message.success('操作成功');\r\n                this.$emit('finish');\r\n                this.onclose();\r\n                this.loading = false;\r\n              })\r\n              .finally(() => {\r\n                this.loading = false;\r\n              });\r\n          }\r\n        } else {\r\n          this.$message.error('验证不通过');\r\n        }\r\n      });\r\n    },\r\n    // 关闭\r\n    onclose() {\r\n      this.$refs.formRef.resetFields();\r\n      this.formData = {};\r\n      this.visible = false;\r\n    },\r\n    // onChange(value) {\r\n    //   console.log('changed', value);\r\n    // },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditModal.vue?vue&type=template&id=4c55153d&scoped=true&\"\nimport script from \"./EditModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c55153d\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <ec-container>\r\n    <ec-container-header>\r\n      <ec-panel-item>\r\n        <ec-panel-item-left>\r\n          <ec-header title=\"收购升损申请\" icon=\"onetomany\" color-code=\"008\" />\r\n        </ec-panel-item-left>\r\n      </ec-panel-item>\r\n    </ec-container-header>\r\n    <ec-container-body>\r\n      <ec-panel>\r\n        <ec-panel-toolbar>\r\n          <ec-query-panel @query=\"handleQuery\" @reset=\"handleReset\">\r\n            <ec-query-item label=\"状态\">\r\n              <ec-select showSearch allowClear placeholder=\"请选择\" v-model=\"queryData.auditState\">\r\n                <a-select-option v-for=\"item in stateList\" :key=\"item.auditStateCode\">\r\n                  {{ item.auditStateName }}\r\n                </a-select-option>\r\n              </ec-select>\r\n            </ec-query-item>\r\n            <ec-query-item label=\"业务类型\">\r\n              <ec-select\r\n                showSearch\r\n                allowClear\r\n                placeholder=\"请选择\"\r\n                v-model=\"queryData.busiTypeCode\"\r\n              >\r\n                <a-select-option\r\n                  v-for=\"item in businessTypeList\"\r\n                  :key=\"item.busiTypeCode\"\r\n                  :value=\"item.busiTypeCode\"\r\n                >\r\n                  {{ item.busiTypeName }}\r\n                </a-select-option>\r\n              </ec-select>\r\n            </ec-query-item>\r\n            <ec-query-item label=\"烟叶类型\">\r\n              <ec-select\r\n                showSearch\r\n                allowClear\r\n                placeholder=\"请选择\"\r\n                v-model=\"queryData.leafTypeCode\"\r\n              >\r\n                <a-select-option v-for=\"leafTypeEk in leafTypeList\" :key=\"leafTypeEk.leafTypeCode\">\r\n                  {{ leafTypeEk.leafTypeName }}\r\n                </a-select-option>\r\n              </ec-select>\r\n            </ec-query-item>\r\n            <template #inner>\r\n              <ec-query-item label=\"单位\">\r\n                <a-input v-model=\"queryData.orgName\" placeholder=\"请输入单位\" />\r\n\r\n                <!-- <option-tree\r\n                  v-model=\"queryData.orgName\"\r\n                  useType=\"GROUPE_ORG\"\r\n                  :params=\"{ initBizCode, orgLevelEk, busiYear }\"\r\n                  :join=\"true\"\r\n                  @select=\"handlerSelect\"\r\n                  search\r\n                  allowClear\r\n                /> -->\r\n              </ec-query-item>\r\n              <ec-query-item label=\"单据日期范围\">\r\n                <!-- <a-input v-model=\"name\" /> -->\r\n                <a-range-picker v-model=\"billDates\">\r\n                  <template slot=\"renderExtraFooter\"> extra footer </template>\r\n                </a-range-picker>\r\n              </ec-query-item>\r\n              <ec-query-item label=\"调拨年度\">\r\n                <!-- <a-input v-model=\"name\" /> -->\r\n                <a-input-number\r\n                  v-model=\"queryData.busiYear\"\r\n                  :disabled=\"disabled\"\r\n                  placeholder=\"请输入调拨年度\"\r\n                />\r\n              </ec-query-item>\r\n            </template>\r\n          </ec-query-panel>\r\n          <ec-divider />\r\n        </ec-panel-toolbar>\r\n        <ec-panel-body>\r\n          <ec-v-layout>\r\n            <!--按钮 -->\r\n            <ec-v-item>\r\n              <ec-panel-item>\r\n                <ec-panel-item-left>\r\n                  <a-button type=\"primary\" @click=\"onEdit(b, prodYear)\">新增</a-button>\r\n                  <a-button @click=\"onDel\">删除</a-button>\r\n                  <a-button @click=\"onReported\">上报</a-button>\r\n                </ec-panel-item-left>\r\n                <ec-panel-item-right>\r\n                  <a-space :size=\"15\">\r\n                    <span>业务年度：{{ busiYear }}年</span>\r\n                    <span\r\n                      >重量单位：<ec-select\r\n                        showSearch\r\n                        allowClear\r\n                        placeholder=\"请选择\"\r\n                        v-model=\"weightUnit\"\r\n                        @select=\"handleUnitParse()\"\r\n                        style=\"width: 150px\"\r\n                      >\r\n                        <a-select-option\r\n                          v-for=\"weightUnit in weightUnitList\"\r\n                          :key=\"weightUnit.weightUnitCd\"\r\n                        >\r\n                          {{ weightUnit.weightUnitName }}\r\n                        </a-select-option>\r\n                      </ec-select></span\r\n                    >\r\n                  </a-space>\r\n                </ec-panel-item-right>\r\n              </ec-panel-item>\r\n            </ec-v-item>\r\n            <!-- 列表 -->\r\n            <ec-v-item>\r\n              <ec-table\r\n                ref=\"table\"\r\n                show-overflow\r\n                :loading=\"loading\"\r\n                :data=\"tableData\"\r\n                :pagination=\"pagination\"\r\n                @page-action=\"pageAction\"\r\n                @checkbox-all=\"selectAllEvent\"\r\n                @checkbox-change=\"selectRowChange\"\r\n                :checkbox-config=\"{ trigger: 'row', highlight: true, range: true }\"\r\n              >\r\n                <ec-table-col type=\"checkbox\" width=\"50\" align=\"center\"></ec-table-col>\r\n                <ec-table-col field=\"billDate\" title=\"单据日期\" />\r\n                <ec-table-col field=\"orgName\" title=\"单位\" align=\"left\" width=\"150\" />\r\n                <ec-table-col field=\"busiTypeName\" title=\"业务类型\" align=\"center\" />\r\n                <ec-table-col field=\"leafTypeName\" title=\"烟叶类型\" align=\"center\" />\r\n                <ec-table-col field=\"leafFormName\" title=\"烟叶形态\" align=\"center\" />\r\n                <ec-table-col field=\"confFlag\" title=\"罚没烟\" align=\"center\">\r\n                  <template #default=\"{ row }\">\r\n                    <div v-if=\"row.confFlag === '0'\">\r\n                      <span>非罚没烟</span>\r\n                    </div>\r\n                    <div v-else-if=\"row.confFlag === '1'\">\r\n                      <span>罚没烟</span>\r\n                    </div>\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"busiYear\" title=\"调拨年度\" align=\"center\" />\r\n                <ec-table-col field=\"prodYear\" title=\"生产年度\" align=\"center\" />\r\n                <ec-table-col field=\"totalWeight\" title=\"重量\" align=\"right\" />\r\n                <ec-table-col field=\"auditState\" title=\"状态\" align=\"center\">\r\n                  <template #default=\"{ row }\">\r\n                    <div v-if=\"row.auditState === '0'\">\r\n                      <span>未上报</span>\r\n                    </div>\r\n                    <div v-else-if=\"row.auditState === '1'\">\r\n                      <span>省公司待审核</span>\r\n                    </div>\r\n                    <div v-else-if=\"row.auditState === '2'\">\r\n                      <span>省公司退回</span>\r\n                    </div>\r\n                    <div v-else>\r\n                      <span>完成</span>\r\n                    </div>\r\n                  </template>\r\n                </ec-table-col>\r\n                <ec-table-col field=\"field\" title=\"操作\" align=\"center\">\r\n                  <template #default=\"{ row }\">\r\n                    <a-button\r\n                      type=\"link\"\r\n                      @click=\"onEdit(row)\"\r\n                      :disabled=\"row.auditState != '0' && row.auditState != '2' ? true : false\"\r\n                      >编辑</a-button\r\n                    >\r\n                  </template>\r\n                </ec-table-col>\r\n              </ec-table>\r\n            </ec-v-item>\r\n          </ec-v-layout>\r\n        </ec-panel-body>\r\n      </ec-panel>\r\n      <!-- 增加、编辑 -->\r\n      <edit-modal ref=\"editModalRef\" @finish=\"handleReset\" />\r\n    </ec-container-body>\r\n  </ec-container>\r\n</template>\r\n\r\n<script>\r\nimport EditModal from './EditModal.vue';\r\n// import { OptionTree } from '@euler-material/ecm-ui';\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  components: {\r\n    EditModal,\r\n    // OptionTree,\r\n  },\r\n  data() {\r\n    return {\r\n      // 列表数据\r\n      tableData: [],\r\n      // 查询\r\n      billDates: '',\r\n      queryData: {\r\n        busiYear: '',\r\n      },\r\n      // 烟叶类型\r\n      leafTypeList: [\r\n        { leafTypeCode: '', leafTypeName: '全部' },\r\n        { leafTypeCode: '10', leafTypeName: '烤烟' },\r\n        { leafTypeCode: '20', leafTypeName: '晾晒烟' },\r\n      ],\r\n      // 业务类型\r\n      businessTypeList: [\r\n        { busiTypeCode: 'YW9401', busiTypeName: '升溢' },\r\n        { busiTypeCode: 'YW9402', busiTypeName: '损耗' },\r\n      ],\r\n      // 状态\r\n      stateList: [\r\n        { auditStateCode: '', auditStateName: '全部' },\r\n        { auditStateCode: '0', auditStateName: '未上报' },\r\n        { auditStateCode: '1', auditStateName: '省公司待审核' },\r\n        { auditStateCode: '2', auditStateName: '省公司退回' },\r\n        { auditStateCode: '5', auditStateName: '完成' },\r\n      ],\r\n      // 计量单位\r\n      weightList: [\r\n        { name: '万担', id: '万担' },\r\n        { name: '担', id: '担' },\r\n        { name: '公斤', id: '公斤' },\r\n      ],\r\n      weightUnitList: [\r\n        { weightUnitCd: 500000, weightUnitName: '万担', isSelected: false },\r\n        { weightUnitCd: 50, weightUnitName: '担', isSelected: false },\r\n        { weightUnitCd: 1, weightUnitName: '公斤', isSelected: false },\r\n      ],\r\n      // 调拨年度\r\n      busiYear: '2022',\r\n      // 生产年度\r\n      prodYear: '',\r\n      // 用户信息\r\n      userInfo: {},\r\n      weightUnit: 50,\r\n      oldDataRow: [],\r\n      pagination: {\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n      // 选择的数组\r\n      selectedRows: [],\r\n      initBizCode: '',\r\n      orgLevelEk: '',\r\n    };\r\n  },\r\n  created() {\r\n    this.onQuery();\r\n    this.getUserInfoHandler();\r\n    this.handleReset();\r\n  },\r\n  methods: {\r\n    // 组织树\r\n    handlerSelect({ treeSelectedKeys, selectOption, joinSelectOption, treeData }) {\r\n      console.log(treeSelectedKeys, selectOption, joinSelectOption, treeData);\r\n    },\r\n    // 重置\r\n    handleReset() {\r\n      this.queryData = {};\r\n      this.billDates = '';\r\n      this.onQuery();\r\n    },\r\n    // 初始化页面数据\r\n    onQuery() {\r\n      this.$apis.bpm.lossReportApply.query({}).then((res) => {\r\n        this.tableData = res.rows;\r\n        this.pagination.total = res.rows.length;\r\n        this.busiYear = res.rows[0].busiYear;\r\n        this.prodYear = res.rows[0].prodYear;\r\n        // console.log(res);\r\n        this.oldDataRow = JSON.parse(JSON.stringify(res.rows));\r\n        this.handleUnitParse();\r\n      });\r\n    },\r\n    // 处理单位切换\r\n    handleUnitParse() {\r\n      const newTableData = [];\r\n      // console.log(`單位：${this.weightUnit}`);\r\n      const handleOlDataRow = JSON.parse(JSON.stringify(this.oldDataRow)) || [];\r\n\r\n      handleOlDataRow.forEach((item) => {\r\n        const obj = item;\r\n        obj.totalWeight = (obj.totalWeight / this.weightUnit).toFixed(2);\r\n        newTableData.push(obj);\r\n      });\r\n      console.log(newTableData);\r\n      this.tableData = newTableData;\r\n    },\r\n    // 查询\r\n    handleQuery() {\r\n      console.log(this.queryData);\r\n      const data = {\r\n        ...this.queryData,\r\n        billBeginDate: this.billDates[0],\r\n        billEndDate: this.billDates[1],\r\n      };\r\n      this.$apis.bpm.lossReportApply.query(data).then((res) => {\r\n        // console.log(res);\r\n        this.tableData = res.rows;\r\n        this.pagination.total = res.rows.length;\r\n        this.oldDataRow = JSON.parse(JSON.stringify(res.rows));\r\n        this.loading = false;\r\n        this.handleUnitParse();\r\n      });\r\n    },\r\n    // 新增/编辑\r\n    onEdit(row) {\r\n      this.$refs.editModalRef.show(_.cloneDeep(row));\r\n    },\r\n    // 删除\r\n    onDel() {\r\n      if (!this.selectedRows || this.selectedRows.length <= 0) {\r\n        this.$message.error('请选择一条数据再删除');\r\n        return;\r\n      }\r\n      this.$confirm({\r\n        title: '是否执行该操作?',\r\n        content: () => (\r\n          <div style=\"color:red;\">\r\n            是否确认删除选中的数据，确认请点击'确认'按钮，取消点击'取消'按钮。\r\n          </div>\r\n        ),\r\n        onOk: () => {\r\n          this.loading = true;\r\n          const lossReportQtyIds = [];\r\n          const auditStates = [];\r\n          for (let i = 0; i < this.selectedRows.length; i++) {\r\n            lossReportQtyIds.push(this.selectedRows[i].lossReportQtyId);\r\n            auditStates.push(this.selectedRows[i].auditState);\r\n          }\r\n          // for (let i = 0; i < auditStates.length; i++) {\r\n          //   if (auditStates.some((item) => item === '1' || '5')) {\r\n          //     this.$message.error('删除失败,仅未上报和退回状态可删除');\r\n          //   } else if (auditStates.every((item) => item === '0' || '2')) {\r\n          //     this.$apis.bpm.lossReportApply\r\n          //       .onDelete({ lossReportQtyIds })\r\n          //       .then(() => {\r\n          //         this.$message.success('删除成功');\r\n          //         this.loading = false;\r\n          //         this.onQuery();\r\n          //       })\r\n          //       .catch((error) => {\r\n          //         this.loading = false;\r\n          //         if (error) {\r\n          //           this.$message.error(error.message || '操作失败');\r\n          //         } else {\r\n          //           this.$message.error('操作失败');\r\n          //         }\r\n          //       });\r\n          //   }\r\n          // }\r\n          this.$apis.bpm.lossReportApply.onDelete({ lossReportQtyIds }).then((res) => {\r\n            // console.log(JSON.stringify(res));\r\n            if (res.result) {\r\n              this.loading = false;\r\n              this.onQuery();\r\n              this.$message.success('操作成功');\r\n            } else {\r\n              this.$message.error('操作失败,仅未上报和退回状态可删除');\r\n            }\r\n          });\r\n        },\r\n      });\r\n    },\r\n    // 上报\r\n    onReported() {\r\n      // console.log(\"上报\");\r\n      // this.$apis.bpm.lossReportApply.onReported({}).then(res=>{\r\n      //   console.log(res);\r\n      // })\r\n      if (!this.selectedRows || this.selectedRows.length <= 0) {\r\n        this.$message.error('请选择一条数据再上报');\r\n        return;\r\n      }\r\n      this.$confirm({\r\n        title: '是否执行该操作?',\r\n        content: () => (\r\n          <div style=\"color:red;\">\r\n            是否确认操作选中的数据，确认请点击'确认'按钮，取消点击'取消'按钮。\r\n          </div>\r\n        ),\r\n        onOk: () => {\r\n          this.loading = true;\r\n          const lossReportQtyIds = [];\r\n          const auditStates = [];\r\n          for (let i = 0; i < this.selectedRows.length; i++) {\r\n            lossReportQtyIds.push(this.selectedRows[i].lossReportQtyId);\r\n            auditStates.push(this.selectedRows[i].auditState);\r\n          }\r\n          const data = {\r\n            lossReportQtyIds,\r\n            orgCode: this.userInfo.orgCode,\r\n            busiYear: this.busiYear,\r\n          };\r\n          this.$apis.bpm.lossReportApply.onReported(data).then((res) => {\r\n            // console.log(JSON.stringify(res));\r\n            if (res.result) {\r\n              this.loading = false;\r\n              this.onQuery();\r\n              this.$message.success('操作成功');\r\n            } else {\r\n              this.$message.error('操作失败，仅未上报状态可操作');\r\n            }\r\n          });\r\n        },\r\n      });\r\n    },\r\n    // 选中所有列表\r\n    selectAllEvent({ records }) {\r\n      this.selectedRows = records;\r\n    },\r\n    // 选中列表\r\n    selectRowChange({ records }) {\r\n      this.selectedRows = records;\r\n    },\r\n    isSelectTableData(records) {\r\n      if (records?.length === 0 || !records) {\r\n        this.$message.error(`请选择一条数据再操作`);\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    // 获取当前登入用户信息\r\n    getUserInfoHandler() {\r\n      // console.log('00000000000');\r\n      // this.$apis.common.user.get({}).then((res) => {\r\n      //   // this.userInfo = res || {};\r\n      //   console.log('登录信息', res);\r\n      // });\r\n      // console.log('用户信息');\r\n      this.$apis.common.user.get({}).then((res) => {\r\n        // console.log('登录信息', res);\r\n        this.userInfo = res;\r\n        this.initBizCode = res.bizCode;\r\n        this.orgLevelEk = res.orgLevelEk;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=8a3f255a&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"sourceRoot":""}