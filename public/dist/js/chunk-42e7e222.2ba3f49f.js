(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42e7e222"],{"198e":function(e,t,a){"use strict";a("d021")},"480b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ec-container",{attrs:{height:"100%"}},[a("ec-container-header",[a("ec-panel-toolbar",[a("ec-panel-item-left",[a("ec-header",{attrs:{title:"交易衔接量审核",icon:"onetomany","color-code":"001"}})],1),a("ec-panel-item-right",[a("ec-query-item",{attrs:{label:"小数位数"}},[a("ec-select",{attrs:{showSearch:""},model:{value:e.point,callback:function(t){e.point=t},expression:"point"}},e._l(e.pointOptions,(function(t){return a("a-select-option",{key:t.id},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("a-divider",{attrs:{type:"vertical"}}),e._v(" 业务年度:"+e._s(e.bizYear)+"年 ")],1)],1)],1),a("ec-container-body",[a("ec-panel",{attrs:{auto:!1}},[a("ec-panel-toolbar",[a("ec-panel-item",[a("ec-query-panel",{attrs:{defaultFold:!0},on:{query:e.handleQuery,reset:e.queryReset},scopedSlots:e._u([{key:"inner",fn:function(){return[a("ec-query-item",{attrs:{label:"供方单位"}},[a("SelectPicker",{attrs:{title:"选择单位",lazy:!1,search:!1,fetchData:e.getfetchData},on:{ok:function(t){return e.handlepickerValue(t,"supplyOrgCode")}},model:{value:e.queryItems.supplyOrgCode,callback:function(t){e.$set(e.queryItems,"supplyOrgCode",t)},expression:"queryItems.supplyOrgCode"}})],1),a("ec-query-item",{attrs:{label:"供方单位类型"}},[a("ec-select",{attrs:{showSearch:"",allowClear:"",mode:"multiple",placeholder:"请选择"},model:{value:e.queryItems.supplyOrgTypes,callback:function(t){e.$set(e.queryItems,"supplyOrgTypes",t)},expression:"queryItems.supplyOrgTypes"}},e._l(e.orgTypeList,(function(t){return a("a-select-option",{key:t.orgType},[e._v(" "+e._s(t.orgTypeName)+" ")])})),1)],1),a("ec-query-item",{attrs:{label:"需方单位"}},[a("SelectPicker",{attrs:{title:"选择单位",lazy:!1,search:!1,fetchData:e.getfetchData},on:{ok:function(t){return e.handlepickerValue(t,"supplyOrgCode")}},model:{value:e.queryItems.demandOrgCode,callback:function(t){e.$set(e.queryItems,"demandOrgCode",t)},expression:"queryItems.demandOrgCode"}})],1),a("ec-query-item",{attrs:{label:"需方单位类型"}},[a("ec-select",{attrs:{showSearch:"",allowClear:"",mode:"multiple",placeholder:"请选择"},model:{value:e.queryItems.demandOrgTypes,callback:function(t){e.$set(e.queryItems,"demandOrgTypes",t)},expression:"queryItems.demandOrgTypes"}},e._l(e.orgTypeList,(function(t){return a("a-select-option",{key:t.orgType},[e._v(" "+e._s(t.orgTypeName)+" ")])})),1)],1),a("ec-query-item",{attrs:{label:"排序方式"}},[a("ec-select",{attrs:{showSearch:"",allowClear:"",placeholder:"请选择"},model:{value:e.queryItems.sortType,callback:function(t){e.$set(e.queryItems,"sortType",t)},expression:"queryItems.sortType"}},e._l(e.billSortType,(function(t){return a("a-select-option",{key:t.id},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("ec-query-item",{attrs:{label:"是否为结转业务"}},[a("ec-select",{attrs:{showSearch:"",allowClear:"",placeholder:"请选择"},model:{value:e.queryItems.isCheckBusi,callback:function(t){e.$set(e.queryItems,"isCheckBusi",t)},expression:"queryItems.isCheckBusi"}},e._l(e.yesOrNoList,(function(t){return a("a-select-option",{key:t.id},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("ec-query-item",{attrs:{label:"申请日期"}},[a("a-range-picker",{on:{change:e.applyTimeChange},model:{value:e.applyDate,callback:function(t){e.applyDate=t},expression:"applyDate"}})],1),a("ec-query-item",{attrs:{label:"单据号"}},[a("a-input",{model:{value:e.queryItems.billNo,callback:function(t){e.$set(e.queryItems,"billNo",t)},expression:"queryItems.billNo"}})],1)]},proxy:!0}])},[a("ec-query-item",{attrs:{label:"办理状态"}},[a("ec-select",{attrs:{showSearch:"",allowClear:"",placeholder:"请选择"},on:{change:e.finishStateChange},model:{value:e.queryItems.auditState,callback:function(t){e.$set(e.queryItems,"auditState",t)},expression:"queryItems.auditState"}},e._l(e.billDealTypeList,(function(t){return a("a-select-option",{key:t.id},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("ec-query-item",{attrs:{label:"业务类型"}},[a("a-cascader",{attrs:{options:e.apprTypeCodeList,placeholder:"请选择"},model:{value:e.queryItems.apprTypeCode,callback:function(t){e.$set(e.queryItems,"apprTypeCode",t)},expression:"queryItems.apprTypeCode"}})],1),a("ec-query-item",{attrs:{label:"操作类型"}},[a("ec-select",{attrs:{showSearch:"",allowClear:"",placeholder:"请选择"},model:{value:e.queryItems.operateType,callback:function(t){e.$set(e.queryItems,"operateType",t)},expression:"queryItems.operateType"}},e._l(e.operateTypeListForDaily,(function(t){return a("a-select-option",{key:t.id},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1)],1),a("ec-divider")],1),a("ec-panel-item",[a("ec-panel-item-left",["1"!==e.orgLevelEk||"3"!==e.auditLevel&&"2"!==e.auditLevel?e._e():a("a-button",{attrs:{type:"primary",loading:e.auditloading},on:{click:e.handlerAudit}},[e._v("终审")]),"2"===e.orgLevelEk||"1"===e.auditLevel?a("a-button",{attrs:{loading:e.sendloading},on:{click:e.handlerSend}},[e._v("发送")]):e._e()],1)],1),a("ec-panel-body",[a("ec-table",{ref:"table",attrs:{border:"","header-align":"center",align:"center",auto:!1,"show-overflow":"",height:"100%",loading:e.loading,data:e.tableData,pagination:e.pagination},on:{"page-action":e.handlePagination,"checkbox-all":e.selectRowChange,"checkbox-change":e.selectRowChange}},[a("ec-table-col",{attrs:{width:"80",type:"checkbox",align:"center"}}),a("ec-table-col",{attrs:{title:"序号",width:"80",type:"seq",align:"center"}}),a("ec-table-col",{attrs:{title:"办理状态",field:"billStates"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.getbillDealType(a.billStates))+" ")]}}])}),a("ec-table-col",{attrs:{title:"单据号",field:"billNo"}}),a("ec-table-col",{attrs:{title:"供方单位",field:"supplyOrgName"}}),a("ec-table-col",{attrs:{title:"需方单位",field:"demandOrgName"}}),a("ec-table-col",{attrs:{title:"业务类型",field:"apprTypeCode"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.getapprTypeCode(a.apprTypeCode))+" ")]}}])}),a("ec-table-col",{attrs:{title:"操作类型",field:"operateType"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.getoperateType(a.operateType))+" ")]}}])}),a("ec-table-col",{attrs:{title:"申请日期",field:"applyDate"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.moment(new Date(a.applyDate)).format("YYYY-MM-DD"))+" ")]}}])}),a("ec-table-col",{attrs:{title:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("a-button",{attrs:{type:"link"},on:{click:function(t){return e.handlerOpenDetails(r)}}},[e._v("详细")])]}}])})],1)],1)],1),a("AddModel",{ref:"addModalRef",attrs:{operateTypeListForDaily:e.operateTypeListForDaily,newOrOldLeafList:e.newOrOldLeafList,orgTreeData:e.orgTreeData,orgLevelEk:e.orgLevelEk,auditLevel:e.auditLevel,point:e.point},on:{finish:e.handleQuery}}),a("AwaitModel",{ref:"awaitmodelRef"})],1)],1)},i=[],n=a("2909"),l=a("c7eb"),o=a("5530"),s=a("1da1"),c=(a("6198"),a("6fc0")),u=a.n(c),d=(a("d81d"),a("d3b7"),a("7db0"),a("4de4"),a("4fadc"),a("6ea6")),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ec-drawer",{attrs:{title:"详细",visible:e.visible,size:"large"},on:{close:e.onclose}},[a("ec-container",{attrs:{height:"auto",fixed:"top bottom","color-code":"007"}},[a("ec-container-body",[a("div",{staticClass:"header-title"},[a("div",[a("span",{staticClass:"middle-title"},[e._v("主信息")])]),a("div",[a("span",{staticClass:"middle-title"},[e._v("业务年度："+e._s(e.busiYear)+" 计量单位："+e._s(e.weightunit)+" 是否为转结业务：否")])])]),a("ec-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[a("a-row",{attrs:{type:"flex"}},[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"供方单位"}},[a("SelectPicker",{attrs:{title:"选择单位",lazy:!1,search:!1,fetchData:e.getfetchData},model:{value:e.ruleForm.supplyOrgCode,callback:function(t){e.$set(e.ruleForm,"supplyOrgCode",t)},expression:"ruleForm.supplyOrgCode"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"需方单位"}},[a("SelectPicker",{attrs:{title:"选择单位",lazy:!1,search:!1,fetchData:e.getfetchData},model:{value:e.ruleForm.demandOrgCode,callback:function(t){e.$set(e.ruleForm,"demandOrgCode",t)},expression:"ruleForm.demandOrgCode"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"申请日期"}},[a("a-date-picker",{attrs:{"show-time":"",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD"},model:{value:e.ruleForm.applyDate,callback:function(t){e.$set(e.ruleForm,"applyDate",t)},expression:"ruleForm.applyDate"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"操作类型"}},[a("ec-select",{attrs:{showSearch:"",allowClear:"",placeholder:"请选择"},model:{value:e.ruleForm.operateType,callback:function(t){e.$set(e.ruleForm,"operateType",t)},expression:"ruleForm.operateType"}},e._l(e.operateTypeListForDaily,(function(t){return a("a-select-option",{key:t.id},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"业务类型"}},[a("a-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.apprTypeName,callback:function(t){e.$set(e.ruleForm,"apprTypeName",t)},expression:"ruleForm.apprTypeName"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"陈烟/原烟"}},[a("ec-select",{attrs:{showSearch:"",allowClear:"",placeholder:"请选择"},model:{value:e.ruleForm.operateType,callback:function(t){e.$set(e.ruleForm,"operateType",t)},expression:"ruleForm.operateType"}},e._l(e.newOrOldLeafList,(function(t){return a("a-select-option",{key:t.id},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1)],1)],1),a("a-divider"),a("a-row",{staticStyle:{margin:"0 0 6px 0"}},[a("a-col",{attrs:{span:12}},[a("span",{staticClass:"middle-title"},[e._v("明细信息")])]),a("a-col",{attrs:{span:12}},[a("span",{staticClass:"middle-title right"},[e._v("申请原因")])])],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("vxe-table",{ref:"xTable",staticClass:"editable-footer",attrs:{border:"","show-footer":"","show-overflow":"","header-align":"center",align:"center","highlight-hover-row":"",height:"220","footer-method":e.footerMethod,data:e.pcTAsDailyDealDetlDTOS}},[a("vxe-column",{attrs:{width:"60",type:"seq",title:"序号",align:"center"}}),a("vxe-column",{attrs:{title:"烟叶类型",field:"leafTypeName"}}),a("vxe-column",{attrs:{title:"烟叶形态",field:"leafFormName"}}),a("vxe-column",{attrs:{title:"衔接量",field:"apprWeight"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.getPointapprWeight(a.apprWeight,e.point)))]}}])})],1)],1),a("a-col",{attrs:{span:11,push:1}},[a("a-textarea",{staticStyle:{"border-radius":"16px"},attrs:{placeholder:" ",rows:8},model:{value:e.applyReasion,callback:function(t){e.applyReasion=t},expression:"applyReasion"}})],1)],1),a("a-row",{staticStyle:{margin:"0 0 6px 0"}},[a("a-col",{attrs:{span:12}},[a("span",{staticClass:"middle-title"},[e._v("审核记录")])])],1),a("vxe-table",{ref:"xTable",staticClass:"editable-footer",attrs:{border:"",height:"240","header-align":"center",align:"center","show-overflow":"","highlight-hover-row":"",data:e.pcTAsDailyDealAuditOpinionDTOS}},[a("vxe-column",{attrs:{title:"序号",width:"60",type:"seq",align:"center"}}),a("vxe-column",{attrs:{title:"操作人",field:"auditorName"}}),a("vxe-column",{attrs:{title:"意见",field:"auditOpinion"}}),a("vxe-column",{attrs:{title:"操作日期",field:"auditTime"}}),a("vxe-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("a-button",{attrs:{type:"link"},on:{click:function(t){return e.handlerOpenAuditDetails(r)}}},[e._v("详细")])]}}])})],1),a("a-row",{staticStyle:{margin:"0 0 6px 0"}},[a("a-col",{attrs:{span:12}},[a("span",{staticClass:"middle-title"},[e._v("申请凭据附件")])])],1),a("a-space",[e._v(" 附件: "),e._l(e.files,(function(t){return a("a-button",{key:t.asAttachFileId,attrs:{type:"link"},on:{click:function(a){return e.handleFileDetails(t)}}},[e._v(e._s(t.fileName))])}))],2),a("AuditDetails",{ref:"auditdetailsRef"}),a("TogetherDo",{ref:"togetherdoRef"}),a("IdeaModel",{ref:"ideaRef",attrs:{btnName:e.btnName,orgLevelEk:e.orgLevelEk},on:{select:e.ideaEmits}}),a("WarehouseStorage",{ref:"warehousestorageRef",attrs:{bizYear:e.busiYear,weightunit:e.weightunit}})],1),a("ec-container-footer",{attrs:{fixed:""}},[a("a-space",[a("a-button",{on:{click:e.handlerTogetherDO}},[e._v("协办")]),"1"===e.orgLevelEk&&"1"===e.auditLevel?a("a-button",{attrs:{type:"primary"},on:{click:e.handlerOpenwarehouseStorage}},[e._v("库存量")]):e._e(),"1"===e.orgLevelEk&&e.lastAuditIn.includes(e.auditLevel)?a("a-button",{attrs:{type:"primary"},on:{click:e.handlerAudit}},[e._v("终审")]):e._e(),"1"===e.orgLevelEk&&"1"===e.auditLevel&&"7"!==e.billStates||e.okandbackbtnisIN.includes(e.auditLevel)||e.okandbackbtnisINbillStates.includes(e.billStates)?a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.handlerUpdateStatus("同意")}}},[e._v("同意")]):e._e(),"1"===e.orgLevelEk&&"1"===e.auditLevel&&"7"!==e.billStates||e.okandbackbtnisIN.includes(e.auditLevel)||e.okandbackbtnisINbillStates.includes(e.billStates)?a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.handlerUpdateStatus("退回")}}},[e._v("退回")]):e._e(),"1"!==e.orgLevelEk&&"0"===e.billStates?a("a-button",{on:{click:e.handlerDelete}},[e._v("删除")]):e._e(),"1"===e.orgLevelEk&&"1"===e.auditLevel&&"7"===e.billStates||"1"!==e.orgLevelEk&&"11"===e.billStates?a("a-button",{on:{click:e.handlerAband}},[e._v("废止")]):e._e(),a("a-button",{on:{click:e.onclose}},[e._v("关闭")])],1)],1)],1)],1)},f=[],h=(a("a9e3"),a("159b"),a("caad"),a("b680"),a("c1df")),y=a.n(h),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"新增协办",width:"40%",footer:null,visible:e.visible}},[a("ec-container",{attrs:{height:"auto",fixed:"top bottom","color-code":"007"}},[a("ec-container-body",[a("ec-panel",{attrs:{auto:!1}},[a("ec-panel-item",[a("ec-panel-item-left",[e._v("协办要求 ")])],1),a("ec-panel-item",[[a("a-textarea",{attrs:{rows:20},model:{value:e.applyReasion,callback:function(t){e.applyReasion=t},expression:"applyReasion"}})]],2)],1)],1),a("ec-container-footer",{attrs:{fixed:""}},[a("a-space",[a("a-button",{attrs:{type:"primary"},on:{click:e.handlerOK}},[e._v("保存")]),a("a-button",{on:{click:e.onclose}},[e._v("关闭")])],1)],1)],1)],1)},b=[],v={name:"AuditTogetherDoModel",data:function(){return{records:[],applyReasion:"你好,请按以下要求,提供相关材料:1.操作过程的视频2.现场库存的照片,至少3张",busiYear:null,bizCode:null,visible:!1}},computed:{_apis:function(){return this.$apis.apm.dailyApply}},methods:{show:function(){this.visible=!0},queryList:function(){},handlerOK:function(){this.records.length?(this.$emit("select",this.records[0]),this.onclose()):this.$message.error("请先选择数据！")},handleResetTable:function(){var e=this;return Object(s["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$refs.xTable,t.next=3,a.revertData();case 3:case"end":return t.stop()}}),t)})))()},selectcolumn:function(e){var t=e.records;this.records=t},onclose:function(){this.visible=!1}}},g=v,k=(a("fb8f"),a("2877")),T=Object(k["a"])(g,m,b,!1,null,"de140e56",null),S=T.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"意见理由弹出窗",width:"50%",footer:null,visible:e.visible}},[a("ec-container",{attrs:{height:"auto",fixed:"top bottom","color-code":"007"}},[a("ec-container-body",[a("ec-panel",{attrs:{auto:!1}},[a("ec-panel-item",[a("ec-panel-item-left",[e._v(e._s(e.btnName)+"理由 ")])],1),a("ec-panel-item",[[a("a-textarea",{attrs:{rows:20},model:{value:e.applyReasion,callback:function(t){e.applyReasion=t},expression:"applyReasion"}})]],2)],1),a("SelectModule",{ref:"selectmoduleRef"})],1),a("ec-container-footer",{attrs:{fixed:""}},[a("a-space",["2"===e.orgLevelEk?a("a-button",{attrs:{type:"primary"},on:{click:e.selectModule}},[e._v("选取模板")]):e._e(),"2"===e.orgLevelEk?a("a-button",{attrs:{type:"primary"},on:{click:e.saveCurentModule}},[e._v("保存模板")]):e._e(),a("a-button",{attrs:{type:"primary"},on:{click:e.handlerOK}},[e._v(e._s(e.btnName))]),a("a-button",{on:{click:e.onclose}},[e._v("关闭")])],1)],1)],1)],1)},D=[],O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{staticClass:"ec-draw-form",attrs:{title:"模板",width:"50%",footer:null,visible:e.visible}},[a("ec-container",{attrs:{height:"auto",fixed:"top bottom","color-code":"007"}},[a("ec-container-body",[a("ec-panel",{attrs:{auto:!1}},[a("ec-panel-item")],1),a("vxe-table",{ref:"xTable",attrs:{border:"","show-overflow":"","highlight-hover-row":"",height:"300","header-align":"center",align:"center",data:e.tableData},on:{"checkbox-change":e.selectcolumn}},[a("vxe-column",{attrs:{type:"checkbox",width:"60",align:"center"}}),a("vxe-column",{attrs:{width:"60",type:"seq",title:"序号",align:"center"}}),a("vxe-column",{attrs:{title:"模板",field:"opinionTemplate"}}),a("vxe-column",{attrs:{title:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.handlerdelete(r)}}},[e._v("删除")])]}}])})],1)],1),a("ec-container-footer",{attrs:{fixed:""}},[a("a-space",[a("a-button",{attrs:{type:"primary"},on:{click:e.handlerOK}},[e._v("确定")]),a("a-button",{on:{click:e.onclose}},[e._v("关闭")])],1)],1)],1)],1)},_=[],x={name:"BaseModel",data:function(){return{records:[],tableData:[],queryItems:{},baseCellName:"",orgTypeEk:"",busiYear:null,bizCode:null,visible:!1}},computed:{_apis:function(){return this.$apis.apm.dailyApply}},methods:{show:function(){this.visible=!0},queryList:function(){},handlerdelete:function(){var e={};this._apis.deleteModule(e).then((function(){}))},handlerOK:function(){this.records.length?(console.log(this.records),this.onclose()):this.$message.error("请先选择模板数据！")},selectcolumn:function(e){var t=e.records;this.records=t},onclose:function(){this.visible=!1}}},L=x,A=(a("198e"),Object(k["a"])(L,O,_,!1,null,"0c34db46",null)),C=A.exports,I={name:"AuditIdeaModel",components:{SelectModule:C},props:{orgLevelEk:{type:String,default:""},btnName:{type:String,default:""}},data:function(){return{applyReasion:"",visible:!1}},methods:{show:function(){this.visible=!0},handlerOK:function(){var e=this.applyReasion,t=this.btnName;e?(this.$emit("select",{applyReasion:e,btnName:t}),this.onclose()):this.$message.error("意见不能为空")},selectModule:function(){this.$refs.selectmoduleRef.show()},saveCurentModule:function(){var e=this.applyReasion,t=this.btnName;if(e){var a={auditOpinionStr:e,type:"同意"===t?1:2};this._apis.saveModule(a).then((function(){}))}else this.$message.error("".concat(t,"原因不能为空"))},onclose:function(){this.visible=!1}}},$=I,q=(a("949b"),Object(k["a"])($,w,D,!1,null,"6eb82846",null)),E=q.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{staticClass:"ec-draw-form",attrs:{title:"库存详细信息",width:"50%",footer:null,visible:e.visible}},[a("ec-container",{attrs:{height:"auto",fixed:"top bottom","color-code":"007"}},[a("ec-container-body",[a("ec-panel",{attrs:{auto:!1}},[a("ec-panel-item",[a("ec-panel-item-right",[a("div",{staticClass:"header-right"},[a("p",[a("span",[e._v("过去三年薄片产出率:"+e._s("10%"))]),a("span",[e._v("调拨年度:"+e._s(e.bizYear))]),a("span",[e._v("计量单位"+e._s("50"===e.weightunit?"担":"万担"))])])])])],1)],1),a("vxe-table",{ref:"xTable",attrs:{border:"","show-overflow":"","highlight-hover-row":"",height:"300","header-align":"center",align:"center",data:e.tableData}},[a("vxe-column",{attrs:{width:"60",type:"seq",title:"序号",align:"center"}}),a("vxe-column",{attrs:{title:"烟叶类型",field:"baseCellName"}}),a("vxe-column",{attrs:{title:"烟叶形态",field:"leafTypeName"}}),a("vxe-column",{attrs:{title:"调出计划",field:"limitWeight"}}),a("vxe-column",{attrs:{title:"调入计划",field:"limitWeight"}}),a("vxe-colgroup",{attrs:{field:"b",title:"库存量"}},[a("vxe-column",{attrs:{title:"调拨系统",field:"limitWeight"}}),a("vxe-column",{attrs:{title:"烟叶平台",field:"limitWeight"}})],1),a("vxe-column",{attrs:{title:"本次申请量",field:"limitWeight"}}),a("vxe-colgroup",{attrs:{field:"b",title:"剩余量"}},[a("vxe-column",{attrs:{title:"调出计划",field:"limitWeight"}}),a("vxe-column",{attrs:{title:"调入计划",field:"limitWeight"}})],1)],1)],1),a("ec-container-footer",{attrs:{fixed:""}},[a("a-space",[a("a-button",{on:{click:e.onclose}},[e._v("关闭")])],1)],1)],1)],1)},j=[],Y={name:"AuditWarehouseStorageModel",props:{weightunit:{type:String,default:"50"},bizYear:{type:Number,default:2022}},data:function(){return{records:[],tableData:[{},{}],busiYear:null,bizCode:null,visible:!1}},methods:{show:function(){this.visible=!0},queryList:function(){},onclose:function(){this.visible=!1}}},F=Y,R=(a("b739"),Object(k["a"])(F,N,j,!1,null,"713cd92a",null)),M=R.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"审核意见详细信息窗口",width:"48%",footer:null,visible:e.visible}},[a("ec-container",{attrs:{height:"auto",fixed:"top bottom","color-code":"007"}},[a("ec-container-body",[a("ec-panel",{attrs:{auto:!1}},[a("ec-panel-item",[a("ec-form",{ref:"modelAddForm",attrs:{model:e.ruleForm,rules:e.rules}},[a("a-row",{attrs:{type:"flex",gutter:12}},[a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"操作人",prop:"auditorName"}},[a("a-input",{attrs:{type:"text"},model:{value:e.ruleForm.auditorName,callback:function(t){e.$set(e.ruleForm,"auditorName",t)},expression:"ruleForm.auditorName"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"操作日期",prop:"auditTime"}},[a("a-input",{attrs:{type:"text"},model:{value:e.ruleForm.auditTime,callback:function(t){e.$set(e.ruleForm,"auditTime",t)},expression:"ruleForm.auditTime"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"意见",prop:"auditOpinion"}},[a("a-textarea",{attrs:{rows:10},model:{value:e.ruleForm.auditOpinion,callback:function(t){e.$set(e.ruleForm,"auditOpinion",t)},expression:"ruleForm.auditOpinion"}})],1)],1)],1)],1)],1)],1)],1),a("ec-container-footer",{attrs:{fixed:""}},[a("a-space",[a("a-button",{on:{click:e.onclose}},[e._v("关闭")])],1)],1)],1)],1)},z=[],W={name:"AuditIdeaModel",data:function(){return{visible:!1,ruleForm:{},rules:{}}},methods:{show:function(e){Object.assign(this.ruleForm,e),this.visible=!0},onclose:function(){this.visible=!1}}},B=W,Q=(a("b253"),Object(k["a"])(B,P,z,!1,null,"16b89e5d",null)),U=Q.exports,K=a("fa7d"),H={name:"AuditAddModel",components:{SelectPicker:u.a,TogetherDo:S,WarehouseStorage:M,IdeaModel:E,AuditDetails:U},props:{point:{type:Number,default:2},orgLevelEk:{type:String,default:""},auditLevel:{type:String,default:""},operateTypeListForDaily:{type:Array,default:function(){return[]}},newOrOldLeafList:{type:Array,default:function(){return[]}},orgTreeData:{type:Array,default:function(){return[]}}},data:function(){return{okandbackbtnisIN:["2","3","4"],okandbackbtnisINbillStates:["2","1"],lastAuditIn:["2","3"],billStates:null,busiYear:null,btnName:null,asDailyDealMasId:null,weightunit:null,applyReasion:null,weightUnitName:"50",files:[],pcTAsDailyDealDetlDTOS:[],pcTAsDailyDealAuditOpinionDTOS:[],ruleForm:{},rules:{},visible:!1}},computed:{_apis:function(){return this.$apis.apm.dailyAudit}},methods:{moment:y.a,show:function(e){this.files=e.files,this.billStates=e.billStates,this.asDailyDealMasId=e.asDailyDealMasId,this.busiYear=e.busiYear,this.weightunit=e.weightunit,this.applyReasion=e.applyReasion,this.ruleForm.applyDate=y()(new Date(e.applyDate)),this.ruleForm.demandOrgCode=e.demandOrgCode,this.ruleForm.supplyOrgCode=e.supplyOrgCode,this.ruleForm.operateType=e.operateType,this.ruleForm.newOrOldLeaf=e.newOrOldLeaf,this.ruleForm.apprTypeName=e.apprTypeName,this.pcTAsDailyDealDetlDTOS=e.pcTAsDailyDealDetlDTOS,this.pcTAsDailyDealAuditOpinionDTOS=e.pcTAsDailyDealAuditOpinionDTOS,this.visible=!0},handlerTogetherDO:function(){this.$refs.togetherdoRef.show()},handlerOpenwarehouseStorage:function(){this.$refs.warehousestorageRef.show()},handlerUpdateStatus:function(e){"1"===this.auditLevel||"退回"===e&&"1"!==this.orgLevelEk?this.$refs.ideaRef.show():this.handlerSubmit(e,e)},handlerDelete:function(){this.handlerSubmit("删除","删除")},handlerSubmit:function(e,t){var a=this,r=this.$createElement;if(e)if(e.length>300)this.$message.error("输入内容不能超过三百个字符");else{var i={title:"操作提示?",content:function(){return r("div",{style:"color:red;"},["是否",t,"选中记录？，确认请点击'确认'按钮，取消点击'取消'按钮"])},onOk:function(){var r={busiYear:a.busiYear,auditOpinion:e,asDailyDealMasId:a.asDailyDealMasId};$ec.showLoading();var i="退回"===t?"updateStatusExit":"updateStatus";a._apis[i](r).then((function(e){var r=e.result;r?(a.$message.success("".concat(t,"操作成功")),a.onclose(),a.$emit("finish")):a.$message.error("".concat(t,"操作失败"))})).finally((function(){$ec.hideLoading()}))}};this.$confirm(i)}else this.$message.error("".concat(t,"原因不能为空！"))},ideaEmits:function(e){var t=e.applyReasion,a=e.btnName;this.handlerSubmit(t,a)},handlerAudit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"终审",a=this.$createElement;this.$confirm({title:"操作提示?",content:function(){return a("div",{style:"color:red;"},["是否确认终审？，确认请点击'确认'按钮，取消点击'取消'按钮"])},onOk:function(){var a={busiYear:e.busiYear,asDailyDealMasIds:[e.asDailyDealMasId]};e._apis.lastAudit(a).then((function(a){var r=a.result;r?(e.$message.success("".concat(t,"操作成功")),e.onclose(),e.$emit("finish")):e.$message.error("".concat(t,"操作失败"))})).finally((function(){}))}})},handlerAband:function(){var e=this,t=this.$createElement,a="废止",r={title:"操作提示?",content:function(){return t("div",{style:"color:red;"},["是否",a,"选中记录？，确认请点击'确认'按钮，取消点击'取消'按钮"])},onOk:function(){var t={busiYear:e.busiYear,asDailyDealMasId:e.asDailyDealMasId};$ec.showLoading();var r="Aband";e._apis[r](t).then((function(t){var r=t.result;r?(e.$message.success("".concat(a,"操作成功")),e.onclose(),e.$emit("finish")):e.$message.error("".concat(a,"操作失败"))})).finally((function(){$ec.hideLoading()}))}};this.$confirm(r)},handlerOpenAuditDetails:function(e){this.$refs.auditdetailsRef.show(e)},handleFileDetails:function(e){var t=this;return Object(s["a"])(Object(l["a"])().mark((function a(){var r,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.asAttachFileId,a.prev=1,a.next=4,t._apis.download({asAttachFileId:r});case 4:i=a.sent,Object(K["a"])(i.url,i.fileName),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})))()},sumNum:function(e,t){var a=0;return e.forEach((function(e){a+=Number(e[t])})),a},footerMethod:function(e){var t=this,a=e.columns,r=e.data;return[a.map((function(e,a){return 2===a?"合计":["finalWeight","supplyWeight","demandWeight"].includes(e.property)?t.sumNum(r,e.property):null}))]},handlerWeightcalculate:function(e,t){return e/t},getfetchData:function(){var e=this;return new Promise((function(t){var a=Object(d["cloneDeep"])(e.orgTreeData);t(a)}))},getPointapprWeight:function(e,t){return Number(e).toFixed(t)},onclose:function(){this.visible=!1}}},J=H,G=(a("8ff6"),Object(k["a"])(J,p,f,!1,null,"7995723b",null)),V=G.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"设置待审人员",width:"40%",footer:null,visible:e.visible}},[a("ec-container",{attrs:{height:"auto",fixed:"top bottom","color-code":"007"}},[a("ec-container-body",[a("ec-panel",{attrs:{auto:!1}},[a("ec-panel-item",[a("ec-panel-item-left",[e._v("已经设置待审人员:'***' ")])],1)],1),a("vxe-table",{ref:"xTable",attrs:{"show-overflow":"",height:"300","header-align":"center",align:"center","keep-source":"",data:e.tableData,"checkbox-config":{showHeader:!1}},on:{"checkbox-change":e.selectcolumn}},[a("vxe-column",{attrs:{type:"checkbox",width:"60",align:"center"}}),a("vxe-column",{attrs:{width:"60",type:"seq",title:"序号",align:"center"}}),a("vxe-column",{attrs:{title:"省公司",field:"baseCellName"}}),a("vxe-column",{attrs:{title:"市公司",field:"leafTypeName"}})],1)],1),a("ec-container-footer",{attrs:{fixed:""}},[a("a-space",[a("a-button",{attrs:{type:"primary"},on:{click:e.handlerOK}},[e._v("确定")]),a("a-button",{on:{click:e.handleResetTable}},[e._v("重置")]),a("a-button",{on:{click:e.onclose}},[e._v("关闭")])],1)],1)],1)],1)},Z=[],ee={name:"AuditAwaitModel",data:function(){return{records:[],tableData:[{},{}],busiYear:null,bizCode:null,visible:!1}},computed:{_apis:function(){return this.$apis.apm.dailyApply}},methods:{show:function(){this.visible=!0},queryList:function(){},handlerOK:function(){this.records.length?(this.$emit("select",this.records[0]),this.onclose()):this.$message.error("请先选择数据！")},handleResetTable:function(){var e=this;return Object(s["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$refs.xTable,t.next=3,a.revertData();case 3:case"end":return t.stop()}}),t)})))()},selectcolumn:function(e){var t=e.records;this.records=t},onclose:function(){this.tableData=[],this.visible=!1}}},te=ee,ae=(a("5507"),Object(k["a"])(te,X,Z,!1,null,"1421bd7e",null)),re=ae.exports,ie={name:"dailyQuery",components:{AddModel:V,AwaitModel:re,SelectPicker:u.a},data:function(){return{auditLevel:null,stopParam:null,applyDate:null,weightunit:"50",point:2,loading:!0,auditloading:!1,sendloading:!1,tableData:[],records:[],queryItems:{pageNumber:1,pageSize:10},pagination:{pageNumber:1,pageSize:10,total:0},operateTypeList:[],weightUnitList:[],leafTypeCodeList:[],leafFormCodeList:[],transStatesList:[],pointOptions:[{id:2,label:"2位"},{id:4,label:"4位"}],billDealTypeList:[],allbillDealTypeList:[{id:"0",label:"删除申请"},{id:"1",label:"确认申请"},{id:"2",label:"经办人初审"},{id:"3",label:"处长审核"},{id:"4",label:"副总经理审核"},{id:"5",label:"总经理审核"},{id:"6",label:"经办人发送"},{id:"7",label:"省公司发送申请"}],finishStateListOptions:[{id:"",label:"全部",usedState:"1"},{id:"0",label:"进行中",usedState:"1"},{id:"1",label:"完成",usedState:"0"},{id:"2",label:"废止",usedState:"0"}],billSortType:[{id:"1",label:"申请日期",usedState:"1"},{id:"2",label:"业务类型",usedState:"0"},{id:"3",label:"需方单位",usedState:"0"},{id:"4",label:"供方单位",usedState:"0"},{id:"5",label:"处理类型",usedState:"0"},{id:"6",label:"单据号",usedState:"0"}],transStatesEnumList:[{id:"0",label:"未发送",auditState:"0"},{id:"1",label:"已发送",auditState:"1"}],operateTypeListForDaily:[{id:"1",label:"增量",usedState:"1"},{id:"2",label:"减量",usedState:"0"},{id:"3",label:"解除",usedState:"0"}],apprTypeCodeListed:[],apprTypeCodeList:[],newOrOldLeafList:[{id:"1",label:"新烟",sendState:"0"},{id:"2",label:"陈烟",sendState:"1"}],orgCidSearchRangeList:[{id:"BJ",label:"本级",isSelected:!0},{id:"BJJXJ",label:"本级及下级"}],yesOrNoList:[{id:"1",label:"是"},{id:"0",label:"否"}],billStatesList:[],orgTreeData:[],orgTypeList:[{orgType:"TOBACCO",orgTypeName:"商业"},{orgType:"INDUSTRY",orgTypeName:"工业"},{orgType:"REDRIED",orgTypeName:"复烤企业"},{orgType:"PIECE",orgTypeName:"薄片加工企业"},{orgType:"CUTTER",orgTypeName:"烟丝企业"},{orgType:"EXPORT",orgTypeName:"进出口企业（到口岸）"}]}},computed:{_apis:function(){return this.$apis.apm.dailyAudit},_apply:function(){return this.$apis.centre.apply},_dailyQuery:function(){return this.$apis.apm.dailyQuery},userInfo:function(){return this.$store.getters.getAppConfig},orgLevelEk:function(){return this.$store.getters.getAppConfig.orgLevelEk},bizYear:function(){var e,t;return null===(e=this.$store.getters.getAppConfig)||void 0===e||null===(t=e.yearValueMap)||void 0===t?void 0:t.DAILY_YEAR},allBillStatesList:function(){return"1"===this.userInfo.orgLevelEk?[{id:"0",label:"删除中",usedState:"1"},{id:"1",label:"对方单位确认中",usedState:"0"},{id:"2",label:"省公司确认中",usedState:"0"},{id:"3",label:"经办人初审中",usedState:"0"},{id:"4",label:"处长审核中",usedState:"0"},{id:"5",label:"副总经理审核中",usedState:"0"},{id:"6",label:"总经理审核中",usedState:"0"},{id:"gjj",label:"总公司审核同意",usedState:"1"},{id:"prov",label:"省公司审核同意",usedState:"1"},{id:"9",label:"已删除",usedState:"0"},{id:"10",label:"废止",usedState:"0"}]:[{id:"0",label:"删除中",usedState:"1"},{id:"1",label:"对方单位确认中",usedState:"0"},{id:"2",label:"省公司确认中",usedState:"0"},{id:"3,4,5,6",label:"总公司审核中",usedState:"0"},{id:"gjj",label:"总公司审核同意",usedState:"1"},{id:"prov",label:"省公司审核同意",usedState:"1"},{id:"9",label:"已删除",usedState:"0"},{id:"10",label:"废止",usedState:"0"}]}},created:function(){this.init()},methods:{moment:y.a,getTableData:function(){var e=this;return Object(s["a"])(Object(l["a"])().mark((function t(){var a,r;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.bizYear){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,a=Object(o["a"])(Object(o["a"])({},e.queryItems),{},{busiYear:e.bizYear}),t.next=6,e._apis.QueryList(a);case 6:r=t.sent,e.tableData=r.rows,e.pagination.total=r.totalRows,e.loading=!1,t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](2),console.log(t.t0),e.tableData=[],e.loading=!1;case 17:case"end":return t.stop()}}),t,null,[[2,12]])})))()},handlePagination:function(e,t){this.queryItems.pageNumber=e,this.queryItems.pageSize=t,this.handleQuery()},handleQuery:function(){this.getTableData()},queryReset:function(){this.applyDate=null,this.queryItems.pageNumber=1,this.queryItems.pageSize=10,this.queryItems.supplyOrgTypes=null,this.queryItems.demandOrgTypes=null,this.queryItems.busiYear=null,this.queryItems.supplyOrgCode=null,this.queryItems.demandOrgCode=null,this.queryItems.operateType=null,this.queryItems.isCheckBusi=null,this.queryItems.beginApplyDate=null,this.queryItems.endApplyDate=null,this.queryItems.apprTypeCode=null,this.queryItems.billNo=null,this.queryItems.auditState=null,this.queryItems.sortType=null},handlerAudit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"终审",a=this.$createElement;this.records.length?this.$confirm({title:"操作提示?",content:function(){return a("div",{style:"color:red;"},["是否确认终审？，确认请点击'确认'按钮，取消点击'取消'按钮"])},onOk:function(){var a;e.auditloading=!0;var r=null===(a=e.records)||void 0===a?void 0:a.map((function(e){return e.asDailyDealMasId})),i={busiYear:e.bizYear,asDailyDealMasIds:r};e._apis.lastAudit(i).then((function(a){var r=a.result;r?(e.$message.success("".concat(t,"操作成功")),e.handleQuery()):e.$message.error("".concat(t,"操作失败"))})).finally((function(){e.auditloading=!1}))}}):this.$message.error("请选择要终审的数据！")},handlerSend:function(){var e,t=this,a=this.$createElement;if(this.records.length){var r=null===(e=this.records)||void 0===e?void 0:e.every((function(e){return"7"===e.billStates||"11"===e.billStates}));r?this.$confirm({title:"操作提示?",content:function(){return a("div",{style:"color:red;"},["是否发送选中记录？，确认请点击'确认'按钮，取消点击'取消'按钮"])},onOk:function(){var e,a=null===(e=t.records)||void 0===e?void 0:e.map((function(e){return e.asDailyDealMasId})),r="发送";t.sendloading=!0;var i={busiYear:t.bizYear,asDailyDealMasIds:a};t._apis.updateStatusAll(i).then((function(e){var a=e.result;a?(t.$message.success("".concat(r,"操作成功")),t.handleQuery()):t.$message.error("".concat(r,"操作失败"))})).finally((function(){t.sendloading=!1}))}}):this.$message.error("当前状态不允许发送")}else this.$message.error("请选择要发送的数据！")},handlerSetAwaitAudit:function(){this.$refs.awaitmodelRef.show()},handlerOpenDetails:function(e){var t=this,a={asDailyDealMasId:e.asDailyDealMasId,busiYear:this.bizYear};this._dailyQuery.queryDetails(a).then((function(a){var r,i=null===(r=t.apprTypeCodeListed)||void 0===r?void 0:r.find((function(e){return e.contTypeCode===a.apprTypeCode})),n=Object(o["a"])(Object(o["a"])({},a),{},{apprTypeName:null===i||void 0===i?void 0:i.contTypeName,weightunit:t.weightunit,busiYear:t.bizYear,billStates:e.billStates});t.$refs.addModalRef.show(n)}))},finishStateChange:function(e){var t="1"===this.userInfo.orgLevelEk;if("0"===e){var a=t?function(e){return"0"===e.id||"1"===e.id||"2"===e.id||"3"===e.id||"4"===e.id||"5"===e.id||"6"===e.id}:function(e){return"0"===e.id||"1"===e.id||"2"===e.id||"3,4,5,6"===e.id};this.billStatesList=this.allBillStatesList.filter(a)}else if("1"===e){var r=function(e){return"gjj"===e.id||"prov"===e.id||"9"===e.id};this.billStatesList=this.allBillStatesList.filter(r)}else this.billStatesList="2"===e?this.allBillStatesList.filter((function(e){return"10"===e.id})):this.allBillStatesList.map((function(e){return e}))},getEnumerationdata:function(){var e=this;this.billStatesList=Object(n["a"])(this.finishStateListOptions),this.querygetBusinessType(),this.getbillDealTypeOptionsAuditLevel(),this.$apis.enum.index.getEnumType({enumTypeCodes:["OPERATE_TYPE","WEIGHT_UNIT","SEND_STATE","TRANS_STATES"]}).then((function(t){t&&(e.operateTypeList=t.enumMap.OPERATE_TYPE,e.weightUnitList=t.enumMap.WEIGHT_UNIT,e.transStatesList=t.enumMap.TRANS_STATES)}))},querygetBusinessType:function(){var e=this;this.$apis.common.index.queryContType({contTypeCode:"2"}).then((function(t){var a=t.rows;e.apprTypeCodeListed=a,e.apprTypeCodeList=e.getTree(a,"higherContTypeCode","contTypeCode","contTypeName","children","0")}))},getbillDealTypeOptionsAuditLevel:function(){var e=this;this._apis.QueryInit({}).then((function(t){e.auditLevel=t.auditLevel,e.stopParam=t.stopParam;for(var a=t.billDealTypeList[0],r=Object.entries(a),i=[],n=0;n<r.length;n++){var l=r[n];i.push({id:l[0],label:l[1]})}e.billDealTypeList=i}))},getTree:function(e,t,a,r,i,n){console.time();var l=function e(n,l){return n.filter((function(o){return o[t]===l&&((o.value=o[a])(o.label=o[r])(o[i]=e(n,o[a])),!0)}))},o=l(e,n);return console.timeEnd(),o},selectRowChange:function(e){var t=e.records;this.records=t},init:function(){var e=this;return Object(s["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getEnumerationdata(),e.treeGetlist(e.bizYear,d["treeFormatList"],e._apply);case 2:case"end":return t.stop()}}),t)})))()},treeGetlist:function(e,t,a){var r=this;return Object(s["a"])(Object(l["a"])().mark((function i(){var n,o,s,c;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n={bizYear:e,bizCode:"BA20111000001000000000000",orgTypeEk:"EXPORT,INDUSTRY,TOBACCO",orgLevelEk:"3",paramMap:{isCorporation:"1"}},o={pkey:"parentBizCode",title:"orgName",key:"bizCode",children:"children"},s=JSON.parse(localStorage.getItem("apprlist"))||[],!s.length){i.next=7;break}r.orgTreeData=t(s,o),i.next=11;break;case 7:return i.next=9,a.getreeDate(n);case 9:c=i.sent,r.orgTreeData=t(null===c||void 0===c?void 0:c.rows,o);case 11:case"end":return i.stop()}}),i)})))()},getfetchData:function(){var e=this;return new Promise((function(t){var a=Object(d["cloneDeep"])(e.orgTreeData);t(a)}))},getbillDealType:function(e){var t,a;return(null===(t=this.allbillDealTypeList)||void 0===t||null===(a=t.find((function(t){return t.id===e})))||void 0===a?void 0:a.label)||""},getoperateType:function(e){var t,a;return(null===(t=this.operateTypeListForDaily)||void 0===t||null===(a=t.find((function(t){return t.id===e})))||void 0===a?void 0:a.label)||""},getapprTypeCode:function(e){var t,a;return(null===(t=this.apprTypeCodeListed)||void 0===t||null===(a=t.find((function(t){return t.contTypeCode===e})))||void 0===a?void 0:a.contTypeName)||""},cellStyle:function(e){var t=e.$columnIndex;if(2===t||1===t)return{textAlign:"left"}},applyTimeChange:function(e){this.queryItems.beginApplyDate=e[0].format("YYYY-MM-DD HH:mm:ss")||"",this.queryItems.endApplyDate=e[0].format("YYYY-MM-DD HH:mm:ss")||""}}},ne=ie,le=(a("b8fd"),Object(k["a"])(ne,r,i,!1,null,"ec52ff5a",null));t["default"]=le.exports},5507:function(e,t,a){"use strict";a("9515")},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4");function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},"75b2":function(e,t,a){},"8f40":function(e,t,a){},"8ff6":function(e,t,a){"use strict";a("ce87")},"949b":function(e,t,a){"use strict";a("75b2")},9515:function(e,t,a){},b253:function(e,t,a){"use strict";a("e73e")},b739:function(e,t,a){"use strict";a("ed48")},b8fd:function(e,t,a){"use strict";a("8f40")},ce87:function(e,t,a){},d021:function(e,t,a){},e73e:function(e,t,a){},ed48:function(e,t,a){},f2be:function(e,t,a){"use strict";a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"h",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return y}));var r=a("2909"),i=(a("d3b7"),a("159b"),a("ac16"),a("f8c9"),a("4de4"),a("4ec9"),a("3ca3"),a("ddb0"),a("d9e2"),a("a630"),a("6062"),a("0644")),n=a.n(i),l=a("60ed"),o=a.n(l);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{pkey:"pkey",key:"key",title:"title",children:"children"},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pkey:"pkey",children:"children"};if(!Array.isArray(e))return console.error("请传入一个list数组");e.forEach((function(r){var i=r[a.pkey];i&&e.forEach((function(e){var l=e;if(t)for(var o in t)String(o)!==String(t[o])&&(Array.isArray(l[t[o]])||l[t[o]]instanceof Object?l[o]=n()(l[t[o]]):l[o]=l[t[o]],Reflect.deleteProperty(l,t[o]));l&&l.key===i&&(l[a.children]=l[a.children]||[],l[a.children].push(r))}))}));var r=e.every((function(e){return e[t.pkey]}));return r?console.error("至少有一个根节点pid为null数组或传入一个空数组",e):e.filter((function(e){return!e[a.pkey]}))}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{pkey:"pkey",key:"key",title:"title"},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(!Array.isArray(e))return console.error("请传入一个tree数组");var i=[],l=n()(e),o=Object(r["a"])(l);while(o.length){var s=o.shift(),c=s[a];if(c&&o.push.apply(o,Object(r["a"])(c)),t)for(var u in t)String(u)!==String(t[u])&&(Array.isArray(s[t[u]])||s[t[u]]instanceof Object?s[u]=n()(s[t[u]]):s[u]=s[t[u]],Reflect.deleteProperty(s,t[u]));Reflect.deleteProperty(s,a),i.push(s)}return 0===i.length?e:i}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pkey:"pkey",key:"key",title:"title"};if(!Array.isArray(e))return console.error("请传入一个tree数组");var r=n()(e),i=c(r,a);return i.filter((function(e){return!!t(e)}))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";if(!Array.isArray(e))return console.error("请传入一个数组");if(!e||0===e.length||!o()(e[0]))return Array.from(new Set(e));var a=new Map;return e.forEach((function(e){if(!e[t])throw new Error("prop参数不匹配，在节点找不到对应的值");a.set(e[t],e)})),0!==a.size?Array.from(a.values()):void 0}function p(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pkey:"pkey",key:"key",title:"title"},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{pkey:"pkey",key:"key"};if(!Array.isArray(e))return console.error("请传入一个tree数组");var i=new Set,n=c(e,a);function l(e,t){e.forEach((function(a){String(a[r.key])===String(t)&&(i.add(a[r.key]),a.isLeaf&&i.delete(a[r.key]),l(e,a[r.pkey]))}))}return l(n,t),Array.from(i).reverse().filter((function(e){return e!==t}))}function f(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{pkey:"pkey",key:"key",title:"title"},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{pkey:"pkey",key:"key"};if(!Array.isArray(e))return console.error("请传入一个tree数组");var n=new Set,l=c(e,r);function o(e,t){e.forEach((function(r){String(r[i.key])===String(t)&&(n.add(r[a]),o(e,r[i.pkey]))}))}return o(l,t),Array.from(n).reverse()}function h(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{pkey:"pkey",key:"key",title:"title"};if(!Array.isArray(e))return console.error("请传入一个tree数组");var i=c(e,r),n=i.filter((function(e){return String(e[a])===String(t)}));return Array.isArray(n)&&1===n.length?n[0]:null}function y(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{key:"key",label:"title"};if(!Array.isArray(e))return console.error("请传入一个字典数组");var r=e.filter((function(e){return String(e[a.key])===String(t)}));return r&&0!==r.length?r[0][a.label]:""}},fa7d:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return l}));var r=a("5530"),i=(a("2909"),a("d3b7"),a("b64b"),a("ddb0"),a("13d5"),a("4ec9"),a("3ca3"),a("2b3d"),a("9861"),a("d81d"),a("caad"),a("2532"),a("a9e3"),a("f2be"));a.d(t,"b",(function(){return i["c"]}));Object.prototype.toString,function(){document.addEventListener}(),function(){document.removeEventListener}();var n=function(e,t,a,i){return null===t||void 0===t?void 0:t.map((function(t){var n=Object(r["a"])({},t);for(var l in t)e.includes(l)&&("/"===i?n[l]/=a:n[l]*=a);return n}))},l=function(e,t){if(e){var a=document.createElement("a");a.style.display="none",a.href=e,a.setAttribute("download",t),document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},fb8f:function(e,t,a){"use strict";a("ff23")},ff23:function(e,t,a){}}]);
//# sourceMappingURL=chunk-42e7e222.2ba3f49f.js.map