(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89a714b4"],{5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4");function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},6161:function(e,t,r){},bbe8:function(e,t,r){},c01f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ec-container",{attrs:{height:"auto"}},[r("ec-container-header",[r("ec-panel-toolbar",[r("ec-panel-item-left",[r("ec-header",{attrs:{title:"交易衔接量确认",icon:"onetomany","color-code":"003"}})],1),r("ec-panel-item-right",[r("div",[e._v("集中交易年度："+e._s(e.busiYear)+"年")])])],1)],1),r("ec-container-body",[r("ec-panel",[r("ec-panel-toolbar",[r("ec-query-panel",{attrs:{defaultFold:!0},on:{query:e.init,reset:e.resetHandle},scopedSlots:e._u([{key:"inner",fn:function(){return[r("ec-query-item",{attrs:{label:"单据编号"}},[r("a-input",{attrs:{placeholder:""},model:{value:e.queryItems.billNo,callback:function(t){e.$set(e.queryItems,"billNo",t)},expression:"queryItems.billNo"}})],1),r("ec-query-item",{attrs:{label:"供方单位"}},[r("select-picker",{attrs:{title:"选择单位",lazy:!1,search:!1,fetchData:e.getfetchData},on:{ok:function(t){return e.handlepickerValue(t,"supplyOrgCode")}},model:{value:e.supplyOrgCode_temporary,callback:function(t){e.supplyOrgCode_temporary=t},expression:"supplyOrgCode_temporary"}})],1),r("ec-query-item",{attrs:{label:"需方单位"}},[r("select-picker",{attrs:{title:"选择单位",lazy:!1,search:!1,fetchData:e.getfetchData},on:{ok:function(t){return e.handlepickerValue(t,"demandOrgCode")}},model:{value:e.demandOrgCode_temporary,callback:function(t){e.demandOrgCode_temporary=t},expression:"demandOrgCode_temporary"}})],1),r("ec-query-item",{attrs:{label:"烟叶类型"}},[r("a-cascader",{attrs:{options:e.statusValOptions,"change-on-select":"",placeholder:""},model:{value:e.queryItems.leafTypeCode,callback:function(t){e.$set(e.queryItems,"leafTypeCode",t)},expression:"queryItems.leafTypeCode"}})],1)]},proxy:!0}])},[r("ec-query-item",{attrs:{label:"业务类型"}},[r("a-cascader",{attrs:{options:e.businessTypeOptions,placeholder:"请选择"},model:{value:e.queryItems.apprTypeCode,callback:function(t){e.$set(e.queryItems,"apprTypeCode",t)},expression:"queryItems.apprTypeCode"}})],1),r("ec-query-item",{attrs:{label:"状态"}},[r("a-select",{attrs:{showSearch:"","allow-clear":"",placeholder:"请选择"},model:{value:e.queryItems.circleSate,callback:function(t){e.$set(e.queryItems,"circleSate",t)},expression:"queryItems.circleSate"}},e._l(e.statusList,(function(t){return r("a-select-option",{key:t.id},[e._v(" "+e._s(t.label)+" ")])})),1)],1),r("ec-query-item",{staticClass:"org",attrs:{label:"计量单位"}},[r("a-select",{attrs:{"allow-clear":"",placeholder:"请选择"},model:{value:e.unitstr,callback:function(t){e.unitstr=t},expression:"unitstr"}},e._l(e.unitstrOptions,(function(t){return r("a-select-option",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1),r("ec-divider")],1),r("ec-panel-item",[e.islock?r("ec-panel-item-left",[r("a-button",{attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.handleAgree(t)}}},[e._v("同意")]),r("a-button",{on:{click:function(t){return t.stopPropagation(),e.handleBack(t)}}},[e._v("退回")])],1):e._e()],1),r("ec-panel-body",[r("ec-v-layout",[r("ec-v-item",[r("ec-table",{ref:"xTable1",attrs:{"show-overflow":"",height:e.height?300:200,data:e.tableData,"header-align":"center",align:"center",pagination:e.pagination},on:{"page-action":e.queryPagination,"checkbox-all":e.selectRowChange,"checkbox-change":e.selectRowChange,"cell-click":e.onDetailsList}},[r("ec-table-col",{attrs:{type:"checkbox",width:"60",align:"center"}}),r("ec-table-col",{attrs:{type:"seq",title:"序号",width:"50"}}),r("ec-table-col",{attrs:{field:"billNo",title:"单据编号",width:"150"}}),r("ec-table-col",{attrs:{field:"supplyOrgName",title:"供方单位"}}),r("ec-table-col",{attrs:{field:"demandOrgName",title:"需方单位"}}),r("ec-table-col",{attrs:{field:"circleSate",title:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(e._s(e.onGetStatuslabel(r.circleSate)))]}}])}),r("ec-table-col",{attrs:{title:"操作",width:"190"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("a-button",{attrs:{type:"link"},on:{click:function(t){return t.stopPropagation(),e.handleOpendetails(a,"main")}}},[e._v("详细")])]}}])})],1)],1),r("ec-v-item",[r("h2",{staticClass:"details-bg"},[e._v("计划量详细")]),r("ec-table",{ref:"xTable2",attrs:{"show-overflow":"","show-footer":"",height:"216","header-align":"center",align:"center","cell-style":e.cellStyle,data:e.FocusDealDetailData,"footer-method":e.footerMethod}},[r("ec-table-col",{attrs:{type:"seq",title:"序号",width:"50"}}),r("ec-table-col",{attrs:{field:"apprTypeCode",title:"业务类型"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(" "+e._s(e.findlabel(r.apprTypeCode,e.businessTypeOptions)))]}}])}),r("ec-table-col",{attrs:{field:"leafTypeCode",title:"烟叶类型"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(" "+e._s(e.findlabel(r.leafTypeCode,e.statusValOptions)))]}}])}),r("ec-table-col",{attrs:{field:"leafFormName",title:"烟叶形态"}}),r("ec-table-col",{attrs:{field:"supplyWeight",title:"供方提报量"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(e._s(e.handlerWeightcalculate(r.supplyWeight,e.unitstr)))]}}])}),r("ec-table-col",{attrs:{field:"demandWeight",title:"需方提报量"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(e._s(e.handlerWeightcalculate(r.demandWeight,e.unitstr)))]}}])}),r("ec-table-col",{attrs:{field:"finalWeight",title:"总公司审核量"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(e._s(e.handlerWeightcalculate(r.finalWeight,e.unitstr)))]}}])}),r("ec-table-col",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return["HT1104"===a.apprTypeCode?r("a-button",{attrs:{type:"link"},on:{click:function(t){return e.handleOpendetails(a,"basedetails")}}},[e._v("详细")]):e._e()]}}])})],1)],1)],1)],1)],1),r("Details",{ref:"detailsRef"})],1)],1)},n=[],i=r("2909"),o=r("c7eb"),l=r("1da1"),s=r("5530"),c=(r("6198"),r("6fc0")),u=r.n(c),d=(r("d3b7"),r("d81d"),r("7db0"),r("b0c0"),r("159b"),r("caad"),r("a9e3"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ec-drawer",{staticClass:"ec-draw-form",attrs:{title:"详细",visible:e.visible,size:"large"},on:{close:e.cancel}},[r("ec-container",{attrs:{height:"auto",fixed:"top bottom","color-code":"007"}},[r("ec-container-body",[e.istabletotabs?[r("a-descriptions",{attrs:{bordered:"",size:"small",title:"主信息",column:2}},[r("a-descriptions-item",{attrs:{label:"单据编号"}},[e._v(" "+e._s(e.state.billNo)+" ")]),r("a-descriptions-item",{attrs:{label:"交易集中年度"}},[e._v(" "+e._s(e.busiYear)+" ")])],1),r("a-descriptions",{attrs:{bordered:"",size:"small",title:"供方资料区"}},[r("a-descriptions-item",{attrs:{label:"供方市"}},[e._v(" "+e._s(e.useGetname(e.state.supplyOrgCode))+" ")]),r("a-descriptions-item",{attrs:{label:"供方省"}},[e._v(" "+e._s(e.useGetname(e.state.supplyProvOrgCode))+" ")]),r("a-descriptions-item",{attrs:{label:"录入日期"}},[e._v(e._s(e.state.supplyCreateDate)+" ")]),r("a-descriptions-item",{attrs:{label:"上报日期"}},[e._v(" "+e._s(e.state.supplyUploadTime)+" ")]),r("a-descriptions-item",{attrs:{label:"确认日期"}},[e._v(" "+e._s(e.state.supplyProvAuditTime)+" ")]),r("a-descriptions-item",{attrs:{label:"确认状态"}},[e._v(" "+e._s("0"===e.state.supplyProvAuditState?"未确认":"1"===e.state.supplyProvAuditState?"已确认":"")+" ")])],1),r("a-descriptions",{attrs:{bordered:"",size:"small",title:"需方资料区"}},[r("a-descriptions-item",{attrs:{label:"需方市"}},[e._v(" "+e._s(e.useGetname(e.state.demandOrgCode))+" ")]),r("a-descriptions-item",{attrs:{label:"需方省"}},[e._v(" "+e._s(e.useGetname(e.state.demandProvOrgCode))+" ")]),r("a-descriptions-item",{attrs:{label:"录入日期"}},[e._v(" "+e._s(e.state.demandCreateDate)+" ")]),r("a-descriptions-item",{attrs:{label:"上报日期"}},[e._v(" "+e._s(e.state.demandUploadTime)+" ")]),r("a-descriptions-item",{attrs:{label:"确认日期"}},[e._v(" "+e._s(e.state.demandProvAuditTime)+" ")]),r("a-descriptions-item",{attrs:{label:"确认状态"}},[e._v(" "+e._s("0"===e.state.demandProvAuditState?"未确认":"1"===e.state.demandProvAuditState?"已确认":"")+" ")])],1),r("a-descriptions",{attrs:{bordered:"",size:"small",title:"总公司资料区"}},[r("a-descriptions-item",{attrs:{label:"总公司"}},[e._v(" 中国烟叶公司")]),r("a-descriptions-item",{attrs:{label:"审核日期"}},[e._v(" "+e._s(e.state.finalAuditTime)+" ")]),r("a-descriptions-item",{attrs:{label:"审核状态"}},[e._v(" "+e._s("0"===e.state.finalAuditState?"未审核":"1"===e.state.finalAuditState?"已审核":"")+" ")])],1)]:e._e(),r("ec-panel-toolbar",[r("ec-panel-item-left",[r("span",{class:{"vxetable-title":e.istabletotabs}},[e._v("明细信息")])]),r("ec-panel-item-right",[e.istabletotabs?r("span",{staticClass:"vxetable-title"},[e._v("计量单位："+e._s("50"===e.unitstr?"担":"万担"))]):r("span",[e._v("集中交易年度："+e._s(e.busiYear)+" 计量单位："+e._s("50"===e.unitstr?"担":"万担"))])])],1),r("vxe-table",{ref:"xTable",staticClass:"editable-footer",attrs:{border:"","show-footer":"","show-overflow":"","highlight-hover-row":"",height:"300","header-align":"center",align:"center","cell-style":e.cellStyle,"footer-method":e.footerMethod,data:e.tableData}},[r("vxe-column",{attrs:{width:"60",type:"seq",title:"序号",align:"center"}}),r("vxe-column",{attrs:{title:"业务类型",field:"apprTypeCode"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(" "+e._s(e.onGetapprTypeCode(r.apprTypeCode)))]}}])}),r("vxe-column",{attrs:{title:"基地单元名称",field:"baseCellName"}}),r("vxe-column",{attrs:{title:"烟叶类型",field:"leafTypeCode"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(e._s("20"===r.leafTypeCode?"晾晒烟":"10"===r.leafTypeCode?"烤烟":"雪茄烟叶"))]}}])}),r("vxe-column",{attrs:{title:"烟叶形态",field:"leafFormName"}}),r("vxe-column",{attrs:{title:"供方提报量",field:"supplyWeight"}}),r("vxe-column",{attrs:{title:"需方提报量",field:"demandWeight"}}),r("vxe-column",{attrs:{title:"总公司审核量",field:"finalWeight"}})],1)],2),r("ec-container-footer",{attrs:{fixed:""}},[r("a-button",{on:{click:e.cancel}},[e._v("关闭")])],1)],1)],1)}),p=[],f=r("fa7d"),y={name:"confirmDetail",data:function(){return{modeltag:null,busiYear:null,unitstr:null,state:null,istabletotabs:!1,weightUnitName:"50",tableData:[],visible:!1,businessTypeOptions:[{label:"工商普通购销",value:"HT1101"},{label:"出口备货普通购销",value:"HT1201"},{label:"基地烟",value:"HT1104"},{label:"国内合计",value:"HT11"}]}},methods:{show:function(e,t){var r=[];this.state=e,this.istabletotabs=!0,this.modeltag=t,this.busiYear=e.busiYear,this.unitstr=e.unitstr,r=e.pcTAsFocusDealDetlDTOList,"basedetails"===t&&(this.istabletotabs=!1,r=e.rows),this.tableData=Object(f["c"])(["supplyWeight","demandWeight","finalWeight"],r,e.unitstr,"/"),this.visible=!0},cancel:function(){this.tableData=[],this.visible=!1},sumNum:function(e,t){var r=0;return e.forEach((function(e){r+=Number(e[t])})),r},footerMethod:function(e){var t=this,r=e.columns,a=e.data;return[r.map((function(e,r){return 2===r?"合计":["finalWeight","supplyWeight","demandWeight"].includes(e.property)?t.sumNum(a,e.property):null}))]},onGetapprTypeCode:function(e){var t,r=Object(i["a"])(this.businessTypeOptions);return null===(t=r.find((function(t){return t.value===e})))||void 0===t?void 0:t.label},useGetname:function(e){var t,r=this.state.treeData;return(null===(t=r.find((function(t){return t.key===e})))||void 0===t?void 0:t.title)||""},handlerWeightcalculate:function(e,t){return e/t},cellStyle:function(e){var t=e.$columnIndex;if(7===t||5===t||6===t)return{textAlign:"right"}}}},h=y,b=(r("eea4"),r("2877")),v=Object(b["a"])(h,d,p,!1,null,"5e478f82",null),m=v.exports,g=r("6ea6"),k={name:"AdminOrgManage",components:{Details:m,SelectPicker:u.a},data:function(){return{demandOrgCode_temporary:"",supplyOrgCode_temporary:"",demandOrgCode:"",supplyOrgCode:"",bizCode:"",orgType:"",orgCode:"",appCode:"",unitstr:"50",islock:!0,height:!0,name:"",code:"",records:[],statusValOptions:[{value:"10",label:"烤烟"},{value:"20",label:"晾晒烟",children:[{value:"2013",label:"雪茄烟叶"}]}],businessTypeOptions:[{value:"0",label:"业务类型",children:[{value:"1",label:"购销",children:[{value:"1-1",label:"工商购销",children:[{value:"HT1101",label:"工商普通购销"},{value:"HT1104",label:"基地烟"}]},{value:"1-2",label:"出口备货购销",children:[{value:"HT1201",label:"出口备货普通购销"}]}]}]}],unitstrOptions:[{name:"担",id:"50"},{name:"万担",id:"500000"}],brandId:void 0,statusVal:void 0,treeData:null,treeParams:{bizCode:"11000001000000000000",orgTypeEk:"EXPORT,INDUSTRY,TOBACCO",orgLevelEk:"3",paramMap:{isCorporation:"1"}},statusList:[{id:"1",name:"省公司待确认"},{id:"3",name:"省公司已确认"},{id:"4",name:"总公司待审核"},{id:"6",name:"总公司已审核"}],queryItems:{pageNumber:1,pageSize:10,leafTypeCode:["10"],searchType:"provType"},pagination:{pageNumber:1,pageSize:10,total:0},rules:{},tableData:[],FocusDealDetailData:[]}},computed:{_apply:function(){return this.$apis.centre.apply},_confirm:function(){return this.$apis.centre.confirm},appConfig:function(){return this.$store.getters.getAppConfig},busiYear:function(){var e,t;return null===(e=this.$store.getters.getAppConfig)||void 0===e||null===(t=e.yearValueMap)||void 0===t?void 0:t.CENTER_YEAR}},created:function(){this.onGetuserinfo()},methods:{init:function(){var e,t,r=this;$ec.showLoading(),this.records=[],this.FocusDealDetailData=[];var a=Object(s["a"])({},this.queryItems);a.orgCode=this.orgCode,a.busiYear=this.busiYear,a.apprTypeCode&&0!==(null===(e=a.apprTypeCode)||void 0===e?void 0:e.length)&&(a.apprTypeCode=a.apprTypeCode.reverse()[0]),a.leafTypeCode&&0!==(null===(t=a.leafTypeCode)||void 0===t?void 0:t.length)&&(a.leafTypeCode=a.leafTypeCode.reverse()[0]),this._apply.query(a).then((function(e){r.tableData=e.rows,r.pagination.total=e.totalRows})).finally((function(){$ec.hideLoading()}))},resetHandle:function(){this.queryItems={searchType:"provType"},this.init()},handleAgree:function(){var e=this;if(0===this.records.length)return this.$message.error("请选中数据后再进行操作!"),!1;$ec.showLoading();var t={busiYear:this.busiYear,asFocusDealMasIds:this.records.map((function(e){return e.asFocusDealMasId}))||[]};this._confirm.confirmOK(t).then((function(t){t.ifCanAudit?e.$message.success(t.returnMess):e.$message.error(t.returnMess)})).finally((function(){$ec.hideLoading()}))},handleBack:function(){var e=this;if(0===this.records.length)return this.$message.error("请选中数据后再进行操作!"),!1;$ec.showLoading();var t={busiYear:this.busiYear,asFocusDealMasIds:this.records.map((function(e){return e.asFocusDealMasId}))||[]};this._confirm.Reject(t).then((function(t){t?e.$message.success("操作成功"):e.$message.error("操作失败")})).finally((function(){$ec.hideLoading()}))},handleOpendetails:function(e,t){var r=this;if("main"===t){var a=e.demandOrgCode,n=e.supplyOrgCode,i={demandOrgCode:a,supplyOrgCode:n,orgType:"prov",asFocusDealMasId:e.asFocusDealMasId};this._confirm.getDetails(i).then((function(e){var a=Object(s["a"])(Object(s["a"])({},e),{},{treeData:r.treeData,unitstr:r.unitstr,busiYear:r.busiYear});r.$refs.detailsRef.show(a,t)}))}else{var o={orgType:"prov",busiYear:this.busiYear,demandOrgCode:this.demandOrgCode,supplyOrgCode:this.supplyOrgCode};this._confirm.onGetdetails(o).then((function(e){var a=Object(s["a"])(Object(s["a"])({},e),{},{treeData:r.treeData,unitstr:r.unitstr,busiYear:r.busiYear});r.$refs.detailsRef.show(a,t)}))}},queryPagination:function(e,t){this.queryItems.pageNumber=e,this.queryItems.pageSize=t,this.init()},selectRowChange:function(e){var t=e.records;this.records=t},handlepickerValue:function(e,t){var r=e.selectOption.val;this.queryItems[t]=r},onDetailsList:function(e){var t=this,r=e.row;$ec.showLoading();var a={demandOrgCode:r.demandOrgCode,supplyOrgCode:r.supplyOrgCode,asFocusDealMasId:r.asFocusDealMasId,busiYear:this.busiYear,orgType:"prov"};this._apply.querySelectRows(a).then((function(e){t.demandOrgCode=r.demandOrgCode,t.supplyOrgCode=r.supplyOrgCode,t.FocusDealDetailData=e.rows||[]})).finally((function(){$ec.hideLoading()}))},treeGetlist:function(){var e=this;return Object(l["a"])(Object(o["a"])().mark((function t(){var r,a,n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={pkey:"parentOrgUniqueCode",title:"orgName",key:"orgUniqueCode",children:"children"},e.treeParams.bizCode=null===(r=e.appConfig)||void 0===r?void 0:r.bizCode,t.next=4,e._apply.getreeDate(e.treeParams);case 4:n=t.sent,e.treeData=Object(g["treeFormatList"])(null===n||void 0===n?void 0:n.rows,a);case 6:case"end":return t.stop()}}),t)})))()},getfetchData:function(){var e=this;return new Promise((function(t){var r=Object(g["cloneDeep"])(e.treeData);t(r)}))},onGetuserinfo:function(){var e=this;return Object(l["a"])(Object(o["a"])().mark((function t(){var r,a,n,i;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$apis.bpm.executionEnter.getOrgCode({});case 2:return r=t.sent,a=r.orgCode,n=r.orgTypeEk,i=r.bizCode,e.orgCode=a,e.bizCode=i,e.orgType="TOBACCO"===n?"O":"I",e.treeParams.bizYear=e.busiYear,t.next=12,e.treeGetlist();case 12:e.init();case 13:case"end":return t.stop()}}),t)})))()},onGetStatuslabel:function(e){var t,r=Object(i["a"])(this.statusList);return null===(t=r.find((function(t){return t.id===e})))||void 0===t?void 0:t.name},findlabel:function(e,t){var r;function a(e,t){e.forEach((function(e){return e.value===t?(r=e.label,!1):"children"in e&&void a(e.children,t)}))}return a(t,e),r},footerMethod:function(e){var t=this,r=e.columns,a=e.data;return[r.map((function(e,r){return 1===r?"合计":["demandWeight","supplyWeight","finalWeight"].includes(e.property)?t.sumNum(a,e.property):null}))]},sumNum:function(e,t){var r=0;return e.forEach((function(e){r+=Number(e[t])})),r},handlerWeightcalculate:function(e,t){return e/t},cellStyle:function(e){var t=e.$columnIndex;if(4===t||5===t||6===t)return{textAlign:"right"}}}},_=k,O=(r("f46a"),Object(b["a"])(_,a,n,!1,null,"375af78c",null));t["default"]=O.exports},eea4:function(e,t,r){"use strict";r("bbe8")},f2be:function(e,t,r){"use strict";r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return c})),r.d(t,"a",(function(){return u})),r.d(t,"h",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"e",(function(){return f})),r.d(t,"d",(function(){return y})),r.d(t,"c",(function(){return h}));var a=r("2909"),n=(r("d3b7"),r("159b"),r("ac16"),r("f8c9"),r("4de4"),r("4ec9"),r("3ca3"),r("ddb0"),r("d9e2"),r("a630"),r("6062"),r("0644")),i=r.n(n),o=r("60ed"),l=r.n(o);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{pkey:"pkey",key:"key",title:"title",children:"children"},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pkey:"pkey",children:"children"};if(!Array.isArray(e))return console.error("请传入一个list数组");e.forEach((function(a){var n=a[r.pkey];n&&e.forEach((function(e){var o=e;if(t)for(var l in t)String(l)!==String(t[l])&&(Array.isArray(o[t[l]])||o[t[l]]instanceof Object?o[l]=i()(o[t[l]]):o[l]=o[t[l]],Reflect.deleteProperty(o,t[l]));o&&o.key===n&&(o[r.children]=o[r.children]||[],o[r.children].push(a))}))}));var a=e.every((function(e){return e[t.pkey]}));return a?console.error("至少有一个根节点pid为null数组或传入一个空数组",e):e.filter((function(e){return!e[r.pkey]}))}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{pkey:"pkey",key:"key",title:"title"},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(!Array.isArray(e))return console.error("请传入一个tree数组");var n=[],o=i()(e),l=Object(a["a"])(o);while(l.length){var s=l.shift(),c=s[r];if(c&&l.push.apply(l,Object(a["a"])(c)),t)for(var u in t)String(u)!==String(t[u])&&(Array.isArray(s[t[u]])||s[t[u]]instanceof Object?s[u]=i()(s[t[u]]):s[u]=s[t[u]],Reflect.deleteProperty(s,t[u]));Reflect.deleteProperty(s,r),n.push(s)}return 0===n.length?e:n}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pkey:"pkey",key:"key",title:"title"};if(!Array.isArray(e))return console.error("请传入一个tree数组");var a=i()(e),n=c(a,r);return n.filter((function(e){return!!t(e)}))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";if(!Array.isArray(e))return console.error("请传入一个数组");if(!e||0===e.length||!l()(e[0]))return Array.from(new Set(e));var r=new Map;return e.forEach((function(e){if(!e[t])throw new Error("prop参数不匹配，在节点找不到对应的值");r.set(e[t],e)})),0!==r.size?Array.from(r.values()):void 0}function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pkey:"pkey",key:"key",title:"title"},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{pkey:"pkey",key:"key"};if(!Array.isArray(e))return console.error("请传入一个tree数组");var n=new Set,i=c(e,r);function o(e,t){e.forEach((function(r){String(r[a.key])===String(t)&&(n.add(r[a.key]),r.isLeaf&&n.delete(r[a.key]),o(e,r[a.pkey]))}))}return o(i,t),Array.from(n).reverse().filter((function(e){return e!==t}))}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{pkey:"pkey",key:"key",title:"title"},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{pkey:"pkey",key:"key"};if(!Array.isArray(e))return console.error("请传入一个tree数组");var i=new Set,o=c(e,a);function l(e,t){e.forEach((function(a){String(a[n.key])===String(t)&&(i.add(a[r]),l(e,a[n.pkey]))}))}return l(o,t),Array.from(i).reverse()}function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{pkey:"pkey",key:"key",title:"title"};if(!Array.isArray(e))return console.error("请传入一个tree数组");var n=c(e,a),i=n.filter((function(e){return String(e[r])===String(t)}));return Array.isArray(i)&&1===i.length?i[0]:null}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{key:"key",label:"title"};if(!Array.isArray(e))return console.error("请传入一个字典数组");var a=e.filter((function(e){return String(e[r.key])===String(t)}));return a&&0!==a.length?a[0][r.label]:""}},f46a:function(e,t,r){"use strict";r("6161")},fa7d:function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return o}));var a=r("5530"),n=(r("2909"),r("d3b7"),r("b64b"),r("ddb0"),r("13d5"),r("4ec9"),r("3ca3"),r("2b3d"),r("9861"),r("d81d"),r("caad"),r("2532"),r("a9e3"),r("f2be"));r.d(t,"b",(function(){return n["c"]}));Object.prototype.toString,function(){document.addEventListener}(),function(){document.removeEventListener}();var i=function(e,t,r,n){return null===t||void 0===t?void 0:t.map((function(t){var i=Object(a["a"])({},t);for(var o in t)e.includes(o)&&("/"===n?i[o]/=r:i[o]*=r);return i}))},o=function(e,t){if(e){var r=document.createElement("a");r.style.display="none",r.href=e,r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}}}]);
//# sourceMappingURL=chunk-89a714b4.d59d0f34.js.map